function setCookie(t,e,i){var n=(i=i||{}).expires;if("number"==typeof n&&n){var o=new Date;o.setTime(o.getTime()+1e3*n),n=i.expires=o}n&&n.toUTCString&&(i.expires=n.toUTCString());var s=t+"="+(e=encodeURIComponent(e));for(var a in i){s+="; "+a;var r=i[a];!0!==r&&(s+="="+r)}document.cookie=s}function adaptive(){var t=$(".header_top"),e=$("#mainsidebar"),i=$("#mainnewscolumn"),n=getCurrentWidth();if($(".mainmenu").prepend('<a class="version_switcher" id="go_to_full">\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0434\u0435\u0441\u043a\u0442\u043e\u043f \u0432\u0435\u0440\u0441\u0438\u044e \u0441\u0430\u0439\u0442\u0430</a>'),t.find(".wrapper").append('<a class="hamburger"><span class="line" /><span class="line" /><span class="line" /></a>'),t.find(".mmsearch").insertBefore(t.find(".mainmenu")),t.on("touchstart",".hamburger",function(){$(this).toggleClass("m-active"),t.find(".mmsearch, .mainmenu").toggle()}),$(".mainmenu .menubar").prepend($(".secondmenu .menubar").html()),$(".header_body").find(".wrapper").append('<div class="header__links"><a class="header__live-link" href="/sounds/stream.html">\u041f\u0440\u044f\u043c\u043e\u0439 \u044d\u0444\u0438\u0440</a><a class="header__podcasts-link" href="/podcasts/">\u041f\u043e\u0434\u043a\u0430\u0441\u0442\u044b</a></div>'),i.length?i.after('<div class="sidebar"><div id="adv_0"></div></div>'):$(".main").before('<div class="sidebar"><div id="adv_0"></div></div>'),1!==window.gfi&&adv_insert("adv_0"),e.insertAfter("#onair").show(),$(".supermaincarousel").addClass("owl-carousel owl-theme").owlCarousel({margin:0,touchDrag:!0,autoHeight:!0,responsive:{0:{items:1},480:{items:2}}}),$(".previewcarousel").find(".carousel").removeClass("carousel").addClass("owl-carousel owl-theme").owlCarousel({touchDrag:!0,autoHeight:!0,margin:20,responsive:{0:{items:1},480:{items:2},740:{items:3}}}),$("#onair").on("click","h2",function(){location.href="/schedule/"}),$("iframe[src*='videos']").on("load",function(){var t=$(this);t.css({width:n-40,height:n-40}),setTimeout(function(){var e=t.contents();e.find("[id*=otv_play], .content_video-dimensions").css({width:n-40,height:n-40}),e.find("video").css({width:n-40,top:0}),e.find("body").css({margin:0}),n<360&&e.find(".vjs-remaining-time").addClass("vjs-hidden")},5e3)}),"/"===window.location.pathname){var o,s=1;for(o=n<=480?"2n":n<=720?"4n":"6n",$(".mainpreview").find(".preview:nth-child("+o+")").after(function(){if(!(s>10))return'<div id="adv_'+s+++'" class="adv_banner"></div>'});s>1;)adv_insert("adv_"+--s)}}function passwordSwitcher(){$(".switch-password").off("click.switchPass").on("click.switchPass",function(){var t=$(this),e=$(this).parent().find("input");t.hasClass("visible")?(t.removeClass("visible"),e.attr("type","text")):(t.addClass("visible"),e.attr("type","password"))})}function setSlider(t){var e=!0;t.css("overflow","hidden"),0==t.find(".scroll-content").length&&t.children().wrapAll('<div class="scroll-content"> /');var i=t.find(".scroll-content").height()-t.height();if(t.data("difference",i),i<=0&&t.find(".slider-wrap").length>0&&(t.find(".slider-wrap").remove(),t.find(".scroll-content").css({top:0})),i>0){var n=i/t.find(".scroll-content").height(),o=Math.round((1-n)*t.height());o-=o%2;var s=t.find(".scroll-content").position(),a=100*(1-Math.abs(s.top)/i);0==t.find(".slider-wrap").length&&(t.append('<div class="slider-wrap"><div class="slider-vertical"></div></div>'),a=100),t.find(".slider-wrap").height(t.height()),t.find(".slider-vertical").slider({orientation:"vertical",min:0,max:100,range:"min",value:a,slide:function(e,n){var o=-(100-n.value)*i/100;t.find(".scroll-content").css({top:o}),$("ui-slider-range").height(n.value+"%")},change:function(e,i){var n=-(100-i.value)*(t.find(".scroll-content").height()-t.height())/100;t.find(".scroll-content").css({top:n}),$("ui-slider-range").height(i.value+"%")}}),t.find(".ui-slider-handle").css({height:o,"margin-bottom":-.5*o});var r=t.height(),l=r-o,c=.5*(r-l);t.find(".ui-slider").css({height:l,"margin-top":c}),t.find(".ui-slider-range").css({bottom:-c}),e&&($(".ui-slider-handle").append('<span class="scrollbar-top" />'),$(".ui-slider-handle").append('<span class="scrollbar-bottom" />'),$(".ui-slider-handle").append('<span class="scrollbar-grip" />'))}$(".ui-slider").click(function(t){t.stopPropagation()}),$(".slider-wrap").click(function(t){var e=$(this).offset().top,i=100*(t.pageY-e)/$(this).height();$(this).find(".slider-vertical").slider("value",100-i)}),$.fn.mousewheel&&(t.unmousewheel(),t.mousewheel(function(e,i){var n=Math.round(5e3/t.data("difference"));n<1&&(n=1),n>100&&(n=100);var o=$(this).find(".slider-vertical").slider("value");o+=i*n,$(this).find(".slider-vertical").slider("value",o),e.preventDefault()}))}
/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
*/function setQuality(t,e,i,n){$(e).addClass("active").siblings().removeClass("active"),$("#notaplayer_"+t).jPlayer("setMedia",{mp3:i}).jPlayer("playHead",0).jPlayer("play"),localStorage.setItem("mediaQuality",n)}function isNoAnotherPage(t){var e=$(t),i=e.attr("href");return!i||""!=i&&"#"!=i.substring(0,1)&&"javascript:"!=i.substring(0,11)&&!e.attr("target")&&"external"!=e.attr("rel")&&"ajax"!=e.attr("rel")}function bodyclassName(t,e,i){echoears||(t.width()<1300?(_columns=4,e.removeClass("widescreen")):(_columns=5,e.addClass("widescreen"))),i.length>0&&i.height()<$("#mainsidebar").height()?(_columns--,e.addClass("smallheight")):e.removeClass("smallheight")}function attacheWheelEvents(t,e){t.addEventListener?"onwheel"in document?t.addEventListener("wheel",e,!1):"onmousewheel"in document?t.addEventListener("mousewheel",e,!1):t.addEventListener("MozMousePixelScroll",e,!1):t.attachEvent("onmousewheel",e)}function pageUp(){var t,e=$(".up_link");touchdevice||$(window).scroll(function(){window.clearTimeout(t),t=window.setTimeout(function(){$(document).scrollTop()>$(window).height()?e.slideDown(200):e.slideUp(100)},100)})}function popularblFunc(){var t,e=$(".popular");if(0!==e.length&&!touchdevice){null!=localStorage.getItem("lock")&&"2"==localStorage.getItem("lock")&&($(".up_link").css("bottom",0),$(".popular").removeClass("open")),e.find(".door").on("click",function(){return"2"==localStorage.getItem("lock")?($(".up_link").css("bottom",80),e.addClass("open"),localStorage.setItem("lock","1")):($(".up_link").css("bottom",0),e.removeClass("open"),localStorage.setItem("lock","2")),!1});var i=$(".header_body").height()+$(".header_body").offset().top,n=$(".footer .links_block").offset().top;$(window).scroll(function(){window.clearTimeout(t),t=window.setTimeout(function(){var t=$(document).scrollTop()+$(window).height()-537;$(document).scrollTop()>i&&t<n?e.addClass("fixedpopul"):e.removeClass("fixedpopul")},100)})}}function aab(t){t.blocked}function setQualityPodcast(t,e,i,n){$(e).addClass("active").siblings().removeClass("active"),$("#notaplayer_"+t).jPlayer("setMedia",{mp3:i}).jPlayer("playHead",0).jPlayer("play"),localStorage.setItem("mediaQualityPodcast",n)}!function(t,e){var i;(function(){var e=t(document).data("events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length})()&&t.error("jquery-ujs has already been loaded!"),t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var o,s,a,r,l,c,h,d;if(i.fire(n,"ajax:before")){if(l=(r=n.data("cross-domain"))===e?null:r,c=n.data("with-credentials")||null,h=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),s=n.attr("action"),a=n.serializeArray();var u=n.data("ujs:submit-button");u&&(a.push(u),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),s=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(o=n.data("method"),s=i.href(n),a=n.data("params")||null);d={type:o||"GET",data:a,dataType:h,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},xhrFields:{withCredentials:c},crossDomain:l},s&&(d.url=s);var p=i.ajax(d);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var o=i.href(n),s=n.data("method"),a=n.attr("target"),r=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),c=t('<form method="post" action="'+o+'"></form>'),h='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&r!==e&&(h+='<input name="'+l+'" value="'+r+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(h).appendTo("body"),c.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),o=!1;return!n||(i.fire(t,"confirm")&&(o=i.confirm(n),e=i.fire(t,"confirm:complete",[o])),o&&e)},blankInputs:function(e,i,n){var o,s=t(),a=i||"input,textarea";return e.find(a).each(function(){o=t(this),(o.is(":checkbox,:radio")?o.is(":checked"):o.val())==!!n&&(s=s.add(o))}),!!s.length&&s},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var o=i.data("events"),s=!0;return o!==e&&o.submit!==e&&t.each(o.submit,function(t,e){if("function"==typeof e.handler)return s=e.handler(n)}),s},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var o=t(this),s=o.data("method"),a=o.data("params");return i.allowAction(o)?(o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==e?!(!n.metaKey&&!n.ctrlKey||s&&"GET"!==s||a)||(!1===i.handleRemote(o)&&i.enableElement(o),!1):o.data("method")?(i.handleMethod(o),!1):void 0):i.stopEverything(n)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var o=t(this),s=o.data("remote")!==e,a=i.blankInputs(o,i.requiredInputSelector),r=i.nonBlankInputs(o,i.fileInputSelector);return i.allowAction(o)?a&&o.attr("novalidate")==e&&i.fire(o,"ajax:aborted:required",[a])?i.stopEverything(n):s?r?(setTimeout(function(){i.disableFormElements(o)},13),i.fire(o,"ajax:aborted:file",[r])):!t.support.submitBubbles&&t().jquery<"1.7"&&!1===i.callFormSubmitBindings(o,n)?i.stopEverything(n):(i.handleRemote(o),!1):void setTimeout(function(){i.disableFormElements(o)},13):i.stopEverything(n)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),s=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(t,e,i,n){function o(e,i){this.settings=null,this.options=t.extend({},o.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(o.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(o.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,o={width:"auto","margin-left":n?e:"","margin-right":n?"":e};!i&&this.$stage.children().css(o),t.css=o}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,o=!this.settings.autoWidth,s=[];for(t.items={merge:!1,width:e};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,s[n]=o?e*i:this._items[n].width();this._widths=s}},{filter:["items","settings"],run:function(){var e=[],i=this._items,n=this.settings,o=Math.max(2*n.items,4),s=2*Math.ceil(i.length/2),a=n.loop&&i.length?n.rewind?o:Math.max(o,s):0,r="",l="";for(a/=2;a--;)e.push(this.normalize(e.length/2,!0)),r+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),l=i[e[e.length-1]][0].outerHTML+l;this._clones=e,t(r).addClass("cloned").appendTo(this.$stage),t(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,n=0,o=0,s=[];++i<e;)n=s[i-1]||0,o=this._widths[this.relative(i)]+this.settings.margin,s.push(n+o*t);this._coordinates=s}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],n.eq(e).css(t.css);else i&&(t.css.width=t.items.width,n.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,n,o=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,a=this.coordinates(this.current())+s,r=a+this.width()*o,l=[];for(i=0,n=this._coordinates.length;i<n;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+s*o,(this.op(t,"<=",a)&&this.op(t,">",r)||this.op(e,"<",a)&&this.op(e,">",r))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],o.prototype.initialize=function(){var e,i,o;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,o=this.$element.children(i).width(),e.length&&o<=0&&this.preloadAutoWidthImages(e));this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,n=-1,o=null;i?(t.each(i,function(t){t<=e&&t>n&&(n=Number(t))}),"function"==typeof(o=t.extend({},this.options,i[n])).stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):o=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=n,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},o.prototype.update=function(){for(var e=0,i=this._pipe.length,n=t.proxy(function(t){return this[t]},this._invalidated),o={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,n).length>0)&&this._pipe[e].run(o),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(t){switch(t=t||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},o.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(e){var n=null;3!==e.which&&(t.support.transform?n={x:(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===n.length?12:4],y:n[16===n.length?13:5]}:(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(t.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var n=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},o.prototype.onDragMove=function(t){var e=null,i=null,n=null,o=this.difference(this._drag.pointer,this.pointer(t)),s=this.difference(this._drag.stage.start,o);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,s.x=((s.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*o.x/5:0,s.x=Math.max(Math.min(s.x,e+n),i+n)),this._drag.stage.current=s,this.animate(s.x))},o.prototype.onDragEnd=function(e){var n=this.difference(this._drag.pointer,this.pointer(e)),o=this._drag.stage.current,s=n.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==n.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(e,i){var n=-1,o=30,s=this.width(),a=this.coordinates();return this.settings.freeDrag||t.each(a,t.proxy(function(t,r){return"left"===i&&e>r-o&&e<r+o?n=t:"right"===i&&e>r-s-o&&e<r-s+o?n=t+1:this.op(e,"<",r)&&this.op(e,">",a[t+1]||r-s)&&(n="left"===i?t+1:t),-1===n},this)),this.settings.loop||(this.op(e,">",a[this.minimum()])?n=e=this.minimum():this.op(e,"<",a[this.maximum()])&&(n=e=this.maximum())),n},o.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},o.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},o.prototype.current=function(t){if(t===n)return this._current;if(0===this._items.length)return n;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==n&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},o.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},o.prototype.reset=function(t){(t=this.normalize(t))!==n&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},o.prototype.normalize=function(t,e){var i=this._items.length,o=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=n:(t<0||t>=i+o)&&(t=((t-o/2)%i+i)%i+o/2),t},o.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},o.prototype.maximum=function(t){var e,i,n,o=this.settings,s=this._coordinates.length;if(o.loop)s=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){for(e=this._items.length,i=this._items[--e].width(),n=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>n););s=e+1}else s=o.center?this._items.length-1:this._items.length-o.items;return t&&(s-=this._clones.length/2),Math.max(s,0)},o.prototype.minimum=function(t){return t?0:this._clones.length/2},o.prototype.items=function(t){return t===n?this._items.slice():(t=this.normalize(t,!0),this._items[t])},o.prototype.mergers=function(t){return t===n?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},o.prototype.clones=function(e){var i=this._clones.length/2,o=i+this._items.length,s=function(t){return t%2==0?o+t/2:i-(t+1)/2};return e===n?t.map(this._clones,function(t,e){return s(e)}):t.map(this._clones,function(t,i){return t===e?s(i):null})},o.prototype.speed=function(t){return t!==n&&(this._speed=t),this._speed},o.prototype.coordinates=function(e){var i,o=1,s=e-1;return e===n?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(o=-1,s=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[s]||0))/2*o):i=this._coordinates[s]||0,i=Math.ceil(i))},o.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},o.prototype.to=function(t,e){var i=this.current(),n=null,o=t-this.relative(i),s=(o>0)-(o<0),a=this._items.length,r=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>a/2&&(o+=-1*s*a),(n=(((t=i+o)-r)%a+a)%a+r)!==t&&n-o<=l&&n-o>0&&(i=n-o,t=n,this.reset(i))):this.settings.rewind?t=(t%(l+=1)+l)%l:t=Math.max(r,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},o.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},o.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},o.prototype.onTransitionEnd=function(t){if(t!==n&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},o.prototype.viewport=function(){var n;return this.options.responsiveBaseElement!==e?n=t(this.options.responsiveBaseElement).width():t(e).width()?n=t(e).width():i.documentElement&&i.documentElement.clientWidth?n=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),n},o.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(e,i){var o=this.relative(this._current);i=i===n?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[o]&&this.reset(this._items[o].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},o.prototype.remove=function(t){(t=this.normalize(t,!0))!==n&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},o.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},o.prototype.destroy=function(){for(var n in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(t,e,i){var n=this.settings.rtl;switch(e){case"<":return n?t>i:t<i;case">":return n?t<i:t>i;case">=":return n?t<=i:t>=i;case"<=":return n?t>=i:t<=i}},o.prototype.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},o.prototype.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i)},o.prototype.trigger=function(e,i,n){var s={item:{count:this._items.length,index:this.current()}},a=t.camelCase(t.grep(["on",e,n],function(t){return t}).join("-").toLowerCase()),r=t.Event([e,"owl",n||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},s,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(r)}),this.register({type:o.Type.Event,name:e}),this.$element.trigger(r),this.settings&&"function"==typeof this.settings[a]&&this.settings[a].call(this,r)),r},o.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===n&&(this._states.current[e]=0),this._states.current[e]++},this))},o.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},o.prototype.register=function(e){if(e.type===o.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===o.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,n){return t.inArray(i,this._states.tags[e.name])===n},this)))},o.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},o.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},o.prototype.pointer=function(t){var i={x:null,y:null};return(t=(t=t.originalEvent||t||e.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},o.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},o.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),s=n.data("owl.carousel");s||(s=new o(this,"object"==typeof e&&e),n.data("owl.carousel",s),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){s.register({type:o.Type.Event,name:i}),s.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),s[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},s))})),"string"==typeof e&&"_"!==e.charAt(0)&&s[e].apply(s,i)})},t.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(t,e){var i=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,i;for(t in e.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,o=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*o||0,a=(e.property&&e.property.value!==n?e.property.value:this._core.current())+s,r=this._core.clones().length,l=t.proxy(function(t,e){this.load(e)},this);s++<o;)this.load(r/2+this._core.relative(a)),r&&t.each(this._core.clones(this._core.relative(a)),l),a++},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1},o.prototype.load=function(i){var n=this._core.$stage.children().eq(i),o=n&&n.find(".owl-lazy");!o||t.inArray(n.get(0),this._loaded)>-1||(o.each(t.proxy(function(i,n){var o,s=t(n),a=e.devicePixelRatio>1&&s.attr("data-src-retina")||s.attr("data-src");this._core.trigger("load",{element:s,url:a},"lazy"),s.is("img")?s.one("load.owl.lazy",t.proxy(function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:a},"lazy")},this)).attr("src",a):((o=new Image).onload=t.proxy(function(){s.css({"background-image":'url("'+a+'")',opacity:"1"}),this._core.trigger("loaded",{element:s,url:a},"lazy")},this),o.src=a)},this)),this._loaded.push(n.get(0)))},o.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(t){var e=function(i){this._core=i,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),
"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,n=this._core.$stage.children().toArray().slice(e,i),o=[],s=0;t.each(n,function(e,i){o.push(t(i).height())}),s=Math.max.apply(null,o),this._core.$stage.parent().height(s).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(t,e,i){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",n=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),o=t.attr("data-width")||this._core.settings.videoWidth,s=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if((n=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[a]={type:i,id:n,width:o,height:s},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},n.prototype.thumbnail=function(e,i){var n,o,s,a=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",r=e.find("img"),l="src",c="",h=this._core.settings,d=function(t){o='<div class="owl-video-play-icon"></div>',n=h.lazyLoad?'<div class="owl-video-tn '+c+'" '+l+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(n),e.after(o)};if(e.wrap('<div class="owl-video-wrapper"'+a+"></div>"),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),r.length)return d(r.attr(l)),r.remove(),!1;"youtube"===i.type?(s="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",d(s)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t[0].thumbnail_large,d(s)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t.framegrab_url,d(s)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,n=t(e.target).closest("."+this._core.settings.itemClass),o=this._videos[n.attr("data-video")],s=o.width||"100%",a=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),"youtube"===o.type?i='<iframe width="'+s+'" height="'+a+'" src="//www.youtube.com/embed/'+o.id+"?autoplay=1&rel=0&v="+o.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===o.type?i='<iframe src="//player.vimeo.com/video/'+o.id+'?autoplay=1" width="'+s+'" height="'+a+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===o.type&&(i='<iframe frameborder="0"height="'+a+'"width="'+s+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+o.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this.core=e,this.core.options=t.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(a)),s&&o.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(s))}},o.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(t,e,i){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(n,o){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(o||this._core.settings.autoplaySpeed)},this),n||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t){"use strict";var e=function(i){this._core=i,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var e,i=this._core.settings;for(e in this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var n=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(n,i.dotsSpeed)},this)),this._overrides)this._core[e]=t.proxy(this[e],this)},e.prototype.destroy=function(){var t,e,i,n;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.clones().length/2,n=i+this._core.items().length,o=this._core.maximum(!0),s=this._core.settings,a=s.center||s.autoWidth||s.dotsData?1:s.dotsEach||s.items;if("page"!==s.slideBy&&(s.slideBy=Math.min(s.slideBy,s.items)),s.dots||"page"==s.slideBy)for(this._pages=[],t=i,e=0,0;t<n;t++){if(e>=a||0===e){if(this._pages.push({start:Math.min(o,t-i),end:t-i+a-1}),Math.min(o,t-i)===o)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var e,i=this._core.settings,n=this._core.items().length<=i.items,o=this._core.relative(this._core.current()),s=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!s&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},e.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t){return t.start<=e&&t.end>=e},this)).pop()},e.prototype.getPosition=function(e){var i,n,o=this._core.settings;return"page"==o.slideBy?(i=t.inArray(this.current(),this._pages),n=this._pages.length,e?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,e?i+=o.slideBy:i-=o.slideBy),i},e.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},e.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},e.prototype.to=function(e,i,n){var o;!n&&this._pages.length?(o=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%o+o)%o].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){"use strict";var o=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),o=t.map(this._hashes,function(t,e){return t===n?e:null}).join();if(!o||e.location.hash.slice(1)===o)return;e.location.hash=o}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(){var t=e.location.hash.substring(1),i=this._core.$stage.children(),o=this._hashes[t]&&i.index(this._hashes[t]);o!==n&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var i,n;for(i in t(e).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){function o(e,i){var o=!1,s=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+r.join(s+" ")+s).split(" "),function(t,e){if(a[e]!==n)return o=!i||e,!1}),o}function s(t){return o(t,!0)}var a=t("<support>").get(0).style,r="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c={csstransforms:function(){return!!o("transform")},csstransforms3d:function(){return!!o("perspective")},csstransitions:function(){return!!o("transition")},cssanimations:function(){return!!o("animation")}};c.csstransitions()&&(t.support.transition=new String(s("transition")),t.support.transition.end=l.transition.end[t.support.transition]),c.cssanimations()&&(t.support.animation=new String(s("animation")),t.support.animation.end=l.animation.end[t.support.animation]),c.csstransforms()&&(t.support.transform=new String(s("transform")),t.support.transform3d=c.csstransforms3d())}(window.Zepto||window.jQuery,window,document);var addthis_config={services_compact:"email,link,telegram,google_plusone_share,more"};$(function(){window.isOperaMini||(window.is_adaptive?adaptive():getCurrentWidth()<=getMaxWidth()&&$("footer .copy").before('<a class="version_switcher" id="go_to_adaptive">\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0441\u0430\u0439\u0442\u0430</a>'),$("body").on("click","#go_to_adaptive",function(t){t.preventDefault(),setCookie("not_adaptive","0"),window.ga&&ga instanceof Function&&ga("send","event","switch","to_responsive"),location.reload()}).on("click","#go_to_full",function(t){t.preventDefault(),setCookie("not_adaptive","1"),setCookie("not_adaptive_header","1",{expires:3600}),window.ga&&ga instanceof Function&&ga("send","event","switch","to_desktop"),location.reload()}))}),$(function(){$(".adv_inside, .video_adv_1").on("DOMSubtreeModified",function(){var t=$(this),e=t.children("div"),i="left";t.width()>480&&(i="none"),t.add(e).css("float",i)})}),function(){function t(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t}function e(){var t,e,i=arguments,n={},o=function(t,e){var i,n;for(n in"object"!=typeof t&&(t={}),e)e.hasOwnProperty(n)&&((i=e[n])&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?t[n]=o(t[n]||{},i):t[n]=e[n]);return t};for(!0===i[0]&&(n=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)n=o(n,i[t]);return n}function i(){for(var t=0,e=arguments,i=e.length,n={};t<i;t++)n[e[t++]]=e[t];return n}function n(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function s(t){return"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t}function l(t){return ft.log(t)/ft.LN10}function c(t){return ft.pow(10,t)}function h(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function d(t){return t!==W&&null!==t}function u(t,e,i){var n,a,r="setAttribute";if(o(e))d(i)?t[r](e,i):t&&t.getAttribute&&(a=t.getAttribute(e));else if(d(e)&&s(e))for(n in e)t[r](n,e[n]);return a}function p(t){return a(t)?t:[t]}function f(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(null!=(e=i[t]))return e}function m(e,i){Pt&&i&&i.opacity!==W&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function g(e,i,n,o,s){var a=ut.createElement(e);return i&&t(a,i),s&&m(a,{padding:0,border:Kt,margin:0}),n&&m(a,n),o&&o.appendChild(a),a}function v(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function y(t,e,i,o){var s=V.lang,a=+t||0,r=-1===e?(a.toString().split(".")[1]||"").length:isNaN(e=_t(e))?2:e,l=i===undefined?s.decimalPoint:i,c=o===undefined?s.thousandsSep:o,h=a<0?"-":"",d=String(n(a=_t(a).toFixed(r))),u=d.length>3?d.length%3:0;return h+(u?d.substr(0,u)+c:"")+d.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+c)+(r?l+_t(a-d).toFixed(r).slice(2):"")}function b(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function _(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function w(t,e){var i,n=/f$/,o=/\.([0-9])/,s=V.lang;return e=n.test(t)?y(e,i=(i=t.match(o))?i[1]:-1,s.decimalPoint,t.indexOf(",")>-1?s.thousandsSep:""):Y(t,e)}function x(t,e){for(var i,n,o,s,a,r,l,c="{",h=!1,d=[];-1!==(l=t.indexOf(c));){if(i=t.slice(0,l),h){for(a=(o=(n=i.split(":")).shift().split(".")).length,r=e,s=0;s<a;s++)r=r[o[s]];n.length&&(r=w(n.join(":"),r)),d.push(r)}else d.push(i);t=t.slice(l+1),c=(h=!h)?"}":"{"}return d.push(t),d.join("")}function k(t){return ft.pow(10,gt(ft.log(t)/ft.LN10))}function C(t,e,i,n){var o,s;for(o=t/(i=f(i,1)),e||(e=[1,2,2.5,5,10],n&&!1===n.allowDecimals&&(1===i?e=[1,2,5,10]:i<=.1&&(e=[1/i]))),s=0;s<e.length&&(t=e[s],!(o<=(e[s]+(e[s+1]||e[s]))/2));s++);return t*=i}function T(){this.color=0,this.symbol=0}function S(t,e){var i,n,o=t.length;for(n=0;n<o;n++)t[n].ss_i=n;for(t.sort(function(t,n){return 0===(i=e(t,n))?t.ss_i-n.ss_i:i}),n=0;n<o;n++)delete t[n].ss_i}function P(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function E(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function j(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function L(t){U||(U=g(Wt)),t&&U.appendChild(t),U.innerHTML=""}function I(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;pt.console&&console.log(i)}function O(t){return parseFloat(t.toPrecision(14))}function A(t,e){G=f(t,e.animation)}function D(){var t=V.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";J=6e4*(t&&V.global.timezoneOffset||0),Z=t?Date.UTC:function(t,e,i,n,o,s){return new Date(t,e,f(i,1),f(n,0),f(o,0),f(s,0)).getTime()},tt=e+"Minutes",et=e+"Hours",it=e+"Day",nt=e+"Date",ot=e+"Month",st=e+"FullYear",at=i+"Minutes",rt=i+"Hours",lt=i+"Date",ct=i+"Month",ht=i+"FullYear"}function M(t){return V=e(!0,V,t),D(),V}function z(){return V}function B(){}function N(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function R(){this.init.apply(this,arguments)}function $(t,e,i,n,o,s){var a=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=o,this.percent="percent"===s,this.alignOptions={align:e.align||(a?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(a?"middle":i?"bottom":"top"),y:f(e.y,a?4:i?14:-6),x:f(e.x,a?i?-6:6:0)},this.textAlign=e.textAlign||(a?i?"right":"left":"center")}function F(){this.init.apply(this,arguments)}function H(){this.init.apply(this,arguments)}var W,q,U,V,Y,G,X,K,Q,Z,J,tt,et,it,nt,ot,st,at,rt,lt,ct,ht,dt,ut=document,pt=window,ft=Math,mt=ft.round,gt=ft.floor,vt=ft.ceil,yt=ft.max,bt=ft.min,_t=ft.abs,wt=ft.cos,xt=ft.sin,kt=ft.PI,Ct=2*kt/360,Tt=navigator.userAgent,St=pt.opera,Pt=/msie/i.test(Tt)&&!St,Et=8===ut.documentMode,jt=/AppleWebKit/.test(Tt),Lt=/Firefox/.test(Tt),It=/(Mobile|Android|Windows Phone)/.test(Tt),Ot="http://www.w3.org/2000/svg",At=!!ut.createElementNS&&!!ut.createElementNS(Ot,"svg").createSVGRect,Dt=Lt&&parseInt(Tt.split("Firefox/")[1],10)<4,Mt=!At&&!Pt&&!!ut.createElement("canvas").getContext,zt=ut.documentElement.ontouchstart!==W,Bt={},Nt=0,Rt=function(){},$t=[],Ft="Highcharts",Ht="3.0.9",Wt="div",qt="absolute",Ut="relative",Vt="hidden",Yt="highcharts-",Gt="visible",Xt="px",Kt="none",Qt="M",Zt="L",Jt=/^[0-9]+$/,te="rgba(192,192,192,"+(At?1e-4:.002)+")",ee="",ie="hover",ne="select",oe="millisecond",se="second",ae="minute",re="hour",le="day",ce="week",he="month",de="year",ue="stroke-width",pe={};pt.Highcharts=pt.Highcharts?I(16,!0):{},Y=function(e,i,n){if(!d(i)||isNaN(i))return"Invalid date";e=f(e,"%Y-%m-%d %H:%M:%S");var o,s=new Date(i-J),a=s[et](),r=s[it](),l=s[nt](),c=s[ot](),h=s[st](),u=V.lang,p=u.weekdays,m=t({a:p[r].substr(0,3),A:p[r],d:b(l),e:l,b:u.shortMonths[c],B:u.months[c],m:b(c+1),y:h.toString().substr(2,2),Y:h,H:b(a),I:b(a%12||12),l:a%12||12,M:b(s[tt]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:b(s.getSeconds()),L:b(mt(i%1e3),3)},Highcharts.dateFormats);for(o in m)for(;-1!==e.indexOf("%"+o);)e=e.replace("%"+o,"function"==typeof m[o]?m[o](i):m[o]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},T.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},K=i(oe,1,se,1e3,ae,6e4,re,36e5,le,864e5,ce,6048e5,he,26784e5,de,31556952e3),X={init:function(t,e,i){e=e||"";var n,o,s,a,r,l=t.shift,c=e.indexOf("C")>-1,h=c?7:3,d=e.split(" "),u=[].concat(i),p=function(t){for(s=t.length;s--;)t[s]===Qt&&t.splice(s+1,0,t[s+1],t[s+2],t[s+1],t[s+2])};if(c&&(p(d),p(u)),t.isArea&&(a=d.splice(d.length-6,6),r=u.splice(u.length-6,6)),l<=u.length/h&&d.length===u.length)for(;l--;)u=[].concat(u).splice(0,h).concat(u);if(t.shift=0,d.length)for(n=u.length;d.length<n;)o=[].concat(d).splice(d.length-h,h),c&&(o[h-6]=o[h-2],o[h-5]=o[h-1]),d=d.concat(o);return a&&(d=d.concat(a),u=u.concat(r)),[d,u]},step:function(t,e,i,n){var o,s=[],a=t.length;if(1===i)s=n;else if(a===e.length&&i<1)for(;a--;)o=parseFloat(t[a]),s[a]=isNaN(o)?t[a]:i*parseFloat(e[a]-o)+o;else s=e;return s}},dt=pt.jQuery,pt.HighchartsAdapter=pt.HighchartsAdapter||dt&&{init:function(t){var e,i=dt.fx,n=i.step,s=dt.Tween,a=s&&s.propHooks,r=dt.cssHooks.opacity;dt.extend(dt.easing,{easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i}}),dt.each(["cur","_default","width","height","opacity"],function(t,e){var o,r=n;"cur"===e?r=i.prototype:"_default"===e&&s&&(r=a[e],e="set"),(o=r[e])&&(r[e]=function(i){var n;if("align"!==(i=t?i:this).prop)return(n=i.elem).attr?n.attr(i.prop,"cur"===e?W:i.now):o.apply(this,arguments)})}),_(r,"get",function(t,e,i){return e.attr?e.opacity||0:t.call(this,e,i)}),e=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},s?a.d={set:e}:n.d=e,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;i<n;i++)if(!1===e.call(t[i],t[i],i,t))return i},dt.fn.highcharts=function(){var t,e,i="Chart",n=arguments;return o(n[0])&&(i=n[0],n=Array.prototype.slice.call(n,1)),(t=n[0])!==W&&(t.chart=t.chart||{},t.chart.renderTo=this[0],new Highcharts[i](t,n[1]),e=this),t===W&&(e=$t[u(this[0],"data-highcharts-chart")]),e}},getScript:dt.getScript,inArray:dt.inArray,adapterRun:function(t,e){return dt(t)[e]()},grep:dt.grep,map:function(t,e){for(var i=[],n=0,o=t.length;n<o;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return dt(t).offset()},addEvent:function(t,e,i){dt(t).bind(e,i)},removeEvent:function(t,e,i){var n=ut.removeEventListener?"removeEventListener":"detachEvent";ut[n]&&t&&!t[n]&&(t[n]=function(){}),dt(t).unbind(e,i)},fireEvent:function(e,i,n,o){var s,a=dt.Event(i),r="detached"+i;!Pt&&n&&(delete n.layerX,delete n.layerY),t(a,n),e[i]&&(e[r]=e[i],e[i]=null),dt.each(["preventDefault","stopPropagation"],function(t,e){var i=a[e];a[e]=function(){try{i.call(a)}catch(t){"preventDefault"===e&&(s=!0)}}}),dt(e).trigger(a),e[r]&&(e[i]=e[r],e[r]=null),!o||a.isDefaultPrevented()||s||o(a)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===W&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,e,i){var n=dt(t);t.style||(t.style={}),e.d&&(t.toD=e.d,e.d=1),n.stop(),e.opacity!==W&&t.attr&&(e.opacity+="px"),n.animate(e,i)},stop:function(t){dt(t).stop()}};var fe=pt.HighchartsAdapter,me=fe||{};fe&&fe.init.call(fe,X);var ge=me.adapterRun,ve=me.getScript,ye=me.inArray,be=me.each,_e=me.grep,we=me.offset,xe=me.map,ke=me.addEvent,Ce=me.removeEvent,Te=me.fireEvent,Se=me.washMouseEvent,Pe=me.animate,Ee=me.stop,je={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}},Le=(V={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(je,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":y(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:qt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:qt,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Ut,top:"1em"},style:{position:qt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:At,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:It?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions,Ie=Le.line;D();var Oe=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Ae=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,De=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Me=function(t){function i(t){t&&t.stops?c=xe(t.stops,function(t){return Me(t[1])}):(l=Oe.exec(t))?h=[n(l[1]),n(l[2]),n(l[3]),parseFloat(l[4],10)]:(l=Ae.exec(t))?h=[n(l[1],16),n(l[2],16),n(l[3],16),1]:(l=De.exec(t))&&(h=[n(l[1]),n(l[2]),n(l[3]),1])}function o(i){var n;return c?((n=e(t)).stops=[].concat(n.stops),be(c,function(t,e){
n.stops[e]=[n.stops[e][0],t.get(i)]})):n=h&&!isNaN(h[0])?"rgb"===i?"rgb("+h[0]+","+h[1]+","+h[2]+")":"a"===i?h[3]:"rgba("+h.join(",")+")":t,n}function s(t){if(c)be(c,function(e){e.brighten(t)});else if(r(t)&&0!==t){var e;for(e=0;e<3;e++)h[e]+=n(255*t),h[e]<0&&(h[e]=0),h[e]>255&&(h[e]=255)}return this}function a(t){return h[3]=t,this}var l,c,h=[];return i(t),{get:o,brighten:s,rgba:h,setOpacity:a}};B.prototype={init:function(t,e){var i=this;i.element="span"===e?g(e):ut.createElementNS(Ot,e),i.renderer=t,i.attrSetters={}},opacity:1,animate:function(t,i,n){var o=f(i,G,!0);Ee(this),o?(o=e(o),n&&(o.complete=n),Pe(this,t,o)):(this.attr(t),n&&n())},attr:function(t,e){var i,s,a,r,l,c,h,p,m,g=this,v=g.element,y=v.nodeName.toLowerCase(),b=g.renderer,_=g.attrSetters,w=g.shadows,x=g;if(o(t)&&d(e)&&(i=t,(t={})[i]=e),o(t))i=t,"circle"===y?i={x:"cx",y:"cy"}[i]||i:"strokeWidth"===i&&(i="stroke-width"),x=u(v,i)||g[i]||0,"d"!==i&&"visibility"!==i&&"fill"!==i&&(x=parseFloat(x));else{for(i in t)if(c=!1,s=t[i],!1!==(a=_[i]&&_[i].call(g,s,i))){if(a!==W&&(s=a),"d"===i)s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if("x"===i&&"text"===y)for(r=0;r<v.childNodes.length;r++)u(l=v.childNodes[r],"x")===u(v,"x")&&u(l,"x",s);else if(!g.rotation||"x"!==i&&"y"!==i)if("fill"===i)s=b.color(s,v,i);else if("circle"!==y||"x"!==i&&"y"!==i)if("rect"===y&&"r"===i)u(v,{rx:s,ry:s}),c=!0;else if("translateX"===i||"translateY"===i||"rotation"===i||"verticalAlign"===i||"scaleX"===i||"scaleY"===i)m=!0,c=!0;else if("stroke"===i)s=b.color(s,v,i);else if("dashstyle"===i){if(i="stroke-dasharray","solid"===(s=s&&s.toLowerCase()))s=Kt;else if(s){for(r=(s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;r--;)s[r]=n(s[r])*f(t["stroke-width"],g["stroke-width"]);s=s.join(",")}}else"width"===i?s=n(s):"align"===i?(i="text-anchor",s={left:"start",center:"middle",right:"end"}[s]):"title"===i&&((h=v.getElementsByTagName("title")[0])||(h=ut.createElementNS(Ot,"title"),v.appendChild(h)),h.textContent=s);else i={x:"cx",y:"cy"}[i]||i;else m=!0;if("strokeWidth"===i&&(i="stroke-width"),"stroke-width"!==i&&"stroke"!==i||(g[i]=s,g.stroke&&g["stroke-width"]?(u(v,"stroke",g.stroke),u(v,"stroke-width",g["stroke-width"]),g.hasStroke=!0):"stroke-width"===i&&0===s&&g.hasStroke&&(v.removeAttribute("stroke"),g.hasStroke=!1),c=!0),g.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(p||(g.symbolAttr(t),p=!0),c=!0),w&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i))for(r=w.length;r--;)u(w[r],i,"height"===i?yt(s-(w[r].cutHeight||0),0):s);("width"===i||"height"===i)&&"rect"===y&&s<0&&(s=0),g[i]=s,"text"===i?(s!==g.textStr&&delete g.bBox,g.textStr=s,g.added&&b.buildText(g)):c||u(v,i,s)}m&&g.updateTransform()}return x},addClass:function(t){var e=this.element,i=u(e,"class")||"";return-1===i.indexOf(t)&&u(e,"class",i+" "+t),this},symbolAttr:function(t){var e=this;be(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=f(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Kt)},crisp:function(t,e,i,n,o){var s,a,r=this,l={},c={};for(s in t=t||r.strokeWidth||r.attr&&r.attr("stroke-width")||0,a=mt(t)%2/2,c.x=gt(e||r.x||0)+a,c.y=gt(i||r.y||0)+a,c.width=gt((n||r.width||0)-2*a),c.height=gt((o||r.height||0)-2*a),c.strokeWidth=t,c)r[s]!==c[s]&&(r[s]=l[s]=c[s]);return l},css:function(e){var i,o=this,s=o.element,a=o.textWidth=e&&e.width&&"text"===s.nodeName.toLowerCase()&&n(e.width),r="",l=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),e=t(o.styles,e),o.styles=e,a&&delete e.width,Pt&&!At)m(o.element,e);else{for(i in e)r+=i.replace(/([A-Z])/g,l)+":"+e[i]+";";u(s,"style",r)}return a&&o.added&&o.renderer.buildText(o),o},on:function(t,e){var i=this,n=i.element;return zt&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===Tt.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,o=e.scaleX,s=e.scaleY,a=e.inverted,r=e.rotation;a&&(i+=e.attr("width"),n+=e.attr("height")),t=["translate("+i+","+n+")"],a?t.push("rotate(90) scale(-1,1)"):r&&t.push("rotate("+r+" "+(e.x||0)+" "+(e.y||0)+")"),(d(o)||d(s))&&t.push("scale("+f(o,1)+" "+f(s,1)+")"),t.length&&u(e.element,"transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,s,a,r,l,c={},d=this.renderer,u=d.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,i&&!o(i)||(this.alignTo=l=i||"renderer",h(u,this),u.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,l=this.alignTo),i=f(i,d[l],d),n=t.align,s=t.verticalAlign,a=(i.x||0)+(t.x||0),r=(i.y||0)+(t.y||0),"right"!==n&&"center"!==n||(a+=(i.width-(t.width||0))/{right:1,center:2}[n]),c[e?"translateX":"x"]=mt(a),"bottom"!==s&&"middle"!==s||(r+=(i.height-(t.height||0))/({bottom:1,middle:2}[s]||1)),c[e?"translateY":"y"]=mt(r),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(){var e,i,n,o=this,s=o.bBox,a=o.renderer,r=o.rotation,l=o.element,c=o.styles,h=r*Ct,d=o.textStr;if((""===d||Jt.test(d))&&(n=d.length+"|"+c.fontSize+"|"+c.fontFamily,s=a.cache[n]),!s){if(l.namespaceURI===Ot||a.forExport){try{s=l.getBBox?t({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight}}catch(u){}(!s||s.width<0)&&(s={width:0,height:0})}else s=o.htmlGetBBox();a.isSVG&&(e=s.width,i=s.height,Pt&&c&&"11px"===c.fontSize&&"16.9"===i.toPrecision(3)&&(s.height=i=14),r&&(s.width=_t(i*xt(h))+_t(e*wt(h)),s.height=_t(i*wt(h))+_t(e*xt(h)))),o.bBox=s,n&&(a.cache[n]=s)}return s},show:function(){return this.attr({visibility:Gt})},hide:function(){return this.attr({visibility:Vt})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,i,o,s,a=this.renderer,r=t||a,l=r.element||a.box,c=l.childNodes,h=this.element,p=u(h,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,this.textStr!==undefined&&a.buildText(this),p&&(r.handleZ=!0,p=n(p)),r.handleZ)for(o=0;o<c.length;o++)if(i=u(e=c[o],"zIndex"),e!==h&&(n(i)>p||!d(p)&&d(i))){l.insertBefore(h,e),s=!0;break}return s||l.appendChild(h),this.added=!0,Te(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i,n=this,o=n.element||{},s=n.shadows,a=n.renderer.isSVG&&"SPAN"===o.nodeName&&n.parentGroup;if(o.onclick=o.onmouseout=o.onmouseover=o.onmousemove=o.point=null,Ee(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(i=0;i<n.stops.length;i++)n.stops[i]=n.stops[i].destroy();n.stops=null}for(n.safeRemoveChild(o),s&&be(s,function(t){n.safeRemoveChild(t)});a&&0===a.div.childNodes.length;)t=a.parentGroup,n.safeRemoveChild(a.div),delete a.div,a=t;for(e in n.alignTo&&h(n.renderer.alignedObjects,n),n)delete n[e];return null},shadow:function(t,e,i){var n,o,s,a,r,l,c=[],h=this.element;if(t){for(a=f(t.width,3),r=(t.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+f(t.offsetX,1)+", "+f(t.offsetY,1)+")",n=1;n<=a;n++)s=2*a+1-2*n,u(o=h.cloneNode(0),{isShadow:"true",stroke:t.color||"black","stroke-opacity":r*n,"stroke-width":s,transform:"translate"+l,fill:Kt}),i&&(u(o,"height",yt(u(o,"height")-s,0)),o.cutHeight=s),e?e.element.appendChild(o):h.parentNode.insertBefore(o,h),c.push(o);this.shadows=c}return this}};var ze,Be,Ne,Re,$e=function(){this.init.apply(this,arguments)};if($e.prototype={Element:B,init:function(t,e,i,n){var o,s,a,r,l=this,c=location;s=(o=l.createElement("svg").attr({version:"1.1"})).element,t.appendChild(s),-1===t.innerHTML.indexOf("xmlns")&&u(s,"xmlns",Ot),l.isSVG=!0,l.box=s,l.boxWrapper=o,l.alignedObjects=[],l.url=(Lt||jt)&&ut.getElementsByTagName("base").length?c.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(ut.createTextNode("Created with "+Ft+" "+Ht)),l.defs=this.createElement("defs").add(),l.forExport=n,l.gradients={},l.cache={},l.setSize(e,i,!1),Lt&&t.getBoundingClientRect&&(l.subPixelFix=a=function(){m(t,{left:0,top:0}),r=t.getBoundingClientRect(),m(t,{left:vt(r.left)-r.left+Xt,top:vt(r.top)-r.top+Xt})},a(),ke(pt,"resize",a))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),j(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&Ce(pt,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,i=this,o=i.forExport,s=f(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),a=e.childNodes,r=/style="([^"]+)"/,l=/href="(http[^"]+)"/,c=u(e,"x"),h=t.styles,d=t.textWidth,p=h&&h.lineHeight,g=a.length,v=function(t){return p?n(p):i.fontMetrics(/px$/.test(t&&t.style.fontSize)?t.style.fontSize:h.fontSize||11).h};g--;)e.removeChild(a[g]);d&&!t.added&&this.box.appendChild(e),""===s[s.length-1]&&s.pop(),be(s,function(n,s){var a,p=0;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),a=n.split("|||"),be(a,function(n){if(""!==n||1===a.length){var f,g={},y=ut.createElementNS(Ot,"tspan");if(r.test(n)&&u(y,"style",f=n.match(r)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),l.test(n)&&!o&&(u(y,"onclick",'location.href="'+n.match(l)[1]+'"'),m(y,{cursor:"pointer"}))," "!==(n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))&&(y.appendChild(ut.createTextNode(n)),p?g.dx=0:g.x=c,u(y,g),!p&&s&&(!At&&o&&m(y,{display:"block"}),u(y,"dy",v(y),jt&&y.offsetHeight)),e.appendChild(y),p++,d))for(var b,_=n.replace(/([^\^])-/g,"$1- ").split(" "),w=_.length>1&&"nowrap"!==h.whiteSpace,x=t._clipHeight,k=[],C=v(),T=1;w&&(_.length||k.length);)delete t.bBox,b=t.getBBox().width,!At&&i.forExport&&(b=i.measureSpanWidth(y.firstChild.data,t.styles)),b>d&&1!==_.length?(y.removeChild(y.firstChild),k.unshift(_.pop())):(_=k,k=[],_.length&&(x&&++T*C>x?(_=["..."],t.attr("title",t.textStr)):(u(y=ut.createElementNS(Ot,"tspan"),{dy:C,x:c}),f&&u(y,"style",f),e.appendChild(y),b>d&&(d=b)))),_.length&&y.appendChild(ut.createTextNode(_.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,o,s,a,r,l,c,h){var d,u,p,f,m,g,v=this.label(i,n,o,h,null,null,null,null,"button"),y=0,b="style",_={x1:0,y1:0,x2:0,y2:1};return a=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:_,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},a),p=a[b],delete a[b],r=e(a,{stroke:"#68A",fill:{linearGradient:_,stops:[[0,"#FFF"],[1,"#ACF"]]}},r),f=r[b],delete r[b],l=e(a,{stroke:"#68A",fill:{linearGradient:_,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),m=l[b],delete l[b],c=e(a,{style:{color:"#CCC"}},c),g=c[b],delete c[b],ke(v.element,Pt?"mouseover":"mouseenter",function(){3!==y&&v.attr(r).css(f)}),ke(v.element,Pt?"mouseout":"mouseleave",function(){3!==y&&(d=[a,r,l][y],u=[p,f,m][y],v.attr(d).css(u))}),v.setState=function(t){v.state=y=t,t?2===t?v.attr(l).css(m):3===t&&v.attr(c).css(g):v.attr(a).css(p)},v.on("click",function(){3!==y&&s.call(v)}).attr(a).css(t({cursor:"default"},p))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=mt(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=mt(t[2])+e%2/2),t},path:function(e){var i={fill:Kt};return a(e)?i.d=e:s(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=s(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,o,a){var r;return s(t)&&(e=t.y,i=t.r,n=t.innerR,o=t.start,a=t.end,t=t.x),(r=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:o||0,end:a||0})).r=i,r},rect:function(t,e,i,n,o,a){o=s(t)?t.r:o;var r=this.createElement("rect").attr({rx:o,ry:o,fill:Kt});return r.attr(s(t)?t:r.crisp(a,t,e,yt(i,0),yt(n,0)))},setSize:function(t,e,i){var n=this,o=n.alignedObjects,s=o.length;for(n.width=t,n.height=e,n.boxWrapper[f(i,!0)?"animate":"attr"]({width:t,height:e});s--;)o[s].align()},g:function(t){var e=this.createElement("g");return d(t)?e.attr({"class":Yt+t}):e},image:function(e,i,n,o,s){var a,r={preserveAspectRatio:Kt};return arguments.length>1&&t(r,{x:i,y:n,width:o,height:s}),(a=this.createElement("image").attr(r)).element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("hc-svg-href",e),a},symbol:function(e,i,n,o,s,a){var r,l,c,h,d=this.symbols[e],u=d&&d(mt(i),mt(n),o,s,a),p=/^url\((.*?)\)$/;return u?(t(r=this.path(u),{symbolName:e,x:i,y:n,width:o,height:s}),a&&t(r,a)):p.test(e)&&(h=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(mt((o-e[0])/2),mt((s-e[1])/2)))},l=e.match(p)[1],c=Bt[l],(r=this.image(l).attr({x:i,y:n})).isImg=!0,c?h(r,c):(r.attr({width:0,height:0}),g("img",{onload:function(){h(r,Bt[l]=[this.width,this.height])},src:l}))),r},symbols:{circle:function(t,e,i,n){var o=.166*i;return[Qt,t+i/2,e,"C",t+i+o,e,t+i+o,e+n,t+i/2,e+n,"C",t-o,e+n,t-o,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Qt,t,e,Zt,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Qt,t+i/2,e,Zt,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Qt,t,e,Zt,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Qt,t+i/2,e,Zt,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,o){var s=o.start,a=o.r||i||n,r=o.end-.001,l=o.innerR,c=o.open,h=wt(s),d=xt(s),u=wt(r),p=xt(r),f=o.end-s<kt?0:1;return[Qt,t+a*h,e+a*d,"A",a,a,0,f,1,t+a*u,e+a*p,c?Qt:Zt,t+l*u,e+l*p,"A",l,l,0,f,0,t+l*h,e+l*d,c?"":"Z"]}},clipRect:function(t,e,i,n){var o,s=Yt+Nt++,a=this.createElement("clipPath").attr({id:s}).add(this.defs);return(o=this.rect(t,e,i,n,0).add(a)).id=s,o.clipPath=a,o},color:function(t,i,n){var o,s,r,l,c,h,p,f,m,g,v,y=this,b=/^rgba/,_=[];if(t&&t.linearGradient?s="linearGradient":t&&t.radialGradient&&(s="radialGradient"),s){for(g in r=t[s],l=y.gradients,h=t.stops,m=i.radialReference,a(r)&&(t[s]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&m&&!d(r.gradientUnits)&&(r=e(r,{cx:m[0]-m[2]/2+r.cx*m[2],cy:m[1]-m[2]/2+r.cy*m[2],r:r.r*m[2],gradientUnits:"userSpaceOnUse"})),r)"id"!==g&&_.push(g,r[g]);for(g in h)_.push(h[g]);return l[_=_.join(",")]?v=l[_].id:(r.id=v=Yt+Nt++,l[_]=c=y.createElement(s).attr(r).add(y.defs),c.stops=[],be(h,function(t){var e;b.test(t[1])?(o=Me(t[1]),p=o.get("rgb"),f=o.get("a")):(p=t[1],f=1),e=y.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(c),c.stops.push(e)})),"url("+y.url+"#"+v+")"}return b.test(t)?(u(i,n+"-opacity",(o=Me(t)).get("a")),o.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var o,s=this,a=V.chart.style,r=Mt||!At&&s.forExport;return n&&!s.forExport?s.html(t,e,i):(e=mt(f(e,0)),i=mt(f(i,0)),o=s.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:a.fontFamily,fontSize:a.fontSize}),r&&o.css({position:qt}),o.x=e,o.y=i,o)},fontMetrics:function(t){var e=(t=n(t||11))<24?t+4:mt(1.2*t);return{h:e,b:mt(.8*e)}},label:function(i,n,o,s,a,r,l,c,h){function u(){var t,i,n=S.element.style;v=(y===undefined||b===undefined||T.styles.textAlign)&&S.getBBox(),T.width=(y||v.width||0)+2*E+j,T.height=(b||v.height||0)+2*E,x=E+C.fontMetrics(n&&n.fontSize).b,k&&(g||(t=mt(-P*E),i=c?-x:0,T.box=g=s?C.symbol(s,t,i,T.width,T.height,I):C.rect(t,i,T.width,T.height,0,I[ue]),g.add(T)),g.isImg||g.attr(e({width:T.width,height:T.height},I)),I=null)}function p(){var t,e=T.styles,i=e&&e.textAlign,n=j+E*(1-P);t=c?0:x,!d(y)||"center"!==i&&"right"!==i||(n+={center:.5,right:1}[i]*(y-v.width)),n===S.x&&t===S.y||S.attr({x:n,y:t}),S.x=n,S.y=t}function f(t,e){g?g.attr(t,e):I[t]=e}function m(){S.add(T),T.attr({text:i,x:n,y:o}),g&&d(a)&&T.attr({anchorX:a,anchorY:r})}var g,v,y,b,_,w,x,k,C=this,T=C.g(h),S=C.text("",0,0,l).attr({zIndex:1}),P=0,E=3,j=0,L=0,I={},O=T.attrSetters;ke(T,"add",m),O.width=function(t){return y=t,!1},O.height=function(t){return b=t,!1},O.padding=function(t){return d(t)&&t!==E&&(E=t,p()),!1},O.paddingLeft=function(t){return d(t)&&t!==j&&(j=t,p()),!1},O.align=function(t){return P={left:0,center:.5,right:1}[t],!1},O.text=function(t,e){return S.attr(e,t),u(),p(),!1},O[ue]=function(t,e){return k=!0,L=t%2/2,f(e,t),!1},O.stroke=O.fill=O.r=function(t,e){return"fill"===e&&(k=!0),f(e,t),!1},O.anchorX=function(t,e){return a=t,f(e,t+L-_),!1},O.anchorY=function(t,e){return r=t,f(e,t-w),!1},O.x=function(t){return T.x=t,t-=P*((y||v.width)+E),_=mt(t),T.attr("translateX",_),!1},O.y=function(t){return w=T.y=mt(t),T.attr("translateY",w),!1};var A=T.css;return t(T,{css:function(t){if(t){var i={};t=e(t),be(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(e){t[e]!==W&&(i[e]=t[e],delete t[e])}),S.css(i)}return A.call(T,t)},getBBox:function(){return{width:v.width+2*E,height:v.height+2*E,x:v.x-E,y:v.y-E}},shadow:function(t){return g&&g.shadow(t),T},destroy:function(){Ce(T,"add",m),Ce(T.element,"mouseenter"),Ce(T.element,"mouseleave"),S&&(S=S.destroy()),g&&(g=g.destroy()),B.prototype.destroy.call(T),T=C=u=p=f=m=null}})}},q=$e,t(B.prototype,{htmlCss:function(e){var i=this,n=i.element,o=e&&"SPAN"===n.tagName&&e.width;return o&&(delete e.width,i.textWidth=o,i.updateTransform()),i.styles=t(i.styles,e),m(i.element,e),i},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;return i||("text"===e.nodeName&&(e.style.position=qt),i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(this.added){var t=this,e=t.renderer,i=t.element,o=t.translateX||0,s=t.translateY||0,a=t.x||0,r=t.y||0,l=t.textAlign||"left",c={left:0,center:.5,right:1}[l],h=t.shadows;if(m(i,{marginLeft:o,marginTop:s}),h&&be(h,function(t){m(t,{marginLeft:o+1,marginTop:s+1})}),t.inverted&&be(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var u,p,g=t.rotation,v=n(t.textWidth),y=[g,l,i.innerHTML,t.textWidth].join(",");y!==t.cTT&&(p=e.fontMetrics(i.style.fontSize).b,d(g)&&t.setSpanRotation(g,c,p),(u=f(t.elemWidth,i.offsetWidth))>v&&/[ \-]/.test(i.textContent||i.innerText)&&(m(i,{width:v+Xt,display:"block",whiteSpace:"normal"}),u=v),t.getSpanCorrection(u,p,c,g,l)),m(i,{left:a+(t.xCorr||0)+Xt,top:r+(t.yCorr||0)+Xt}),jt&&(p=i.offsetHeight),t.cTT=y}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var n={},o=Pt?"-ms-transform":jt?"-webkit-transform":Lt?"MozTransform":St?"-o-transform":"";n[o]=n.transform="rotate("+t+"deg)",n[o+(Lt?"Origin":"-origin")]=100*e+"% "+i+"px",m(this.element,n)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),t($e.prototype,{html:function(e,i,n){var o=V.chart.style,s=this.createElement("span"),a=s.attrSetters,r=s.element,l=s.renderer;return a.text=function(t){return t!==r.innerHTML&&delete this.bBox,r.innerHTML=t,!1},a.x=a.y=a.align=a.rotation=function(t,e){return"align"===e&&(e="textAlign"),s[e]=t,s.htmlUpdateTransform(),!1},s.attr({text:e,x:mt(i),y:mt(n)}).css({position:qt,whiteSpace:"nowrap",fontFamily:o.fontFamily,fontSize:o.fontSize}),s.css=s.htmlCss,l.isSVG&&(s.add=function(e){var i,n,o=l.box.parentNode,a=[];if(this.parentGroup=e,e){if(!(i=e.div)){for(n=e;n;)a.push(n),n=n.parentGroup;be(a.reverse(),function(e){var n;i=e.div=e.div||g(Wt,{className:u(e.element,"class")},{position:qt,left:(e.translateX||0)+Xt,top:(e.translateY||0)+Xt},i||o),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+Xt},translateY:function(t){n.top=t+Xt},visibility:function(t,e){n[e]=t}})})}}else i=o;return i.appendChild(r),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}}),!At&&!Mt){Highcharts.VMLElement=Be={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],o=["position: ",qt,";"],s=e===Wt;("shape"===e||s)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",s?Vt:Gt),n.push(' style="',o.join(""),'"/>'),e&&(n=s||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=g(n)),i.renderer=t,i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,o=i.box,s=t&&t.inverted,a=t?t.element||t:o;return s&&i.invertChild(n,a),a.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),Te(e,"add"),e},updateTransform:B.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=wt(t*Ct),i=xt(t*Ct);m(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):Kt})},getSpanCorrection:function(t,e,i,n,o){var s,a=n?wt(n*Ct):1,r=n?xt(n*Ct):0,l=f(this.elemHeight,this.element.offsetHeight),c=o&&"left"!==o;this.xCorr=a<0&&-t,this.yCorr=r<0&&-l,s=a*r<0,this.xCorr+=r*e*(s?1-i:i),this.yCorr-=a*e*(n?s?i:1-i:1),c&&(this.xCorr-=t*i*(a<0?-1:1),n&&(this.yCorr-=l*i*(r<0?-1:1)),m(this.element,{textAlign:o}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)r(t[e])?i[e]=mt(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},attr:function(t,e){var i,n,s,a,l,c,h=this,p=h.element||{},f=p.style,m=p.nodeName,v=h.renderer,y=h.symbolName,b=h.shadows,_=h.attrSetters,w=h;if(o(t)&&d(e)&&(i=t,(t={})[i]=e),o(t))w="strokeWidth"===(i=t)||"stroke-width"===i?h.strokeweight:h[i];else for(i in t)if(n=t[i],c=!1,!1!==(a=_[i]&&_[i].call(h,n,i))&&null!==n){if(a!==W&&(n=a),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(h.symbolAttr(t),l=!0),c=!0;else if("d"===i){if(n=n||[],h.d=n.join(" "),p.path=n=h.pathToVML(n),b)for(s=b.length;s--;)b[s].path=b[s].cutOff?this.cutOffPath(n,b[s].cutOff):n;c=!0}else if("visibility"===i){if(b)for(s=b.length;s--;)b[s].style[i]=n;"DIV"===m&&(n=n===Vt?"-999em":0,Et||(f[i]=n?Gt:Vt),i="top"),f[i]=n,c=!0}else if("zIndex"===i)n&&(f[i]=n),c=!0;else if(-1!==ye(i,["x","y","width","height"]))h[i]=n,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:n=yt(0,n),h.updateClipping?(h[i]=n,h.updateClipping()):f[i]=n,c=!0;else if("class"===i&&"DIV"===m)p.className=n;else if("stroke"===i)n=v.color(n,p,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)p.stroked=!!n,h[i="strokeweight"]=n,r(n)&&(n+=Xt);else if("dashstyle"===i){(p.getElementsByTagName("stroke")[0]||g(v.prepVML(["<stroke/>"]),null,null,p))[i]=n||"solid",h.dashstyle=n,c=!0}else"fill"===i?"SPAN"===m?f.color=n:"IMG"!==m&&(p.filled=n!==Kt,n=v.color(n,p,i,h),i="fillcolor"):"opacity"===i?c=!0:"shape"===m&&"rotation"===i?(h[i]=p.style[i]=n,p.style.left=-mt(xt(n*Ct)+1)+Xt,p.style.top=mt(wt(n*Ct))+Xt):"translateX"!==i&&"translateY"!==i&&"rotation"!==i||(h[i]=n,h.updateTransform(),c=!0);c||(Et?p[i]=n:u(p,i,n))}return w},clip:function(t){var e,i,n=this;return t?(h(e=t.members,n),e.push(n),n.destroyClip=function(){h(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Et?"inherit":"rect(auto)"}),n.css(i)},css:B.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&L(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),B.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=pt.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return 9!==(i=(t=t.split(/[ ,]/)).length)&&11!==i||(t[i-4]=t[i-2]=n(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var o,s,a,r,l,c,h,d=[],u=this.element,p=this.renderer,m=u.style,v=u.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(c=f(t.width,3),h=(t.opacity||.15)/c,o=1;o<=3;o++)r=2*c+1-2*o,i&&(l=this.cutOffPath(v.value,r+.5)),a=['<shape isShadow="true" strokeweight="',r,'" filled="false" path="',l,'" coordsize="10 10" style="',u.style.cssText,'" />'],s=g(p.prepVML(a),null,{left:n(m.left)+f(t.offsetX,1),top:n(m.top)+f(t.offsetY,1)}),i&&(s.cutOff=r+1),a=['<stroke color="',t.color||"black",'" opacity="',h*o,'"/>'],g(p.prepVML(a),null,null,s),e?e.element.appendChild(s):u.parentNode.insertBefore(s,u),d.push(s);this.shadows=d}return this}};var Fe={Element:Be=v(B,Be),isIE8:Tt.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,o,s,a=this;if(a.alignedObjects=[],(o=(n=a.createElement(Wt)).element).style.position=Ut,t.appendChild(n.element),a.isVML=!0,a.box=o,a.boxWrapper=n,a.cache={},a.setSize(e,i,!1),!ut.namespaces.hcv){ut.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),s="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{ut.createStyleSheet().cssText=s}catch(r){ut.styleSheets[0].cssText+=s}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,o){var a=this.createElement(),r=s(e);return t(a,{members:[],left:(r?e.x:e)+1,top:(r?e.y:i)+1,width:(r?e.width:n)-1,height:(r?e.height:o)-1,getCSS:function(e){var i=e.element,n=i.nodeName,o="shape"===n,s=e.inverted,a=this,r=a.top-(o?i.offsetTop:0),l=a.left,c=l+a.width,h=r+a.height,d={clip:"rect("+mt(s?l:r)+"px,"+mt(s?h:c)+"px,"+mt(s?c:h)+"px,"+mt(s?r:l)+"px)"};return!s&&Et&&"DIV"===n&&t(d,{width:c+Xt,height:h+Xt}),d},updateClipping:function(){be(a.members,function(t){t.css(a.getCSS(t))})}})},color:function(t,e,i,n){var o,s,a,r=this,l=/^rgba/,c=Kt;if(t&&t.linearGradient?a="gradient":t&&t.radialGradient&&(a="pattern"),a){var h,d,u,p,f,m,v,y,b,_,w,x,k=t.linearGradient||t.radialGradient,C="",T=t.stops,S=[],P=function(){s=['<fill colors="'+S.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',a,'" ',C,'focus="100%" method="any" />'],g(r.prepVML(s),null,null,e)};if(w=T[0],x=T[T.length-1],w[0]>0&&T.unshift([0,w[1]]),x[0]<1&&T.push([1,x[1]]),be(T,function(t,e){l.test(t[1])?(o=Me(t[1]),h=o.get("rgb"),d=o.get("a")):(h=t[1],d=1),S.push(100*t[0]+"% "+h),e?(y=d,b=h):(v=d,_=h)}),"fill"===i)if("gradient"===a)u=k.x1||k[0]||0,p=k.y1||k[1]||0,f=k.x2||k[2]||0,m=k.y2||k[3]||0,C='angle="'+(90-180*ft.atan((m-p)/(f-u))/kt)+'"',P();else{var E,j=k.r,L=2*j,I=2*j,O=k.cx,A=k.cy,D=e.radialReference,M=function(){D&&(E=n.getBBox(),O+=(D[0]-E.x)/E.width-.5,A+=(D[1]-E.y)/E.height-.5,L*=D[2]/E.width,I*=D[2]/E.height),C='src="'+V.global.VMLRadialGradientURL+'" size="'+L+","+I+'" origin="0.5,0.5" position="'+O+","+A+'" color2="'+_+'" ',P()};n.added?M():ke(n,"add",M),c=b}else c=h}else if(l.test(t)&&"IMG"!==e.tagName)o=Me(t),s=["<",i,' opacity="',o.get("a"),'"/>'],g(this.prepVML(s),null,null,e),c=o.get("rgb");else{var z=e.getElementsByTagName(i);z.length&&(z[0].opacity=1,z[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),t=i?-1===(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e):t.replace("<","<hcv:")},text:$e.prototype.html,path:function(e){var i={coordsize:"10 10"};return a(e)?i.d=e:s(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){var n=this.symbol("circle");return s(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:Yt+t,"class":Yt+t}),this.createElement(Wt).attr(e)},image:function(t,e,i,n,o){var s=this.createElement("img").attr({src:t});return arguments.length>1&&s.attr({x:e,y:i,width:n,height:o}),s},rect:function(t,e,i,n,o,a){var r=this.symbol("rect");return r.r=s(t)?t.r:o,r.attr(s(t)?t:r.crisp(a,t,e,yt(i,0),yt(n,0)))},invertChild:function(t,e){var i=e.style;m(t,{flip:"x",left:n(i.width)-1,top:n(i.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,o){var s,a=o.start,r=o.end,l=o.r||i||n,c=o.innerR,h=wt(a),d=xt(a),u=wt(r),p=xt(r);return r-a==0?["x"]:(s=["wa",t-l,e-l,t+l,e+l,t+l*h,e+l*d,t+l*u,e+l*p],o.open&&!c&&s.push("e",Qt,t,e),s.push("at",t-c,e-c,t+c,e+c,t+c*u,e+c*p,t+c*h,e+c*d,"x","e"),s.isArc=!0,s)},circle:function(t,e,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,o){var s,a,r=t+i,l=e+n;return d(o)&&o.r?(a=bt(o.r,i,n),s=[Qt,t+a,e,Zt,r-a,e,"wa",r-2*a,e,r,e+2*a,r-a,e,r,e+a,Zt,r,l-a,"wa",r-2*a,l-2*a,r,l,r,l-a,r-a,l,Zt,t+a,l,"wa",t,l-2*a,t+2*a,l,t+a,l,t,l-a,Zt,t,e+a,"wa",t,e,t+2*a,e+2*a,t,e+a,t+a,e,"x","e"]):s=$e.prototype.symbols.square.apply(0,arguments),s}}};Highcharts.VMLRenderer=ze=function(){this.init.apply(this,arguments)},ze.prototype=e($e.prototype,Fe),q=ze}$e.prototype.measureSpanWidth=function(t,e){var i,n=ut.createElement("span"),o=ut.createTextNode(t);return n.appendChild(o),m(n,e),this.box.appendChild(n),i=n.offsetWidth,L(n),i},Mt&&(Highcharts.CanVGRenderer=Ne=function(){Ot="http://www.w3.org/1999/xhtml"},Ne.prototype.symbols={},Re=function(){function t(){var t,i=e.length;for(t=0;t<i;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&ve(n,t),e.push(i)}}}(),q=Ne),N.prototype={addLabel:function(){var e,i,n,o,s=this,a=s.axis,l=a.options,h=a.chart,u=a.horiz,p=a.categories,m=a.names,g=s.pos,v=l.labels,y=a.tickPositions,b=u&&p&&!v.step&&!v.staggerLines&&!v.rotation&&h.plotWidth/y.length||!u&&(h.margin[3]||.33*h.chartWidth),_=g===y[0],w=g===y[y.length-1],x=p?f(p[g],m[g],g):g,k=s.label,C=y.info;a.isDatetimeAxis&&C&&(o=l.dateTimeLabelFormats[C.higherRanks[g]||C.unitName]),s.isFirst=_,s.isLast=w,e=a.labelFormatter.call({axis:a,chart:h,isFirst:_,isLast:w,dateTimeLabelFormat:o,value:a.isLog?O(c(x)):x}),i=t(i=b&&{width:yt(1,mt(b-2*(v.padding||10)))+Xt},v.style),d(k)?k&&k.attr({text:e}).css(i):(n={align:a.labelAlign},r(v.rotation)&&(n.rotation=v.rotation),b&&v.ellipsis&&(n._clipHeight=a.len/y.length),s.label=d(e)&&v.enabled?h.renderer.text(e,0,0,v.useHTML).attr(n).css(i).add(a.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?t.getBBox()[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.label.getBBox(),e=this.axis,i=e.horiz,n=e.options.labels,o=i?t.width:t.height,s=i?o*{left:0,center:.5,right:1}[e.labelAlign]-n.x:o;return[-s,o-s]},handleOverflow:function(t,e){var i,n,o=!0,s=this.axis,a=this.isFirst,r=this.isLast,l=s.horiz?e.x:e.y,c=s.reversed,h=s.tickPositions,d=this.getLabelSides(),u=d[0],p=d[1],f=s.pos,m=f+s.len,g=this.label.line||0,v=s.labelEdge,y=s.justifyLabels&&(a||r);return v[g]===W||l+u>v[g]?v[g]=l+p:y||(o=!1),y&&(n=(i=s.ticks[h[t+(a?1:-1)]])&&i.label.xy&&i.label.xy.x+i.getLabelSides()[a?0:1],a&&!c||r&&c?l+u<f&&(l=f-u,i&&l+p>n&&(o=!1)):l+p>m&&(l=m-p,i&&l+u<n&&(o=!1)),e.x=l),o},getPosition:function(t,e,i,n){var o=this.axis,s=o.chart,a=n&&s.oldChartHeight||s.chartHeight;return{x:t?o.translate(e+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&s.oldChartWidth||s.chartWidth)-o.right-o.left:0),y:t?a-o.bottom+o.offset-(o.opposite?o.height:0):a-o.translate(e+i,null,null,n)-o.transB}},getLabelPosition:function(t,e,i,n,o,s,a,r){var l=this.axis,c=l.transA,h=l.reversed,u=l.staggerLines,p=l.chart.renderer.fontMetrics(o.style.fontSize).b,f=o.rotation;return t=t+o.x-(s&&n?s*c*(h?-1:1):0),e=e+o.y-(s&&!n?s*c*(h?1:-1):0),f&&2===l.side&&(e-=p-p*wt(f*Ct)),d(o.y)||f||(e+=p-i.getBBox().height/2),u&&(i.line=a/(r||1)%u,e+=i.line*(l.labelOffset/u)),{x:t,y:e}},getMarkPath:function(t,e,i,n,o,s){return s.crispLine([Qt,t,e,Zt,t+(o?0:-i),e+(o?i:0)],n)},render:function(t,e,i){var n,o,s,a=this,r=a.axis,l=r.options,c=r.chart.renderer,h=r.horiz,d=a.type,u=a.label,p=a.pos,m=l.labels,g=a.gridLine,v=d?d+"Grid":"grid",y=d?d+"Tick":"tick",b=l[v+"LineWidth"],_=l[v+"LineColor"],w=l[v+"LineDashStyle"],x=l[y+"Length"],k=l[y+"Width"]||0,C=l[y+"Color"],T=l[y+"Position"],S=a.mark,P=m.step,E=!0,j=r.tickmarkOffset,L=a.getPosition(h,p,j,e),I=L.x,O=L.y,A=h&&I===r.pos+r.len||!h&&O===r.pos?-1:1;this.isActive=!0,b&&(n=r.getPlotLinePath(p+j,b*A,e,!0),g===W&&(s={stroke:_,"stroke-width":b},w&&(s.dashstyle=w),d||(s.zIndex=1),e&&(s.opacity=0),a.gridLine=g=b?c.path(n).attr(s).add(r.gridGroup):null),!e&&g&&n&&g[a.isNew?"attr":"animate"]({d:n,opacity:i})),k&&x&&("inside"===T&&(x=-x),r.opposite&&(x=-x),o=a.getMarkPath(I,O,x,k*A,h,c),S?S.animate({d:o,opacity:i}):a.mark=c.path(o).attr({stroke:C,"stroke-width":k,opacity:i}).add(r.axisGroup)),u&&!isNaN(I)&&(u.xy=L=a.getLabelPosition(I,O,u,h,m,j,t,P),a.isFirst&&!a.isLast&&!f(l.showFirstLabel,1)||a.isLast&&!a.isFirst&&!f(l.showLastLabel,1)?E=!1:r.isRadial||m.step||m.rotation||e||0===i||(E=a.handleOverflow(t,L)),P&&t%P&&(E=!1),E&&!isNaN(L.y)?(L.opacity=i,u[a.isNew?"attr":"animate"](L),
a.isNew=!1):u.attr("y",-9999))},destroy:function(){j(this,this.axis)}};var He=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)};He.prototype={render:function(){var t,i,n,o,s,a,r,c=this,h=c.axis,u=h.horiz,p=(h.pointRange||0)/2,m=c.options,g=m.label,v=c.label,y=m.width,b=m.to,_=m.from,w=d(_)&&d(b),x=m.value,k=m.dashStyle,C=c.svgElem,T=[],S=m.color,j=m.zIndex,L=m.events,I=h.chart.renderer;if(h.isLog&&(_=l(_),b=l(b),x=l(x)),y)T=h.getPlotLinePath(x,y),r={stroke:S,"stroke-width":y},k&&(r.dashstyle=k);else{if(!w)return;_=yt(_,h.min-p),b=bt(b,h.max+p),T=h.getPlotBandPath(_,b,m),r={fill:S},m.borderWidth&&(r.stroke=m.borderColor,r["stroke-width"]=m.borderWidth)}if(d(j)&&(r.zIndex=j),C)T?C.animate({d:T},null,C.onGetPath):(C.hide(),C.onGetPath=function(){C.show()},v&&(c.label=v=v.destroy()));else if(T&&T.length&&(c.svgElem=C=I.path(T).attr(r).add(),L))for(i in t=function(t){C.on(t,function(e){L[t].apply(c,[e])})},L)t(i);return g&&d(g.text)&&T&&T.length&&h.width>0&&h.height>0?(g=e({align:u&&w&&"center",x:u?!w&&4:10,verticalAlign:!u&&w&&"middle",y:u?w?16:10:w?6:-4,rotation:u&&!w&&90},g),v||(c.label=v=I.text(g.text,0,0,g.useHTML).attr({align:g.textAlign||g.align,rotation:g.rotation,zIndex:j}).css(g.style).add()),n=[T[1],T[4],f(T[6],T[1])],o=[T[2],T[5],f(T[7],T[2])],s=P(n),a=P(o),v.align(g,!1,{x:s,y:a,width:E(n)-s,height:E(o)-a}),v.show()):v&&v.hide(),c},destroy:function(){h(this.axis.plotLinesAndBands,this),delete this.axis,j(this)}},Q={getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new He(this,t).render(),n=this.userOptions;return i&&(e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();be([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(o=e.length;o--;)e[o].id===t&&h(e,e[o])})}},R.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:je,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return y(this.total,-1)},style:je.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.coll=i?"xAxis":"yAxis",n.opposite=e.opposite,n.side=e.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(e);var o=this.options,s=o.type,a="datetime"===s;n.labelFormatter=o.labels.formatter||n.defaultLabelFormatter,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=o.reversed,n.zoomEnabled=!1!==o.zoomEnabled,n.categories=o.categories||"category"===s,n.names=[],n.isLog="logarithmic"===s,n.isDatetimeAxis=a,n.isLinked=d(o.linkedTo),n.tickmarkOffset=n.categories&&"between"===o.tickmarkPlacement?.5:0,n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=o.minRange||o.maxZoom,n.range=o.range,n.offset=o.offset||0,n.stacks={},n.oldStacks={},n.stackExtremes={},n.max=null,n.min=null,n.crosshair=f(o.crosshair,p(t.options.tooltip.crosshairs)[i?0:1],!1);var r,h=n.options.events;for(r in-1===ye(n,t.axes)&&(t.axes.push(n),t[n.coll].push(n)),n.series=n.series||[],t.inverted&&i&&n.reversed===W&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine,h)ke(n,r,h[r]);n.isLog&&(n.val2lin=l,n.lin2val=c)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(V[this.coll],t))},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,o=i.categories,s=this.dateTimeLabelFormat,a=V.lang.numericSymbols,r=a&&a.length,l=i.options.labels.format,c=i.isLog?n:i.tickInterval;if(l)e=x(l,this);else if(o)e=n;else if(s)e=Y(s,n);else if(r&&c>=1e3)for(;r--&&e===W;)c>=(t=Math.pow(1e3,r+1))&&null!==a[r]&&(e=y(n/t,-1)+a[r]);return e===W&&(e=n>=1e4?y(n,0):y(n,-1,W,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=null,t.stackExtremes={},t.buildStacks(),be(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var n,o,s,a=i.options.threshold;t.hasVisibleSeries=!0,t.isLog&&a<=0&&(a=null),t.isXAxis?(n=i.xData).length&&(t.dataMin=bt(f(t.dataMin,n[0]),P(n)),t.dataMax=yt(f(t.dataMax,n[0]),E(n))):(i.getExtremes(),s=i.dataMax,d(o=i.dataMin)&&d(s)&&(t.dataMin=bt(f(t.dataMin,o),o),t.dataMax=yt(f(t.dataMax,s),s)),d(a)&&(t.dataMin>=a?(t.dataMin=a,t.ignoreMinPadding=!0):t.dataMax<a&&(t.dataMax=a,t.ignoreMaxPadding=!0)))}})},translate:function(t,e,i,n,o,s){var a,l=this,c=l.len,h=1,d=0,u=n?l.oldTransA:l.transA,p=n?l.oldMin:l.min,f=l.minPixelPadding,m=(l.options.ordinal||l.isLog&&o)&&l.lin2val;return u||(u=l.transA),i&&(h*=-1,d=c),l.reversed&&(d-=(h*=-1)*c),e?(t=t*h+d,a=(t-=f)/u+p,m&&(a=l.lin2val(a))):(m&&(t=l.val2lin(t)),"between"===s&&(s=.5),a=h*(t-p)*u+d+h*f+(r(s)?u*s*l.pointRange:0)),a},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,o){var s,a,r,l,c,h=this,d=h.chart,u=h.left,p=h.top,m=i&&d.oldChartHeight||d.chartHeight,g=i&&d.oldChartWidth||d.chartWidth,v=h.transB;return o=f(o,h.translate(t,null,null,i)),s=r=mt(o+v),a=l=mt(m-o-v),isNaN(o)?c=!0:h.horiz?(a=p,l=m-h.bottom,(s<u||s>u+h.width)&&(c=!0)):(s=u,r=g-h.right,(a<p||a>p+h.height)&&(c=!0)),c&&!n?null:d.renderer.crispLine([Qt,s,a,Zt,r,l],e||1)},getLinearTickPositions:function(t,e,i){var n,o,s=O(gt(e/t)*t),a=O(vt(i/t)*t),r=[];for(n=s;n<=a&&(r.push(n),(n=O(n+t))!==o);)o=n;return r},getMinorTickPositions:function(){var t,e,i,n=this,o=n.options,s=n.tickPositions,a=n.minorTickInterval,r=[];if(n.isLog)for(i=s.length,e=1;e<i;e++)r=r.concat(n.getLogTickPositions(a,s[e-1],s[e],!0));else if(n.isDatetimeAxis&&"auto"===o.minorTickInterval)(r=r.concat(n.getTimeTicks(n.normalizeTimeTickInterval(a),n.min,n.max,o.startOfWeek)))[0]<n.min&&r.shift();else for(t=n.min+(s[0]-n.min)%a;t<=n.max;t+=a)r.push(t);return r},adjustForMinRange:function(){var t,e,i,n,o,s,a,r,l=this,c=l.options,h=l.min,u=l.max,p=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===W&&!l.isLog&&(d(c.min)||d(c.max)?l.minRange=null:(be(l.series,function(t){for(o=t.xData,s=t.xIncrement?1:o.length-1,i=s;i>0;i--)n=o[i]-o[i-1],(e===W||n<e)&&(e=n)}),l.minRange=bt(5*e,l.dataMax-l.dataMin))),u-h<l.minRange){var m=l.minRange;a=[h-(t=(m-u+h)/2),f(c.min,h-t)],p&&(a[2]=l.dataMin),r=[(h=E(a))+m,f(c.max,h+m)],p&&(r[2]=l.dataMax),(u=P(r))-h<m&&(a[0]=u-m,a[1]=f(c.min,u-m),h=E(a))}l.min=h,l.max=u},setAxisTranslation:function(t){var e,i,n=this,s=n.max-n.min,a=0,r=0,l=0,c=n.linkedParent,h=!!n.categories,u=n.transA;(n.isXAxis||h)&&(c?(r=c.minPointOffset,l=c.pointRangePadding):be(n.series,function(t){var i=yt(t.pointRange,+h),n=t.options.pointPlacement,c=t.closestPointRange;i>s&&(i=0),a=yt(a,i),r=yt(r,o(n)?0:i/2),l=yt(l,"on"===n?0:i),!t.noSharedTooltip&&d(c)&&(e=d(e)?bt(e,c):c)}),i=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=r*=i,n.pointRangePadding=l*=i,n.pointRange=bt(a,s),n.closestPointRange=e),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(s+l||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*r},setTickPositions:function(t){var e,i,n,o,s=this,a=s.chart,r=s.options,c=s.isLog,h=s.isDatetimeAxis,u=s.isXAxis,p=s.isLinked,m=s.options.tickPositioner,g=r.maxPadding,v=r.minPadding,y=r.tickInterval,b=r.minTickInterval,_=r.tickPixelInterval,w=s.categories;if(p?(s.linkedParent=a[s.coll][r.linkedTo],i=s.linkedParent.getExtremes(),s.min=f(i.min,i.dataMin),s.max=f(i.max,i.dataMax),r.type!==s.linkedParent.options.type&&I(11,1)):(s.min=f(s.userMin,r.min,s.dataMin),s.max=f(s.userMax,r.max,s.dataMax)),c&&(!t&&bt(s.min,f(s.dataMin,s.min))<=0&&I(10,1),s.min=O(l(s.min)),s.max=O(l(s.max))),s.range&&d(s.max)&&(s.userMin=s.min=yt(s.min,s.max-s.range),s.userMax=s.max,s.range=null),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),w||s.usePercentage||p||!d(s.min)||!d(s.max)||(e=s.max-s.min)&&(d(r.min)||d(s.userMin)||!v||!(s.dataMin<0)&&s.ignoreMinPadding||(s.min-=e*v),d(r.max)||d(s.userMax)||!g||!(s.dataMax>0)&&s.ignoreMaxPadding||(s.max+=e*g)),s.min===s.max||s.min===undefined||s.max===undefined?s.tickInterval=1:p&&!y&&_===s.linkedParent.options.tickPixelInterval?s.tickInterval=s.linkedParent.tickInterval:(s.tickInterval=f(y,w?1:(s.max-s.min)*_/yt(s.len,_)),!d(y)&&s.len<_&&!this.isRadial&&!w&&r.startOnTick&&r.endOnTick&&(o=!0,s.tickInterval/=4)),u&&!t&&be(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&(s.tickInterval=yt(s.pointRange,s.tickInterval)),!y&&s.tickInterval<b&&(s.tickInterval=b),h||c||y||(s.tickInterval=C(s.tickInterval,null,k(s.tickInterval),r)),s.minorTickInterval="auto"===r.minorTickInterval&&s.tickInterval?s.tickInterval/5:r.minorTickInterval,s.tickPositions=n=r.tickPositions?[].concat(r.tickPositions):m&&m.apply(s,[s.min,s.max]),n||(!s.ordinalPositions&&(s.max-s.min)/s.tickInterval>yt(2*s.len,200)&&I(19,!0),n=h?s.getTimeTicks(s.normalizeTimeTickInterval(s.tickInterval,r.units),s.min,s.max,r.startOfWeek,s.ordinalPositions,s.closestPointRange,!0):c?s.getLogTickPositions(s.tickInterval,s.min,s.max):s.getLinearTickPositions(s.tickInterval,s.min,s.max),o&&n.splice(1,n.length-2),s.tickPositions=n),!p){var x,T=n[0],S=n[n.length-1],P=s.minPointOffset||0;r.startOnTick?s.min=T:s.min-P>T&&n.shift(),r.endOnTick?s.max=S:s.max+P<S&&n.pop(),1===n.length&&(x=.001,s.min-=x,s.max+=x)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&!1!==this.options.alignTicks&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t._maxTicksKey,n=t.tickPositions,o=e.maxTicks;if(o&&o[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&!1!==t.options.alignTicks&&this.min!==W){var s,a=t.tickAmount,r=n.length;if(t.tickAmount=s=o[i],r<s){for(;n.length<s;)n.push(O(n[n.length-1]+t.tickInterval));t.transA*=(r-1)/(s-1),t.max=n[n.length-1]}d(a)&&s!==a&&(t.isDirty=!0)}},setScale:function(){var t,e,i,n,o=this,s=o.stacks;if(o.oldMin=o.min,o.oldMax=o.max,o.oldAxisLength=o.len,o.setAxisSize(),n=o.len!==o.oldAxisLength,be(o.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),n||i||o.isLinked||o.forceRedraw||o.userMin!==o.oldUserMin||o.userMax!==o.oldUserMax){if(!o.isXAxis)for(t in s)for(e in s[t])s[t][e].total=null,s[t][e].cum=0;o.forceRedraw=!1,o.getSeriesExtremes(),o.setTickPositions(),o.oldUserMin=o.userMin,o.oldUserMax=o.userMax,o.isDirty||(o.isDirty=n||o.min!==o.oldMin||o.max!==o.oldMax)}else if(!o.isXAxis)for(t in o.oldStacks&&(s=o.stacks=o.oldStacks),s)for(e in s[t])s[t][e].cum=s[t][e].total;o.setMaxTicks()},setExtremes:function(e,i,n,o,s){var a=this,r=a.chart;n=f(n,!0),s=t(s,{min:e,max:i}),Te(a,"setExtremes",s,function(){a.userMin=e,a.userMax=i,a.eventArgs=s,a.isDirtyExtremes=!0,n&&r.redraw(o)})},zoom:function(t,e){return this.allowZoomOutside||(d(this.dataMin)&&t<=this.dataMin&&(t=W),d(this.dataMax)&&e>=this.dataMax&&(e=W)),this.displayBtn=t!==W||e!==W,this.setExtremes(t,e,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i,n,o=this.chart,s=this.options,a=s.offsetLeft||0,r=s.offsetRight||0,l=this.horiz;this.left=n=f(s.left,o.plotLeft+a),this.top=i=f(s.top,o.plotTop),this.width=t=f(s.width,o.plotWidth-a+r),this.height=e=f(s.height,o.plotHeight),this.bottom=o.chartHeight-e-i,this.right=o.chartWidth-t-n,this.len=yt(l?t:e,0),this.pos=l?n:i},getExtremes:function(){var t=this,e=t.isLog;return{min:e?O(c(t.min)):t.min,max:e?O(c(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?c(e.min):e.min,o=i?c(e.max):e.max;return n>t||null===t?t=n:o<t&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=(f(t,0)-90*this.side+720)%360;return e>15&&e<165?"right":e>195&&e<345?"left":"center"},getOffset:function(){var t,e,i,n,o,s,a,r,l,c,h,u,p,m=this,g=m.chart,v=g.renderer,y=m.options,b=m.tickPositions,_=m.ticks,w=m.horiz,x=m.side,k=g.inverted?[1,0,3,2][x]:x,C=0,T=0,S=y.title,P=y.labels,E=0,j=g.axisOffset,L=g.clipOffset,I=[-1,1,1,-1][x],O=1,A=f(P.maxStaggerLines,5);if(m.hasData=t=m.hasVisibleSeries||d(m.min)&&d(m.max)&&!!b,m.showAxis=e=t||f(y.showEmpty,!0),m.staggerLines=m.horiz&&P.staggerLines,m.axisGroup||(m.gridGroup=v.g("grid").attr({zIndex:y.gridZIndex||1}).add(),m.axisGroup=v.g("axis").attr({zIndex:y.zIndex||2}).add(),m.labelGroup=v.g("axis-labels").attr({zIndex:P.zIndex||7}).add()),t||m.isLinked){if(m.labelAlign=f(P.align||m.autoLabelAlign(P.rotation)),be(b,function(t){_[t]?_[t].addLabel():_[t]=new N(m,t)}),m.horiz&&!m.staggerLines&&A&&!P.rotation){for(s=m.reversed?[].concat(b).reverse():b;O<A;){for(a=[],r=!1,o=0;o<s.length;o++)l=s[o],p=o%O,(u=(c=_[l].label&&_[l].label.getBBox())?c.width:0)&&(h=m.translate(l),a[p]!==W&&h<a[p]&&(r=!0),a[p]=h+u);if(!r)break;O++}O>1&&(m.staggerLines=O)}be(b,function(t){0!==x&&2!==x&&{1:"left",3:"right"}[x]!==m.labelAlign||(E=yt(_[t].getLabelSize(),E))}),m.staggerLines&&(E*=m.staggerLines,m.labelOffset=E)}else for(n in _)_[n].destroy(),delete _[n];S&&S.text&&!1!==S.enabled&&(m.axisTitle||(m.axisTitle=v.text(S.text,0,0,S.useHTML).attr({zIndex:7,rotation:S.rotation||0,align:S.textAlign||{low:"left",middle:"center",high:"right"}[S.align]}).css(S.style).add(m.axisGroup),m.axisTitle.isNew=!0),e&&(C=m.axisTitle.getBBox()[w?"height":"width"],T=f(S.margin,w?5:10),i=S.offset),m.axisTitle[e?"show":"hide"]()),m.offset=I*f(y.offset,j[x]),m.axisTitleMargin=f(i,E+T+(2!==x&&E&&I*y.labels[w?"y":"x"])),j[x]=yt(j[x],m.axisTitleMargin+C+I*m.offset),L[k]=yt(L[k],2*gt(y.lineWidth/2))},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,o=this.horiz,s=this.left+(i?this.width:0)+n,a=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine([Qt,o?this.left:s,o?a:this.top,Zt,o?e.chartWidth-this.right:s,o?a:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,o=this.len,s=this.options.title,a=t?e:i,r=this.opposite,l=this.offset,c=n(s.style.fontSize||12),h={low:a+(t?0:o),middle:a+o/2,high:a+(t?o:0)}[s.align],d=(t?i+this.height:e)+(t?1:-1)*(r?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?h:d+(r?this.width:0)+l+(s.x||0),y:t?d-(r?this.height:0)+l:h+(s.y||0)}},render:function(){var t,e,i,n,o=this,s=o.horiz,a=o.reversed,r=o.chart,l=r.renderer,h=o.options,u=o.isLog,p=o.isLinked,f=o.tickPositions,m=o.axisTitle,g=o.stacks,v=o.ticks,y=o.minorTicks,b=o.alternateBands,_=h.stackLabels,w=h.alternateGridColor,x=o.tickmarkOffset,k=h.lineWidth,C=r.hasRendered&&d(o.oldMin)&&!isNaN(o.oldMin),T=o.hasData,S=o.showAxis,P=o.justifyLabels=!o.staggerLines&&s&&"justify"===h.labels.overflow;if(o.labelEdge.length=0,be([v,y,b],function(t){var e;for(e in t)t[e].isActive=!1}),(T||p)&&(o.minorTickInterval&&!o.categories&&be(o.getMinorTickPositions(),function(t){y[t]||(y[t]=new N(o,t,"minor")),C&&y[t].isNew&&y[t].render(null,!0),y[t].render(null,!1,1)}),f.length&&(t=f.slice(),(s&&a||!s&&!a)&&t.reverse(),P&&(t=t.slice(1).concat([t[0]])),be(t,function(e,i){P&&(i=i===t.length-1?0:i+1),(!p||e>=o.min&&e<=o.max)&&(v[e]||(v[e]=new N(o,e)),C&&v[e].isNew&&v[e].render(i,!0,.1),v[e].render(i,!1,1))}),x&&0===o.min&&(v[-1]||(v[-1]=new N(o,-1,null,!0)),v[-1].render(-1))),w&&be(f,function(t,e){e%2==0&&t<o.max&&(b[t]||(b[t]=new He(o)),i=t+x,n=f[e+1]!==W?f[e+1]+x:o.max,b[t].options={from:u?c(i):i,to:u?c(n):n,color:w},b[t].render(),b[t].isActive=!0)}),o._addedPlotLB||(be((h.plotLines||[]).concat(h.plotBands||[]),function(t){o.addPlotBandOrLine(t)}),o._addedPlotLB=!0)),be([v,y,b],function(t){var e,i,n=[],o=G?G.duration||500:0,s=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==b&&r.hasRendered&&o?o&&setTimeout(s,o):s()}),k&&(e=o.getLinePath(k),o.axisLine?o.axisLine.animate({d:e}):o.axisLine=l.path(e).attr({stroke:h.lineColor,"stroke-width":k,zIndex:7}).add(o.axisGroup),o.axisLine[S?"show":"hide"]()),m&&S&&(m[m.isNew?"attr":"animate"](o.getTitlePosition()),m.isNew=!1),_&&_.enabled){var E,j,L,I=o.stackTotalGroup;for(E in I||(o.stackTotalGroup=I=l.g("stack-labels").attr({visibility:Gt,zIndex:6}).add()),I.translate(r.plotLeft,r.plotTop),g)for(L in j=g[E])j[L].render(I)}o.isDirty=!1},redraw:function(){var t=this,e=t.chart.pointer;e.reset&&e.reset(!0),t.render(),be(t.plotLinesAndBands,function(t){t.render()}),be(t.series,function(t){t.isDirty=!0})},buildStacks:function(){var t=this.series,e=t.length;if(!this.isXAxis){for(;e--;)t[e].setStackedPoints();if(this.usePercentage)for(e=0;e<t.length;e++)t[e].setPercentStacks()}},destroy:function(t){var e,i,n=this,o=n.stacks,s=n.plotLinesAndBands;for(e in t||Ce(n),o)j(o[e]),o[e]=null;for(be([n.ticks,n.minorTicks,n.alternateBands],function(t){j(t)}),i=s.length;i--;)s[i].destroy();be(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){n[t]&&(n[t]=n[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){if(this.crosshair)if(!1!==(d(e)||!f(this.crosshair.snap,!0))){var i,n,o=this.crosshair,s=o.animation;if(f(o.snap,!0)?d(e)&&(n=this.chart.inverted!=this.horiz?e.plotX:this.len-e.plotY):n=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,null!==(i=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:f(e.stackY,e.y)):this.getPlotLinePath(null,null,null,null,n)))if(this.cross)this.cross.attr({visibility:Gt})[s?"animate":"attr"]({d:i},s);else{var a={"stroke-width":o.width||1,stroke:o.color||"#C0C0C0",zIndex:o.zIndex||2};o.dashStyle&&(a.dashstyle=o.dashStyle),this.cross=this.chart.renderer.path(i).attr(a).add()}else this.hideCrosshair()}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},t(R.prototype,Q),R.prototype.getLogTickPositions=function(t,e,i,n){var o=this,s=o.options,a=o.len,r=[];if(n||(o._minorAutoInterval=null),t>=.5)t=mt(t),r=o.getLinearTickPositions(t,e,i);else if(t>=.08){var h,d,u,p,m,g,v;for(h=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],d=gt(e);d<i+1&&!v;d++)for(p=h.length,u=0;u<p&&!v;u++)(m=l(c(d)*h[u]))>e&&(!n||g<=i)&&r.push(g),g>i&&(v=!0),g=m}else{var y=c(e),b=c(i),_=s[n?"minorTickInterval":"tickInterval"],w="auto"===_?null:_,x=s.tickPixelInterval/(n?5:1),T=n?a/o.tickPositions.length:a;t=C(t=f(w,o._minorAutoInterval,(b-y)*x/(T||1)),null,k(t)),r=xe(o.getLinearTickPositions(t,y,b),l),n||(o._minorAutoInterval=t/5)}return n||(o.tickInterval=t),r},R.prototype.getTimeTicks=function(e,i,n,o){var s,a,r=[],l={},c=V.global.useUTC,h=new Date(i-J),u=e.unitRange,p=e.count;if(d(i)){u>=K[se]&&(h.setMilliseconds(0),h.setSeconds(u>=K[ae]?0:p*gt(h.getSeconds()/p))),u>=K[ae]&&h[at](u>=K[re]?0:p*gt(h[tt]()/p)),u>=K[re]&&h[rt](u>=K[le]?0:p*gt(h[et]()/p)),u>=K[le]&&h[lt](u>=K[he]?1:p*gt(h[nt]()/p)),u>=K[he]&&(h[ct](u>=K[de]?0:p*gt(h[ot]()/p)),a=h[st]()),u>=K[de]&&(a-=a%p,h[ht](a)),u===K[ce]&&h[lt](h[nt]()-h[it]()+f(o,1)),s=1,J&&(h=new Date(h.getTime()+J)),a=h[st]();for(var m=h.getTime(),g=h[ot](),v=h[nt](),y=c?J:(864e5+60*h.getTimezoneOffset()*1e3)%864e5;m<n;)r.push(m),u===K[de]?m=Z(a+s*p,0):u===K[he]?m=Z(a,g+s*p):c||u!==K[le]&&u!==K[ce]?m+=u*p:m=Z(a,g,v+s*p*(u===K[le]?1:7)),s++;r.push(m),be(_e(r,function(t){return u<=K[re]&&t%K[le]===y}),function(t){l[t]=le})}return r.info=t(e,{higherRanks:l,totalRange:u*p}),r},R.prototype.normalizeTimeTickInterval=function(t,e){var i,n=e||[[oe,[1,2,5,10,20,25,50,100,200,500]],[se,[1,2,5,10,15,30]],[ae,[1,2,5,10,15,30]],[re,[1,2,3,4,6,8,12]],[le,[1,2]],[ce,[1,2]],[he,[1,2,3,4,6]],[de,null]],o=n[n.length-1],s=K[o[0]],a=o[1];for(i=0;i<n.length;i++){if(o=n[i],s=K[o[0]],a=o[1],n[i+1])if(t<=(s*a[a.length-1]+K[n[i+1][0]])/2)break}return s===K[de]&&t<5*s&&(a=[1,2,5]),{unitRange:s,count:C(t/s,a,o[0]===de?yt(k(t/s),1):1),unitName:o[0]}},$.prototype={destroy:function(){j(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?x(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:Vt}):this.label=this.axis.chart.renderer.text(n,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Vt}).add(t)},setOffset:function(t,e){var i,n=this.axis,o=n.chart,s=o.inverted,a=this.isNegative,r=n.translate(this.percent?100:this.total,0,0,0,1),l=n.translate(0),c=_t(r-l),h=o.xAxis[0].translate(this.x)+t,d=o.plotHeight,u={x:s?a?r:r-c:h,y:s?d-h-e:a?d-r-c:d-r,width:s?c:e,height:s?e:c},p=this.label;p&&(p.align(this.alignOptions,null,u),i=p.alignAttr,p.attr({visibility:!1===this.options.crop||o.isInsidePlot(i.x,i.y)?At?"inherit":Gt:Vt}))}},F.prototype={init:function(t,e){var i=e.borderWidth,o=e.style,s=n(o.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:s,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-999}),Mt||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,i,n,o){var s=this,a=s.now,r=!1!==s.options.animation&&!s.isHidden;t(a,{x:r?(2*a.x+e)/3:e,y:r?(a.y+i)/2:i,anchorX:r?(2*a.anchorX+n)/3:n,anchorY:r?(a.anchorY+o)/2:o}),s.label.attr(a),r&&(_t(e-a.x)>1||_t(i-a.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,i,n,o)},32))},hide:function(){var t,e=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},f(this.options.hideDelay,500)),t&&be(t,function(t){t.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,e){var i,n,o=this.chart,s=o.inverted,a=o.plotTop,r=0,l=0;return i=(t=p(t))[0].tooltipPos,this.followPointer&&e&&(e.chartX===W&&(e=o.pointer.normalize(e)),i=[e.chartX-o.plotLeft,e.chartY-a]),i||(be(t,function(t){n=t.series.yAxis,r+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&n?n.top-a:0)}),r/=t.length,l/=t.length,i=[s?o.plotWidth-l:r,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?o.plotHeight-r:l]),xe(i,mt)},getPosition:function(t,e,i){var n,o=this.chart,s=o.plotLeft,a=o.plotTop,r=o.plotWidth,l=o.plotHeight,c=f(this.options.distance,12),h=i.plotX,d=i.plotY,u=h+s+(o.inverted?c:-t-c),p=d-e+a+15;return u<7&&(u=s+yt(h,0)+c),u+t>s+r&&(u-=u+t-(s+r),p=d-e+a-c,n=!0),p<a+5&&(p=a+5,n&&d>=p&&d<=p+e&&(p=d+a+c)),p+e>a+l&&(p=yt(a,a+l-e-c)),{x:u,y:p}},defaultFormatter:function(t){var e,i=this.points||p(this),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0])],be(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,o,s,a,r,l=this,c=l.chart,h=l.label,d=l.options,u={},f=[],m=d.formatter||l.defaultFormatter,g=c.hoverPoints,v=l.shared;clearTimeout(this.hideTimer),l.followPointer=p(t)[0].series.tooltipOptions.followPointer,i=(o=l.getAnchor(t,e))[0],n=o[1],!v||t.series&&t.series.noSharedTooltip?u=t.getLabelConfig():(c.hoverPoints=t,g&&be(g,function(t){t.setState()}),be(t,function(t){t.setState(ie),f.push(t.getLabelConfig())}),(u={x:t[0].category,y:t[0].y}).points=f,t=t[0]),s=m.call(u,l),r=t.series,!1===s?this.hide():(l.isHidden&&(Ee(h),h.attr("opacity",1).show()),h.attr({text:s}),a=d.borderColor||t.color||r.color||"#606060",h.attr({stroke:a}),l.updatePosition({plotX:i,plotY:n}),this.isHidden=!1),Te(c,"tooltipRefresh",{text:s,x:i+c.plotLeft,y:n+c.plotTop,borderColor:a})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(mt(n.x),mt(n.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}};var We=Highcharts.Pointer=function(t,e){this.init(t,e)};We.prototype={init:function(t,e){var i,n,o=e.chart,s=o.events,a=Mt?"":o.zoomType,r=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(a),this.zoomY=n=/y/.test(a),this.zoomHor=i&&!r||n&&r,this.zoomVert=n&&!r||i&&r,this.runChartClick=s&&!!s.click,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new F(t,e.tooltip)),this.setDOMEvents()},normalize:function(e,i){var n,o,s;return(e=e||pt.event).target||(e.target=e.srcElement),s=(e=Se(e)).touches?e.touches.item(0):e,i||(this.chartPosition=i=we(this.chart.container)),s.pageX===W?(n=yt(e.x,e.clientX-i.left),o=e.y):(n=s.pageX-i.left,o=s.pageY-i.top),t(e,{chartX:mt(n),chartY:mt(o)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return be(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,o,s,a=this,r=a.chart,l=r.series,c=r.tooltip,h=r.hoverPoint,d=r.hoverSeries,u=r.chartWidth,p=a.getIndex(t);if(c&&a.options.tooltip.shared&&(!d||!d.noSharedTooltip)){for(i=[],n=l.length,o=0;o<n;o++)l[o].visible&&!1!==l[o].options.enableMouseTracking&&!l[o].noSharedTooltip&&l[o].tooltipPoints.length&&(e=l[o].tooltipPoints[p])&&e.series&&(e._dist=_t(p-e.clientX),u=bt(u,e._dist),i.push(e));for(n=i.length;n--;)i[n]._dist>u&&i.splice(n,1);i.length&&i[0].clientX!==a.hoverX&&(c.refresh(i,t),a.hoverX=i[0].clientX)}d&&d.tracker?(e=d.tooltipPoints[p])&&e!==h&&e.onMouseOver(t):c&&c.followPointer&&!c.isHidden&&(s=c.getAnchor([{}],t),c.updatePosition({plotX:s[0],plotY:s[1]})),c&&!a._onDocumentMouseMove&&(a._onDocumentMouseMove=function(t){a.onDocumentMouseMove(t)},ke(ut,"mousemove",a._onDocumentMouseMove)),be(r.axes,function(i){i.drawCrosshair(t,f(e,h))})},reset:function(t){var e=this,i=e.chart,n=i.hoverSeries,o=i.hoverPoint,s=i.tooltip,a=s&&s.shared?i.hoverPoints:o;(t=t&&s&&a)&&p(a)[0].plotX===W&&(t=!1),t?(s.refresh(a),o&&o.setState(o.state,!0)):(o&&o.onMouseOut(),n&&n.onMouseOut(),s&&s.hide(),e._onDocumentMouseMove&&(Ce(ut,"mousemove",e._onDocumentMouseMove),e._onDocumentMouseMove=null),be(i.axes,function(t){t.hideCrosshair()}),e.hoverX=null)},scaleGroups:function(t,e){var i,n=this.chart;be(n.series,function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},pinchTranslate:function(t,e,i,n,o,s,a,r){t&&this.pinchTranslateDirection(!0,i,n,o,s,a,r),e&&this.pinchTranslateDirection(!1,i,n,o,s,a,r)},pinchTranslateDirection:function(t,e,i,n,o,s,a,r){var l,c,h,d,u,p,f=this.chart,m=t?"x":"y",g=t?"X":"Y",v="chart"+g,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],_=r||1,w=f.inverted,x=f.bounds[t?"h":"v"],k=1===e.length,C=e[0][v],T=i[0][v],S=!k&&e[1][v],P=!k&&i[1][v],E=function(){!k&&_t(C-S)>20&&(_=r||_t(T-P)/_t(C-S)),h=(b-T)/_+C,l=f["plot"+(t?"Width":"Height")]/_};E(),(c=h)<x.min?(c=x.min,d=!0):c+l>x.max&&(c=x.max-l,d=!0),d?(T-=.8*(T-a[m][0]),k||(P-=.8*(P-a[m][1])),E()):a[m]=[T,P],w||(s[m]=h-b,s[y]=l),p=w?t?"scaleY":"scaleX":"scale"+g,u=w?1/_:_,o[y]=l,o[m]=c,n[p]=_,n["translate"+g]=u*b+(T-u*C)},pinch:function(e){var i=this,n=i.chart,o=i.pinchDown,s=n.tooltip&&n.tooltip.options.followTouchMove,a=e.touches,r=a.length,l=i.lastValidTouch,c=i.zoomHor||i.pinchHor,h=i.zoomVert||i.pinchVert,d=c||h,u=i.selectionMarker,p={},f=1===r&&(i.inClass(e.target,Yt+"tracker")&&n.runTrackerClick||n.runChartClick),m={};!d&&!s||f||e.preventDefault(),xe(a,function(t){return i.normalize(t)}),"touchstart"===e.type?(be(a,function(t,e){o[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[o[0].chartX,o[1]&&o[1].chartX],l.y=[o[0].chartY,o[1]&&o[1].chartY],be(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,o=t.toPixels(t.dataMin),s=t.toPixels(t.dataMax),a=bt(o,s),r=yt(o,s);e.min=bt(t.pos,a-i),e.max=yt(t.pos+t.len,r+i)}})):o.length&&(u||(i.selectionMarker=u=t({destroy:Rt},n.plotBox)),i.pinchTranslate(c,h,o,a,p,u,m,l),i.hasPinched=d,i.scaleGroups(p,m),!d&&s&&1===r&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,o=n.options.chart,s=t.chartX,a=t.chartY,r=this.zoomHor,l=this.zoomVert,c=n.plotLeft,h=n.plotTop,d=n.plotWidth,u=n.plotHeight,p=this.mouseDownX,f=this.mouseDownY;s<c?s=c:s>c+d&&(s=c+d),a<h?a=h:a>h+u&&(a=h+u),this.hasDragged=Math.sqrt(Math.pow(p-s,2)+Math.pow(f-a,2)),this.hasDragged>10&&(e=n.isInsidePlot(p-c,f-h),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&(this.selectionMarker||(this.selectionMarker=n.renderer.rect(c,h,r?1:d,l?1:u,0).attr({fill:o.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&r&&(i=s-p,this.selectionMarker.attr({width:_t(i),x:(i>0?0:i)+p})),this.selectionMarker&&l&&(i=a-f,this.selectionMarker.attr({height:_t(i),y:(i>0?0:i)+f})),e&&!this.selectionMarker&&o.panning&&n.pan(t,o.panning))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,s={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},a=this.selectionMarker,r=a.x,l=a.y;(this.hasDragged||n)&&(be(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.toValue(e?r:l),n=t.toValue(e?r+a.width:l+a.height);isNaN(i)||isNaN(n)||(s[t.coll].push({axis:t,min:bt(i,n),max:yt(i,n)}),o=!0)}}),o&&Te(i,"selection",s,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(m(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){(t=this.normalize(t)).preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries;t=this.normalize(t,i),i&&n&&!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart;t=this.normalize(t),"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=u(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(Yt+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement,n=i&&i.point&&i.point.series;!e||e.options.stickyTracking||this.inClass(i,Yt+"tooltip")||n===e||e.onMouseOut()},onContainerClick:function(e){var i,n,o,s=this.chart,a=s.hoverPoint,r=s.plotLeft,l=s.plotTop,c=s.inverted;(e=this.normalize(e)).cancelBubble=!0,s.cancelClick||(a&&this.inClass(e.target,Yt+"tracker")?(i=this.chartPosition,n=a.plotX,o=a.plotY,t(a,{pageX:i.left+r+(c?s.plotWidth-o:n),pageY:i.top+l+(c?s.plotHeight-n:o)}),Te(a.series,"click",t(e,{point:a})),s.hoverPoint&&a.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),s.isInsidePlot(e.chartX-r,e.chartY-l)&&Te(s,"click",e)))},
onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)?(this.runPointActions(t),this.pinch(t)):this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){1!==t.touches.length&&2!==t.touches.length||this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[ut,"mouseup","onDocumentMouseUp"]],zt&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[ut,"touchend","onDocumentTouchEnd"]),be(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:ke(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;be(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:Ce(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}};var qe=Highcharts.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=t.options.cursor,o=n&&{cursor:n},s=function(i){var n,o=i.target;for(e.hoverSeries!==t&&t.onMouseOver();o&&!n;)n=o.point,o=o.parentNode;n!==W&&n!==e.hoverPoint&&n.onMouseOver(i)};be(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(be(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Yt+"tracker").on("mouseover",s).on("mouseout",function(t){i.onTrackerMouseOut(t)}).css(o),zt&&t[e].on("touchstart",s))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e,i=this,n=i.options,o=n.trackByArea,s=[].concat(o?i.areaPath:i.graphPath),a=s.length,r=i.chart,l=r.pointer,c=r.renderer,h=r.options.tooltip.snap,d=i.tracker,u=n.cursor,p=u&&{cursor:u},f=i.singlePoints,m=function(){r.hoverSeries!==i&&i.onMouseOver()};if(a&&!o)for(e=a+1;e--;)s[e]===Qt&&s.splice(e+1,0,s[e+1]-h,s[e+2],Zt),(e&&s[e]===Qt||e===a)&&s.splice(e,0,Zt,s[e-2]+h,s[e-1]);for(e=0;e<f.length;e++)t=f[e],s.push(Qt,t.plotX-h,t.plotY,Zt,t.plotX+h,t.plotY);d?d.attr({d:s}):(i.tracker=c.path(s).attr({"stroke-linejoin":"round",visibility:i.visible?Gt:Vt,stroke:te,fill:o?te:Kt,"stroke-width":n.lineWidth+(o?0:2*h),zIndex:2}).add(i.group),be([i.tracker,i.markerGroup],function(t){t.addClass(Yt+"tracker").on("mouseover",m).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(p),zt&&t.on("touchstart",m)}))}};if(pt.PointerEvent||pt.MSPointerEvent){var Ue={};We.prototype.getWebkitTouches=function(){var t,e=[];for(t in e.item=function(t){return this[t]},Ue)Ue.hasOwnProperty(t)&&e.push({pageX:Ue[t].pageX,pageY:Ue[t].pageY,target:Ue[t].target});return e},_(We.prototype,"init",function(t,e,i){e.container.style["-ms-touch-action"]=e.container.style["touch-action"]="none",t.call(this,e,i)}),_(We.prototype,"setDOMEvents",function(t){var e,i=this;t.apply(this,Array.prototype.slice.call(arguments,1)),e=[[this.chart.container,"PointerDown","touchstart","onContainerTouchStart",function(t){Ue[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}}],[this.chart.container,"PointerMove","touchmove","onContainerTouchMove",function(t){Ue[t.pointerId]={pageX:t.pageX,pageY:t.pageY},Ue[t.pointerId].target||(Ue[t.pointerId].target=t.currentTarget)}],[document,"PointerUp","touchend","onDocumentTouchEnd",function(t){delete Ue[t.pointerId]}]],be(e,function(t){ke(t[0],window.PointerEvent?t[1].toLowerCase():"MS"+t[1],function(e){"touch"!==(e=e.originalEvent).pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||(t[4](e),i[t[3]]({type:t[2],target:e.currentTarget,preventDefault:Rt,touches:i.getWebkitTouches()}))})})})}var Ve=Highcharts.Legend=function(t,e){this.init(t,e)};Ve.prototype={init:function(t,i){var o=this,s=i.itemStyle,a=f(i.padding,8),r=i.itemMarginTop||0;this.options=i,i.enabled&&(o.baseline=n(s.fontSize)+3+r,o.itemStyle=s,o.itemHiddenStyle=e(s,i.itemHiddenStyle),o.itemMarginTop=r,o.padding=a,o.initialItemX=a,o.initialItemY=a-5,o.maxItemWidth=0,o.chart=t,o.itemHeight=0,o.lastLineHeight=0,o.symbolWidth=f(i.symbolWidth,16),o.pages=[],o.render(),ke(o.chart,"endResize",function(){o.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n,o=this,s=o.options,a=t.legendItem,r=t.legendLine,l=t.legendSymbol,c=o.itemHiddenStyle.color,h=e?s.itemStyle.color:c,d=e?t.legendColor||t.color:c,u=t.options&&t.options.marker,p={stroke:d,fill:d};if(a&&a.css({fill:h,color:h}),r&&r.attr({stroke:d}),l){if(u&&l.isMarker)for(i in u=t.convertAttribs(u))(n=u[i])!==W&&(p[i]=n);l.attr(p)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,o=!i.rtl,s=t._legendItemPos,a=s[0],r=s[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(o?a:e.legendWidth-a-2*n-4,r),l&&(l.x=a,l.y=r)},destroyItem:function(t){var e=t.checkbox;be(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&L(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,be(this.allItems,function(o){var s,a=o.checkbox;a&&(s=e+a.y+(t||0)+3,m(a,{left:i.translateX+o.legendItemWidth+a.x-20+Xt,top:s+Xt,display:s>e-6&&s<e+n-6?"":Kt}))}))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,o=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),o=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:o})),this.titleHeight=o},renderItem:function(t){var i,n,o,s=this,a=s.chart,r=a.renderer,l=s.options,c="horizontal"===l.layout,h=s.symbolWidth,d=l.symbolPadding,u=s.itemStyle,p=s.itemHiddenStyle,m=s.padding,v=c?f(l.itemDistance,8):0,y=!l.rtl,b=l.width,_=l.itemMarginBottom||0,w=s.itemMarginTop,k=s.initialItemX,C=t.legendItem,T=t.series&&t.series.drawLegendSymbol?t.series:t,S=T.options,P=S&&S.showCheckbox,E=l.useHTML;C||(t.legendGroup=r.g("legend-item").attr({zIndex:1}).add(s.scrollGroup),T.drawLegendSymbol(s,t),t.legendItem=C=r.text(l.labelFormat?x(l.labelFormat,t):l.labelFormatter.call(t),y?h+d:-d,s.baseline,E).css(e(t.visible?u:p)).attr({align:y?"left":"right",zIndex:2}).add(t.legendGroup),(E?C:t.legendGroup).on("mouseover",function(){t.setState(ie),C.css(s.options.itemHoverStyle)}).on("mouseout",function(){C.css(t.visible?u:p),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):Te(t,i,e,n)}),s.colorizeItem(t,t.visible),P&&(t.checkbox=g("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},l.itemCheckboxStyle,a.container),ke(t.checkbox,"click",function(e){var i=e.target;Te(t,"checkboxClick",{checked:i.checked},function(){t.select()})}))),n=C.getBBox(),o=t.legendItemWidth=l.itemWidth||t.legendItemWidth||h+d+n.width+v+(P?20:0),s.itemHeight=i=mt(t.legendItemHeight||n.height),c&&s.itemX-k+o>(b||a.chartWidth-2*m-k)&&(s.itemX=k,s.itemY+=w+s.lastLineHeight+_,s.lastLineHeight=0),s.maxItemWidth=yt(s.maxItemWidth,o),s.lastItemY=w+s.itemY+_,s.lastLineHeight=yt(i,s.lastLineHeight),t._legendItemPos=[s.itemX,s.itemY],c?s.itemX+=o:(s.itemY+=w+i+_,s.lastLineHeight=i),s.offsetWidth=b||yt((c?s.itemX-k-v:o)+m,s.offsetWidth)},getAllItems:function(){var t=[];return be(this.chart.series,function(e){var i=e.options;f(i.showInLegend,!d(i.linkedTo)&&W,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},render:function(){var e,i,n,o,s=this,a=s.chart,r=a.renderer,l=s.group,c=s.box,h=s.options,d=s.padding,u=h.borderWidth,p=h.backgroundColor;s.itemX=s.initialItemX,s.itemY=s.initialItemY,s.offsetWidth=0,s.lastItemY=0,l||(s.group=l=r.g("legend").attr({zIndex:7}).add(),s.contentGroup=r.g().attr({zIndex:1}).add(l),s.scrollGroup=r.g().add(s.contentGroup)),s.renderTitle(),S(e=s.getAllItems(),function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&e.reverse(),s.allItems=e,s.display=i=!!e.length,be(e,function(t){s.renderItem(t)}),n=h.width||s.offsetWidth,o=s.lastItemY+s.lastLineHeight+s.titleHeight,o=s.handleOverflow(o),(u||p)&&(n+=d,o+=d,c?n>0&&o>0&&(c[c.isNew?"attr":"animate"](c.crisp(null,null,null,n,o)),c.isNew=!1):(s.box=c=r.rect(0,0,n,o,h.borderRadius,u||0).attr({stroke:h.borderColor,"stroke-width":u||0,fill:p||Kt}).add(l).shadow(h.shadow),c.isNew=!0),c[i?"show":"hide"]()),s.legendWidth=n,s.legendHeight=o,be(e,function(t){s.positionItem(t)}),i&&l.align(t({width:n,height:o},h),!0,"spacingBox"),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,o=this.chart,s=o.renderer,a=this.options,r=a.y,l="top"===a.verticalAlign,c=o.spacingBox.height+(l?-r:r)-this.padding,h=a.maxHeight,d=this.clipRect,u=a.navigation,p=f(u.animation,!0),m=u.arrowSize||12,g=this.nav,v=this.pages,y=this.allItems;return"horizontal"===a.layout&&(c/=2),h&&(c=bt(c,h)),v.length=0,t>c&&!a.useHTML?(this.clipHeight=e=c-20-this.titleHeight-this.padding,this.currentPage=f(this.currentPage,1),this.fullHeight=t,be(y,function(t,n){var o=t._legendItemPos[1],s=mt(t.legendItem.bBox.height),a=v.length;(!a||o-v[a-1]>e)&&v.push(i||o),n===y.length-1&&o+s-v[a-1]>e&&v.push(o),o!==i&&(i=o)}),d||(d=n.clipRect=s.clipRect(0,this.padding,9999,0),n.contentGroup.clip(d)),d.attr({height:e}),g||(this.nav=g=s.g().attr({zIndex:1}).add(this.group),this.up=s.symbol("triangle",0,0,m,m).on("click",function(){n.scroll(-1,p)}).add(g),this.pager=s.text("",15,10).css(u.style).add(g),this.down=s.symbol("triangle-down",0,0,m,m).on("click",function(){n.scroll(1,p)}).add(g)),n.scroll(0),t=c):g&&(d.attr({height:o.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i,n=this.pages,o=n.length,s=this.currentPage+t,a=this.clipHeight,r=this.options.navigation,l=r.activeColor,c=r.inactiveColor,h=this.pager,d=this.padding;s>o&&(s=o),s>0&&(e!==W&&A(e,this.chart),this.nav.attr({translateX:d,translateY:a+this.padding+7+this.titleHeight,visibility:Gt}),this.up.attr({fill:1===s?c:l}).css({cursor:1===s?"default":"pointer"}),h.attr({text:s+"/"+o}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===o?c:l}).css({cursor:s===o?"default":"pointer"}),i=-n[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=s,this.positionCheckboxes(i))}};var Ye=Highcharts.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options.symbolHeight||12;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-5-i/2,t.symbolWidth,i,f(t.options.symbolRadius,2)).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n,o=this.options,s=o.marker,a=t.options,r=t.symbolWidth,l=this.chart.renderer,c=this.legendGroup,h=t.baseline-mt(.3*l.fontMetrics(a.itemStyle.fontSize).b);o.lineWidth&&(n={"stroke-width":o.lineWidth},o.dashStyle&&(n.dashstyle=o.dashStyle),this.legendLine=l.path([Qt,0,h,Zt,r,h]).attr(n).add(c)),s&&s.enabled&&(e=s.radius,this.legendSymbol=i=l.symbol(this.symbol,r/2-e,h-e,2*e,2*e).add(c),i.isMarker=!0)}};/Trident\/7\.0/.test(Tt)&&_(Ve.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};i.chart.renderer.forExport?n():setTimeout(n)}),H.prototype={init:function(t,i){var n,o=t.series;t.series=null,(n=e(V,t)).series=t.series=o,this.userOptions=t;var s=n.chart;this.margin=this.splashArray("margin",s),this.spacing=this.splashArray("spacing",s);var a=s.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var r,l=this;if(l.index=$t.length,$t.push(l),!1!==s.reflow&&ke(l,"load",function(){l.initReflow()}),a)for(r in a)ke(l,r,a[r]);l.xAxis=[],l.yAxis=[],l.animation=!Mt&&f(s.animation,!0),l.pointCount=0,l.counters=new T,l.firstRender()},initSeries:function(t){var e,i=this.options.chart,n=t.type||i.type||i.defaultSeriesType,o=pe[n];return o||I(17,!0),(e=new o).init(this,t),e},isInsidePlot:function(t,e,i){var n=i?e:t,o=i?t:e;return n>=0&&n<=this.plotWidth&&o>=0&&o<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&be(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var i,n,o,s=this,a=s.axes,r=s.series,l=s.pointer,c=s.legend,h=s.isDirtyLegend,d=s.isDirtyBox,u=r.length,p=u,f=s.renderer,m=f.isHidden(),g=[];for(A(e,s),m&&s.cloneRenderTo(),s.layOutTitles();p--;)if((o=r[p]).options.stacking&&(i=!0,o.isDirty)){n=!0;break}if(n)for(p=u;p--;)(o=r[p]).options.stacking&&(o.isDirty=!0);be(r,function(t){t.isDirty&&"point"===t.options.legendType&&(h=!0)}),h&&c.options.enabled&&(c.render(),s.isDirtyLegend=!1),i&&s.getStacks(),s.hasCartesianSeries&&(s.isResizing||(s.maxTicks=null,be(a,function(t){t.setScale()})),s.adjustTickAmounts(),s.getMargins(),be(a,function(t){t.isDirty&&(d=!0)}),be(a,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,g.push(function(){Te(e,"afterSetExtremes",t(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(d||i)&&e.redraw()})),d&&s.drawChartBox(),be(r,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),l&&l.reset&&l.reset(!0),f.draw(),Te(s,"redraw"),m&&s.cloneRenderTo(!0),be(g,function(t){t.call()})},get:function(t){var e,i,n,o=this,s=o.axes,a=o.series;for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<a.length;e++)if(a[e].options.id===t)return a[e];for(e=0;e<a.length;e++)for(n=a[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e=this,i=this.options,n=i.xAxis=p(i.xAxis||{}),o=i.yAxis=p(i.yAxis||{});be(n,function(t,e){t.index=e,t.isX=!0}),be(o,function(t,e){t.index=e}),t=n.concat(o),be(t,function(t){new R(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return be(this.series,function(e){t=t.concat(_e(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return _e(this.series,function(t){return t.selected})},getStacks:function(){var t=this;be(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),be(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+f(e.options.stack,""))})},showResetZoom:function(){var t=this,e=V.lang,i=t.options.chart.resetZoomButton,n=i.theme,o=n.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,s)},zoomOut:function(){var t=this;Te(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this,o=n.pointer,a=!1;!t||t.resetSelection?be(n.axes,function(t){e=t.zoom()}):be(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(o[n?"zoomX":"zoomY"]||o[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(a=!0))}),i=n.resetZoomButton,a&&!i?n.showResetZoom():!a&&s(i)&&(n.resetZoomButton=i.destroy()),e&&n.redraw(f(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(t,e){var i,n=this,o=n.hoverPoints;o&&be(o,function(t){t.setState()}),be("xy"===e?[1,0]:[1],function(e){var o=t[e?"chartX":"chartY"],s=n[e?"xAxis":"yAxis"][0],a=n[e?"mouseDownX":"mouseDownY"],r=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(a-o,!0)+r,h=s.toValue(a+n[e?"plotWidth":"plotHeight"]-o,!0)-r;s.series.length&&c>bt(l.dataMin,l.min)&&h<yt(l.dataMax,l.max)&&(s.setExtremes(c,h,!1,!1,{trigger:"pan"}),i=!0),n[e?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),m(n.container,{cursor:"move"})},setTitle:function(t,i){var n,o,s=this,a=s.options;n=a.title=e(a.title,t),o=a.subtitle=e(a.subtitle,i),be([["title",t,n],["subtitle",i,o]],function(t){var e=t[0],i=s[e],n=t[1],o=t[2];i&&n&&(s[e]=i=i.destroy()),o&&o.text&&!i&&(s[e]=s.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,"class":Yt+e,zIndex:o.zIndex||4}).css(o.style).add())}),s.layOutTitles()},layOutTitles:function(){var e=0,i=this.title,n=this.subtitle,o=this.options,s=o.title,a=o.subtitle,r=this.spacingBox.width-44;i&&(i.css({width:(s.width||r)+Xt}).align(t({y:15},s),!1,"spacingBox"),s.floating||s.verticalAlign||(e=i.getBBox().height)>=18&&e<=25&&(e=15)),n&&(n.css({width:(a.width||r)+Xt}).align(t({y:e+s.margin},a),!1,"spacingBox"),a.floating||a.verticalAlign||(e=vt(e+n.getBBox().height))),this.titleOffset=e},getChartSize:function(){var t=this,e=t.options.chart,i=t.renderToClone||t.renderTo;t.containerWidth=ge(i,"width"),t.containerHeight=ge(i,"height"),t.chartWidth=yt(0,e.width||t.containerWidth||600),t.chartHeight=yt(0,f(e.height,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),L(e),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),m(e,{position:qt,top:"-9999px",display:"block"}),ut.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,i,s,a,r,l,c=this,h=c.options.chart,d="data-highcharts-chart";c.renderTo=a=h.renderTo,l=Yt+Nt++,o(a)&&(c.renderTo=a=ut.getElementById(a)),a||I(13,!0),r=n(u(a,d)),!isNaN(r)&&$t[r]&&$t[r].destroy(),u(a,d,c.index),a.innerHTML="",a.offsetWidth||c.cloneRenderTo(),c.getChartSize(),i=c.chartWidth,s=c.chartHeight,c.container=e=g(Wt,{className:Yt+"container"+(h.className?" "+h.className:""),id:l},t({position:Ut,overflow:Vt,width:i+Xt,height:s+Xt,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),c.renderToClone||a),c._cursor=e.style.cursor,c.renderer=h.forExport?new $e(e,i,s,!0):new q(e,i,s),Mt&&c.renderer.create(c,e,i,s)},getMargins:function(){var t,e=this,i=e.spacing,n=e.legend,o=e.margin,s=e.options.legend,a=f(s.margin,10),r=s.x,l=s.y,c=s.align,h=s.verticalAlign,u=e.titleOffset;e.resetMargins(),t=e.axisOffset,u&&!d(o[0])&&(e.plotTop=yt(e.plotTop,u+e.options.title.margin+i[0])),n.display&&!s.floating&&("right"===c?d(o[1])||(e.marginRight=yt(e.marginRight,n.legendWidth-r+a+i[1])):"left"===c?d(o[3])||(e.plotLeft=yt(e.plotLeft,n.legendWidth+r+a+i[3])):"top"===h?d(o[0])||(e.plotTop=yt(e.plotTop,n.legendHeight+l+a+i[0])):"bottom"===h&&(d(o[2])||(e.marginBottom=yt(e.marginBottom,n.legendHeight-l+a+i[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&be(e.axes,function(t){t.getOffset()}),d(o[3])||(e.plotLeft+=t[3]),d(o[0])||(e.plotTop+=t[0]),d(o[2])||(e.marginBottom+=t[2]),d(o[1])||(e.marginRight+=t[1]),e.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,o=i.width||ge(n,"width"),s=i.height||ge(n,"height"),a=t?t.target:pt,r=function(){e.container&&(e.setSize(o,s,!1),e.hasUserSize=null)};e.hasUserSize||!o||!s||a!==pt&&a!==ut||(o===e.containerWidth&&s===e.containerHeight||(clearTimeout(e.reflowTimeout),t?e.reflowTimeout=setTimeout(r,100):r()),e.containerWidth=o,e.containerHeight=s)},initReflow:function(){var t=this,e=function(e){t.reflow(e)};ke(pt,"resize",e),ke(t,"destroy",function(){Ce(pt,"resize",e)})},setSize:function(t,e,i){var n,o,s,a=this;a.isResizing+=1,s=function(){a&&Te(a,"endResize",null,function(){a.isResizing-=1})},A(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,d(t)&&(a.chartWidth=n=yt(0,mt(t)),a.hasUserSize=!!n),d(e)&&(a.chartHeight=o=yt(0,mt(e))),(G?Pe:m)(a.container,{width:n+Xt,height:o+Xt},G),a.setChartSize(!0),a.renderer.setSize(n,o,i),a.maxTicks=null,be(a.axes,function(t){t.isDirty=!0,t.setScale()}),be(a.series,function(t){t.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.getMargins(),a.redraw(i),a.oldChartHeight=null,Te(a,"resize"),!1===G?s():setTimeout(s,G&&G.duration||500)},setChartSize:function(t){var e,i,n,o,s,a,r,l=this,c=l.inverted,h=l.renderer,d=l.chartWidth,u=l.chartHeight,p=l.options.chart,f=l.spacing,m=l.clipOffset;l.plotLeft=n=mt(l.plotLeft),l.plotTop=o=mt(l.plotTop),l.plotWidth=s=yt(0,mt(d-n-l.marginRight)),l.plotHeight=a=yt(0,mt(u-o-l.marginBottom)),l.plotSizeX=c?a:s,l.plotSizeY=c?s:a,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=h.spacingBox={x:f[3],y:f[0],width:d-f[3]-f[1],height:u-f[0]-f[2]},l.plotBox=h.plotBox={x:n,y:o,width:s,height:a},r=2*gt(l.plotBorderWidth/2),e=vt(yt(r,m[3])/2),i=vt(yt(r,m[0])/2),l.clipBox={x:e,y:i,width:gt(l.plotSizeX-yt(r,m[1])/2-e),height:gt(l.plotSizeY-yt(r,m[2])/2-i)},t||be(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.spacing,i=t.margin;t.plotTop=f(i[0],e[0]),t.marginRight=f(i[1],e[1]),t.marginBottom=f(i[2],e[2]),t.plotLeft=f(i[3],e[3]),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,o=i.renderer,s=i.chartWidth,a=i.chartHeight,r=i.chartBackground,l=i.plotBackground,c=i.plotBorder,h=i.plotBGImage,d=n.borderWidth||0,u=n.backgroundColor,p=n.plotBackgroundColor,f=n.plotBackgroundImage,m=n.plotBorderWidth||0,g=i.plotLeft,v=i.plotTop,y=i.plotWidth,b=i.plotHeight,_=i.plotBox,w=i.clipRect,x=i.clipBox;t=d+(n.shadow?8:0),(d||u)&&(r?r.animate(r.crisp(null,null,null,s-t,a-t)):(e={fill:u||Kt},d&&(e.stroke=n.borderColor,e["stroke-width"]=d),i.chartBackground=o.rect(t/2,t/2,s-t,a-t,n.borderRadius,d).attr(e).add().shadow(n.shadow))),p&&(l?l.animate(_):i.plotBackground=o.rect(g,v,y,b,0).attr({fill:p}).add().shadow(n.plotShadow)),f&&(h?h.animate(_):i.plotBGImage=o.image(f,g,v,y,b).add()),w?w.animate({width:x.width,height:x.height}):i.clipRect=o.clipRect(x),m&&(c?c.animate(c.crisp(null,g,v,y,b)):i.plotBorder=o.rect(g,v,y,b,0,-m).attr({stroke:n.plotBorderColor,"stroke-width":m,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,o=n.options.chart,s=n.options.series;be(["inverted","angular","polar"],function(a){for(t=pe[o.type||o.defaultSeriesType],i=n[a]||o[a]||t&&t.prototype[a],e=s&&s.length;!i&&e--;)(t=pe[s[e].type])&&t.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var t=this,e=t.series;be(e,function(t){t.linkedSeries.length=0}),be(e,function(e){var i=e.options.linkedTo;o(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&(i.linkedSeries.push(e),e.linkedParent=i)})},render:function(){var e,i=this,o=i.axes,s=i.renderer,a=i.options,r=a.labels,l=a.credits;i.setTitle(),i.legend=new Ve(i,a.legend),i.getStacks(),be(o,function(t){t.setScale()}),i.getMargins(),i.maxTicks=null,be(o,function(t){t.setTickPositions(!0),t.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&be(o,function(t){t.render()}),i.seriesGroup||(i.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),be(i.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),r.items&&be(r.items,function(e){var o=t(r.style,e.style),a=n(o.left)+i.plotLeft,l=n(o.top)+i.plotTop+12;delete o.left,delete o.top,s.text(e.html,a,l).attr({zIndex:2}).css(o).add()}),l.enabled&&!i.credits&&(e=l.href,i.credits=s.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),i.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,o=e.container,s=o&&o.parentNode;for(Te(e,"destroy"),$t[e.index]=W,e.renderTo.removeAttribute("data-highcharts-chart"),Ce(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();for(t in be(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),o&&(o.innerHTML="",Ce(o),s&&L(o)),e)delete e[t]},isReadyToRender:function(){var t=this;return!(!At&&pt==pt.top&&"complete"!==ut.readyState||Mt&&!pt.canvg)||(Mt?Re.push(function(){t.firstRender()},t.options.global.canvasToolsURL):ut.attachEvent("onreadystatechange",function(){ut.detachEvent("onreadystatechange",t.firstRender),"complete"===ut.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),Te(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),be(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),Te(t,"beforeRender"),t.pointer=new We(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),be(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),Te(t,"load"))},splashArray:function(t,e){var i=e[t],n=s(i)?i:[i,i,i,i];return[f(e[t+"Top"],n[0]),f(e[t+"Right"],n[1]),f(e[t+"Bottom"],n[2]),f(e[t+"Left"],n[3])]}},H.prototype.callbacks=[];var Ge=Highcharts.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,s=2*(i.slicedOffset||0),a=o.plotWidth-2*s,r=o.plotHeight-2*s,l=i.center,c=[f(l[0],"50%"),f(l[1],"50%"),i.size||"100%",i.innerSize||0],h=bt(a,r);return xe(c,function(i,o){return e=/%$/.test(i),t=o<2||2===o&&e,(e?[a,r,h,h][o]*n(i)/100:i)+(t?s:0)})}},Xe=function(){};Xe.prototype={init:function(t,e,i){var n,o=this;return o.series=t,o.applyOptions(e,i),o.pointAttr={},t.options.colorByPoint&&(n=t.options.colors||t.chart.options.colors,o.color=o.color||n[t.colorCounter++],t.colorCounter===n.length&&(t.colorCounter=0)),t.chart.pointCount++,o},applyOptions:function(e,i){var n=this,o=n.series,s=o.pointValKey;return t(n,e=Xe.prototype.optionsToObject.call(this,e)),n.options=n.options?t(n.options,e):e,s&&(n.y=n[s]),n.x===W&&o&&(n.x=i===W?o.autoIncrement():i),n},optionsToObject:function(t){var e,i={},n=this.series,o=n.pointArrayMap||["y"],s=o.length,r=0,l=0;if("number"==typeof t||null===t)i[o[0]]=t;else if(a(t))for(t.length>s&&("string"===(e=typeof t[0])?i.name=t[0]:"number"===e&&(i.x=t[0]),r++);l<s;)i[o[l++]]=t[r++];else"object"==typeof t&&(i=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return i},destroy:function(){var t,e=this,i=e.series.chart,n=i.hoverPoints;for(t in i.pointCount--,n&&(e.setState(),h(n,e),n.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(Ce(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e),e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)e[t=i[n]]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var i=this,n=i.series,o=n.chart;t=f(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ye(i,n.data)]=i.options,i.setState(t&&ne),e||be(o.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ye(t,n.data)]=t.options,t.setState(ee),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,o=n.tooltip,s=n.hoverPoint;s&&s!==e&&s.onMouseOut(),e.firePointEvent("mouseOver"),!o||o.shared&&!i.noSharedTooltip||o.refresh(e,t),e.setState(ie),n.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==ye(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=f(i.valueDecimals,""),o=i.valuePrefix||"",s=i.valueSuffix||"";return be(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||s)&&(t=t.replace(e+"}",o+e+"}"+s)),t=t.replace(e+"}",e+":,."+n+"f}")}),x(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,o=this.series.options;(o.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),Te(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=this,n=e(i.series.options.point,i.options).events;for(t in i.events=n,n)ke(i,t,n[t]);this.hasImportedEvents=!0}},setState:function(t,i){var n,o,s=this,a=s.plotX,r=s.plotY,l=s.series,c=l.options.states,h=Le[l.type].marker&&l.options.marker,d=h&&!h.enabled,u=h&&h.states[t],p=u&&!1===u.enabled,f=l.stateMarkerGraphic,m=s.marker||{},g=l.chart,v=s.pointAttr;i=i&&f,(t=t||ee)===s.state&&!i||s.selected&&t!==ne||c[t]&&!1===c[t].enabled||t&&(p||d&&!u.enabled)||t&&m.states&&m.states[t]&&!1===m.states[t].enabled||(s.graphic?(n=h&&s.graphic.symbolName&&v[t].r,s.graphic.attr(e(v[t],n?{x:a-n,y:r-n,width:2*n,height:2*n}:{}))):(t&&u&&(n=u.radius,o=m.symbol||l.symbol,f&&f.currentSymbol!==o&&(f=f.destroy()),f?f[i?"animate":"attr"]({x:a-n,y:r-n}):(l.stateMarkerGraphic=f=g.renderer.symbol(o,a-n,r-n,2*n,2*n).attr(v[t]).add(l.markerGroup),f.currentSymbol=o)),f&&f[t&&g.isInsidePlot(a,r,g.inverted)?"show":"hide"]()),s.state=t)}};var Ke=function(){};Ke.prototype={isCartesian:!0,type:"line",pointClass:Xe,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,i){var n,o,s=this,a=e.series,r=function(t,e){return f(t.options.index,t._i)-f(e.options.index,e._i)};for(n in s.chart=e,s.options=i=s.setOptions(i),s.linkedSeries=[],s.bindAxes(),t(s,{name:i.name,state:ee,pointAttr:{},visible:!1!==i.visible,selected:!0===i.selected}),Mt&&(i.animation=!1),o=i.events)ke(s,n,o[n]);(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),s.getColor(),s.getSymbol(),be(s.parallelArrays,function(t){s[t+"Data"]=[]}),s.setData(i.data,!1),s.isCartesian&&(e.hasCartesianSeries=!0),a.push(s),s._i=a.length-1,S(a,r),this.yAxis&&S(this.yAxis.series,r),be(a,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;be(e.axisTypes||[],function(o){be(n[o],function(n){t=n.options,(i[o]===t.index||i[o]!==W&&i[o]===t.id||i[o]===W&&0===t.index)&&(n.series.push(e),e[o]=n,n.isDirty=!0)}),e[o]||e.optionalAxis===o||I(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,o="number"==typeof e?function(n){var o="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};be(i.parallelArrays,o)},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;return i=f(i,e.pointStart,0),t.pointInterval=f(t.pointInterval,e.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var t,e=this,i=-1,n=[],o=e.points,s=o.length;if(s)if(e.options.connectNulls){for(t=s;t--;)null===o[t].y&&o.splice(t,1);o.length&&(n=[o])}else be(o,function(t,e){null===t.y?(e>i+1&&n.push(o.slice(i+1,e)),i=e):e===s-1&&n.push(o.slice(i+1,e+1))});e.segments=n},setOptions:function(t){var i,n=this.chart,o=n.options.plotOptions,s=n.userOptions||{},a=s.plotOptions||{},r=o[this.type];return this.userOptions=t,i=e(r,o.series,t),this.tooltipOptions=e(V.tooltip,V.plotOptions[this.type].tooltip,s.tooltip,a.series&&a.series.tooltip,a[this.type]&&a[this.type].tooltip,t.tooltip),null===r.marker&&delete i.marker,i},getColor:function(){var t,e,i=this.options,n=this.userOptions,o=this.chart.options.colors,s=this.chart.counters;(t=i.color||Le[this.type].color)||i.colorByPoint||(d(n._colorIndex)?e=n._colorIndex:(n._colorIndex=s.color,e=s.color++),t=o[e]),this.color=t,s.wrapColor(o.length)},getSymbol:function(){var t,e=this,i=e.userOptions,n=e.options.marker,o=e.chart,s=o.options.symbols,a=o.counters;e.symbol=n.symbol,e.symbol||(d(i._symbolIndex)?t=i._symbolIndex:(i._symbolIndex=a.symbol,t=a.symbol++),e.symbol=s[t]),/^url/.test(e.symbol)&&(n.radius=0),a.wrapSymbol(s.length)},drawLegendSymbol:Ye.drawLineMarker,setData:function(t,e){var i,n=this,s=n.points,l=n.options,c=n.chart,h=null,d=n.xAxis,u=d&&!!d.categories;n.xIncrement=null,n.pointRange=u?1:l.pointRange,n.colorCounter=0;var p,m=(t=t||[]).length,g=l.turboThreshold,v=this.xData,y=this.yData,b=n.pointArrayMap,_=b&&b.length;if(be(this.parallelArrays,function(t){n[t+"Data"].length=0}),g&&m>g){for(i=0;null===h&&i<m;)h=t[i],i++;if(r(h)){var w=f(l.pointStart,0),x=f(l.pointInterval,1);for(i=0;i<m;i++)v[i]=w,y[i]=t[i],w+=x;n.xIncrement=w}else if(a(h))if(_)for(i=0;i<m;i++)p=t[i],v[i]=p[0],y[i]=p.slice(1,_+1);else for(i=0;i<m;i++)p=t[i],v[i]=p[0],y[i]=p[1];else I(12)}else for(i=0;i<m;i++)t[i]!==W&&(p={series:n},n.pointClass.prototype.applyOptions.apply(p,[t[i]]),n.updateParallelArrays(p,i),u&&p.name&&(d.names[p.x]=p.name));for(o(y[0])&&I(14,!0),n.data=[],n.options.data=t,i=s&&s.length||0;i--;)s[i]&&s[i].destroy&&s[i].destroy();d&&(d.minRange=d.userMinRange),n.isDirty=n.isDirtyData=c.isDirtyBox=!0,f(e,!0)&&c.redraw(!1)},processData:function(t){var e,i,n,o,s,a=this,r=a.xData,l=a.yData,c=r.length,h=0,d=a.xAxis,u=a.options,p=u.cropThreshold,f=a.isCartesian
;if(f&&!a.isDirty&&!d.isDirty&&!a.yAxis.isDirty&&!t)return!1;if(f&&a.sorted&&(!p||c>p||a.forceCrop)){var m=d.min,g=d.max;r[c-1]<m||r[0]>g?(r=[],l=[]):(r[0]<m||r[c-1]>g)&&(r=(e=this.cropData(a.xData,a.yData,m,g)).xData,l=e.yData,h=e.start,i=!0)}for(s=r.length-1;s>=0;s--)(n=r[s]-r[s-1])>0&&(o===W||n<o)?o=n:n<0&&a.requireSorting&&I(15);a.cropped=i,a.cropStart=h,a.processedXData=r,a.processedYData=l,null===u.pointRange&&(a.pointRange=o||1),a.closestPointRange=o},cropData:function(t,e,i,n){var o,s=t.length,a=0,r=s,l=f(this.cropShoulder,1);for(o=0;o<s;o++)if(t[o]>=i){a=yt(0,o-l);break}for(;o<s;o++)if(t[o]>n){r=o+l;break}return{xData:t.slice(a,r),yData:e.slice(a,r),start:a,end:r}},generatePoints:function(){var t,e,i,n,o=this,s=o.options.data,a=o.data,r=o.processedXData,l=o.processedYData,c=o.pointClass,h=r.length,d=o.cropStart||0,u=o.hasGroupedData,f=[];if(!a&&!u){var m=[];m.length=s.length,a=o.data=m}for(n=0;n<h;n++)e=d+n,u?f[n]=(new c).init(o,[r[n]].concat(p(l[n]))):(a[e]?i=a[e]:s[e]!==W&&(a[e]=i=(new c).init(o,s[e],r[n])),f[n]=i);if(a&&(h!==(t=a.length)||u))for(n=0;n<t;n++)n!==d||u||(n+=h),a[n]&&(a[n].destroyElements(),a[n].plotX=W);o.data=a,o.points=f},setStackedPoints:function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,i,n,o,s,a,r=this,l=r.processedXData,c=r.processedYData,h=[],d=c.length,u=r.options,p=u.threshold,f=u.stack,m=u.stacking,g=r.stackKey,v="-"+g,y=r.negStacks,b=r.yAxis,_=b.stacks,w=b.oldStacks;for(o=0;o<d;o++)s=l[o],a=c[o],_[n=(t=y&&a<p)?v:g]||(_[n]={}),_[n][s]||(w[n]&&w[n][s]?(_[n][s]=w[n][s],_[n][s].total=null):_[n][s]=new $(b,b.options.stackLabels,t,s,f,m)),(e=_[n][s]).points[r.index]=[e.cum||0],"percent"===m?(i=t?g:v,y&&_[i]&&_[i][s]?(i=_[i][s],e.total=i.total=yt(i.total,e.total)+_t(a)||0):e.total=O(e.total+(_t(a)||0))):e.total=O(e.total+(a||0)),e.cum=(e.cum||0)+(a||0),e.points[r.index].push(e.cum),h[o]=e.cum;"percent"===m&&(b.usePercentage=!0),this.stackedYData=h,b.oldStacks={}}},setPercentStacks:function(){var t=this,e=t.stackKey,i=t.yAxis.stacks;be([e,"-"+e],function(e){for(var n,o,s,a,r=t.xData.length;r--;)n=t.xData[r],(s=(o=i[e]&&i[e][n])&&o.points[t.index])&&(a=o.total?100/o.total:0,s[0]=O(s[0]*a),s[1]=O(s[1]*a),t.stackedYData[r]=s[1])})},getExtremes:function(t){var e,i,n,o,s,a,r,l,c,h=this.xAxis,d=this.yAxis,u=this.processedXData,p=[],m=0,g=h.getExtremes(),v=g.min,y=g.max;for(e=(t=t||this.stackedYData||this.processedYData).length,l=0;l<e;l++)if(a=u[l],i=null!==(r=t[l])&&r!==W&&(!d.isLog||r.length||r>0),n=this.getExtremesFromAll||this.cropped||(u[l+1]||a)>=v&&(u[l-1]||a)<=y,i&&n)if(c=r.length)for(;c--;)null!==r[c]&&(p[m++]=r[c]);else p[m++]=r;this.dataMin=f(o,P(p)),this.dataMax=f(s,E(p))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e=this,i=e.options,n=i.stacking,o=e.xAxis,s=o.categories,a=e.yAxis,l=e.points,c=l.length,h=!!e.modifyValue,u=i.pointPlacement,p="between"===u||r(u),m=i.threshold;for(t=0;t<c;t++){var g,v,y=l[t],b=y.x,_=y.y,w=y.low,x=n&&a.stacks[(e.negStacks&&_<m?"-":"")+e.stackKey];a.isLog&&_<=0&&(y.y=_=null),y.plotX=o.translate(b,0,0,0,1,u,"flags"===this.type),n&&e.visible&&x&&x[b]&&(w=(v=(g=x[b]).points[e.index])[0],_=v[1],0===w&&(w=f(m,a.min)),a.isLog&&w<=0&&(w=null),y.total=y.stackTotal=g.total,y.percentage="percent"===n&&y.y/g.total*100,y.stackY=_,g.setOffset(e.pointXOffset||0,e.barW||0)),y.yBottom=d(w)?a.translate(w,0,1,0,1):null,h&&(_=e.modifyValue(_,y)),y.plotY="number"==typeof _&&_!==Infinity?a.translate(_,0,1,0,1):W,y.clientX=p?o.translate(b,0,0,0,1):y.plotX,y.negative=y.y<(m||0),y.category=s&&s[y.x]!==W?s[y.x]:y.x}e.getSegments()},setTooltipPoints:function(t){var e,i,n,o,s,a,r,l=this,c=[],h=l.xAxis,d=h&&h.getExtremes(),u=h?h.tooltipLen||h.len:l.chart.plotSizeX,p=[];if(!1!==l.options.enableMouseTracking){for(t&&(l.tooltipPoints=null),be(l.segments||l.points,function(t){c=c.concat(t)}),h&&h.reversed&&(c=c.reverse()),l.orderTooltipPoints&&l.orderTooltipPoints(c),e=c.length,r=0;r<e;r++)if((s=(o=c[r]).x)>=d.min&&s<=d.max)for(a=c[r+1],i=n===W?0:n+1,n=c[r+1]?bt(yt(0,gt((o.clientX+(a?a.wrappedClientX||a.clientX:u))/2)),u):u;i>=0&&i<=n;)p[i++]=o;l.tooltipPoints=p}},tooltipHeaderFormatter:function(t){var e,i=this,n=i.tooltipOptions,o=n.dateTimeLabelFormats,s=n.xDateFormat,a=i.xAxis,l=a&&"datetime"===a.options.type,c=n.headerFormat,h=a&&a.closestPointRange;if(l&&!s){if(h){for(e in K)if(K[e]>=h){s=o[e];break}}else s=o.day;s=s||o.year}return l&&s&&r(t.key)&&(c=c.replace("{point.key}","{point.key:"+s+"}")),x(c,{point:t,series:i})},onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&Te(t,"mouseOver"),t.setState(ie),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,o=i.hoverPoint;o&&o.onMouseOut(),t&&e.events.mouseOut&&Te(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState(),i.hoverSeries=null},animate:function(e){var i,n,o,a=this,r=a.chart,l=r.renderer,c=a.options.animation,h=r.clipBox,d=r.inverted;c&&!s(c)&&(c=Le[a.type].animation),o="_sharedClip"+c.duration+c.easing,e?(i=r[o],n=r[o+"m"],i||(r[o]=i=l.clipRect(t(h,{width:0})),r[o+"m"]=n=l.clipRect(-99,d?-r.plotLeft:-r.plotTop,99,d?r.chartWidth:r.chartHeight)),a.group.clip(i),a.markerGroup.clip(n),a.sharedClipKey=o):((i=r[o])&&(i.animate({width:r.plotSizeX},c),r[o+"m"].animate({width:r.plotSizeX+99},c)),a.animate=null,a.animationTimeout=setTimeout(function(){a.afterAnimate()},c.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&!1!==this.options.clip&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,o,s,a,r,l,c,h,d,u,p=this,m=p.points,g=p.chart,v=p.options.marker,y=p.markerGroup;if(v.enabled||p._hasPointMarkers)for(o=m.length;o--;)s=m[o],i=gt(s.plotX),n=s.plotY,c=s.graphic,h=s.marker||{},d=v.enabled&&h.enabled===W||h.enabled,u=g.isInsidePlot(mt(i),n,g.inverted),d&&n!==W&&!isNaN(n)&&null!==s.y?(a=(e=s.pointAttr[s.selected?ne:ee]).r,l=0===(r=f(h.symbol,p.symbol)).indexOf("url"),c?c.attr({visibility:u?At?"inherit":Gt:Vt}).animate(t({x:i-a,y:n-a},c.symbolName?{width:2*a,height:2*a}:{})):u&&(a>0||l)&&(s.graphic=c=g.renderer.symbol(r,i-a,n-a,2*a,2*a).attr(e).add(y))):c&&(s.graphic=c.destroy())},convertAttribs:function(t,e,i,n){var o,s,a=this.pointAttrToOptions,r={};for(o in t=t||{},e=e||{},i=i||{},n=n||{},a)s=a[o],r[o]=f(t[s],e[o],i[o],n[o]);return r},getAttribs:function(){var e,i,n,o,s,a,r,l=this,c=l.options,h=Le[l.type].marker?c.marker:c,u=h.states,p=u[ie],f=l.color,m={stroke:f,fill:f},g=l.points||[],v=[],y=l.pointAttrToOptions,b=c.negativeColor,_=h.lineColor,w=h.fillColor;for(c.marker?(p.radius=p.radius||h.radius+2,p.lineWidth=p.lineWidth||h.lineWidth+1):p.color=p.color||Me(p.color||f).brighten(p.brightness).get(),v[ee]=l.convertAttribs(h,m),be([ie,ne],function(t){v[t]=l.convertAttribs(u[t],v[ee])}),l.pointAttr=v,i=g.length;i--;){if((h=(n=g[i]).options&&n.options.marker||n.options)&&!1===h.enabled&&(h.radius=0),n.negative&&b&&(n.color=n.fillColor=b),s=c.colorByPoint||n.color,n.options)for(r in y)d(h[y[r]])&&(s=!0);s?(o=[],e=(u=(h=h||{}).states||{})[ie]=u[ie]||{},c.marker||(e.color=Me(e.color||n.color).brighten(e.brightness||p.brightness).get()),a={color:n.color},w||(a.fillColor=n.color),_||(a.lineColor=n.color),o[ee]=l.convertAttribs(t(a,h),v[ee]),o[ie]=l.convertAttribs(u[ie],v[ie],o[ee]),o[ne]=l.convertAttribs(u[ne],v[ne],o[ee])):o=v,n.pointAttr=o}},destroy:function(){var t,e,i,n,o,s=this,a=s.chart,r=/AppleWebKit\/533/.test(Tt),l=s.data||[];for(Te(s,"destroy"),Ce(s),be(s.axisTypes||[],function(t){(o=s[t])&&(h(o.series,s),o.isDirty=o.forceRedraw=!0)}),s.legendItem&&s.chart.legend.destroyItem(s),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();for(n in s.points=null,clearTimeout(s.animationTimeout),be(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){s[e]&&(t=r&&"group"===e?"hide":"destroy",s[e][t]())}),a.hoverSeries===s&&(a.hoverSeries=null),h(a.series,s),s)delete s[n]},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return be(t,function(o,s){var a,r=o.plotX,l=o.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,o,s)):(i.push(s?Zt:Qt),n&&s&&(a=t[s-1],"right"===n?i.push(a.plotX,l):"center"===n?i.push((a.plotX+r)/2,a.plotY,(a.plotX+r)/2,l):i.push(r,a.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return be(e.segments,function(o){t=e.getSegmentPath(o),o.length>1?i=i.concat(t):n.push(o[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,o=e.dashStyle,s="square"!==e.linecap,a=this.getGraphPath(),r=e.negativeColor;r&&i.push(["graphNeg",r]),be(i,function(i,r){var l,c=i[0],h=t[c];h?(Ee(h),h.animate({d:a})):n&&a.length&&(l={stroke:i[1],"stroke-width":n,zIndex:1},o?l.dashstyle=o:s&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[c]=t.chart.renderer.path(a).attr(l).add(t.group).shadow(!r&&e.shadow))})},clipNeg:function(){var t,e,i,n,o,s=this.options,a=this.chart,r=a.renderer,l=s.negativeColor||s.negativeFillColor,c=this.graph,h=this.area,d=this.posClip,u=this.negClip,p=a.chartWidth,f=a.chartHeight,m=yt(p,f),g=this.yAxis;l&&(c||h)&&((t=mt(g.toPixels(s.threshold||0,!0)))<0&&(m-=t),n={x:0,y:0,width:m,height:t},o={x:0,y:t,width:m,height:m},a.inverted&&(n.height=o.y=a.plotWidth-t,r.isVML&&(n={x:a.plotWidth-t-a.plotLeft,y:0,width:p,height:f},o={x:t+a.plotLeft-p,y:0,width:a.plotLeft+t,height:p})),g.reversed?(e=o,i=n):(e=n,i=o),d?(d.animate(e),u.animate(i)):(this.posClip=d=r.clipRect(e),this.negClip=u=r.clipRect(i),c&&this.graphNeg&&(c.clip(d),this.graphNeg.clip(u)),h&&(h.clip(d),this.areaNeg.clip(u))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};be(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;e.xAxis&&(ke(i,"resize",t),ke(e,"destroy",function(){Ce(i,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,i,n,o){var s=this[t],a=!s;return a&&(this[t]=s=this.chart.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(o)),s[a?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,n=e.options,o=n.animation&&!!e.animate&&i.renderer.isSVG,s=e.visible?Gt:Vt,a=n.zIndex,r=e.hasRendered,l=i.seriesGroup;t=e.plotGroup("group","series",s,a,l),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,l),o&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&i.inverted,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),!1!==e.options.enableMouseTracking&&e.drawTracker(),i.inverted&&e.invertGroups(),!1===n.clip||e.sharedClipKey||r||t.clip(i.clipRect),o?e.animate():r||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group,o=t.xAxis,s=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:f(o&&o.left,e.plotLeft),translateY:f(s&&s.top,e.plotTop)})),t.translate(),t.setTooltipPoints(!0),t.render(),i&&Te(t,"updatedData")},setState:function(t){var e,i=this,n=i.options,o=i.graph,s=i.graphNeg,a=n.states,r=n.lineWidth;if(t=t||ee,i.state!==t){if(i.state=t,a[t]&&!1===a[t].enabled)return;t&&(r=a[t].lineWidth||r+1),o&&!o.dashstyle&&(e={"stroke-width":r},o.attr(e),s&&s.attr(e))}},setVisible:function(t,e){var i,n=this,o=n.chart,s=n.legendItem,a=o.options.chart.ignoreHiddenSeries,r=n.visible;n.visible=t=n.userOptions.visible=t===W?!r:t,i=t?"show":"hide",be(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),o.hoverSeries===n&&n.onMouseOut(),s&&o.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&be(o.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),be(n.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(o.isDirtyBox=!0),!1!==e&&o.redraw(),Te(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===W?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),Te(e,t?"select":"unselect")},drawTracker:qe.drawTrackerGraph},t(H.prototype,{addSeries:function(t,e,i){var n,o=this;return t&&(e=f(e,!0),Te(o,"addSeries",{options:t},function(){n=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),e&&o.redraw(i)})),n},addAxis:function(t,i,n,o){var s=i?"xAxis":"yAxis",a=this.options;new R(this,e(t,{index:this[s].length,isX:i})),a[s]=p(a[s]||{}),a[s].push(t),f(n,!0)&&this.redraw(o)},showLoading:function(e){var i=this,n=i.options,o=i.loadingDiv,s=n.loading;o||(i.loadingDiv=o=g(Wt,{className:Yt+"loading"},t(s.style,{zIndex:10,display:Kt}),i.container),i.loadingSpan=g("span",null,s.labelStyle,o)),i.loadingSpan.innerHTML=e||n.lang.loading,i.loadingShown||(m(o,{opacity:0,display:"",left:i.plotLeft+Xt,top:i.plotTop+Xt,width:i.plotWidth+Xt,height:i.plotHeight+Xt}),Pe(o,{opacity:s.style.opacity},{duration:s.showDuration||0}),i.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Pe(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){m(e,{display:Kt})}}),this.loadingShown=!1}}),t(Xe.prototype,{update:function(t,e,i){var n,o=this,a=o.series,r=o.graphic,l=a.data,c=a.chart,h=a.options;e=f(e,!0),o.firePointEvent("update",{options:t},function(){o.applyOptions(t),s(t)&&(a.getAttribs(),r&&(t&&t.marker&&t.marker.symbol?o.graphic=r.destroy():r.attr(o.pointAttr[o.state||""])),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy())),n=ye(o,l),a.updateParallelArrays(o,n),h.data[n]=o.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===h.legendType&&c.legend.destroyItem(o),e&&c.redraw(i)})},remove:function(t,e){var i,n=this,o=n.series,s=o.points,a=o.chart,r=o.data;A(e,a),t=f(t,!0),n.firePointEvent("remove",null,function(){i=ye(n,r),r.length===s.length&&s.splice(i,1),r.splice(i,1),o.options.data.splice(i,1),o.updateParallelArrays(n,"splice",i,1),n.destroy(),o.isDirty=!0,o.isDirtyData=!0,t&&a.redraw()})}}),t(Ke.prototype,{addPoint:function(t,e,i,n){var o,s,a,r,l=this,c=l.options,h=l.data,d=l.graph,u=l.area,p=l.chart,m=l.xAxis&&l.xAxis.names,g=d&&d.shift||0,v=c.data,y=l.xData;if(A(n,p),i&&be([d,u,l.graphNeg,l.areaNeg],function(t){t&&(t.shift=g+1)}),u&&(u.isArea=!0),e=f(e,!0),o={series:l},l.pointClass.prototype.applyOptions.apply(o,[t]),a=o.x,r=y.length,l.requireSorting&&a<y[r-1])for(s=!0;r&&y[r-1]>a;)r--;l.updateParallelArrays(o,"splice",r,0,0),l.updateParallelArrays(o,r),m&&(m[a]=o.name),v.splice(r,0,t),s&&(l.data.splice(r,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),i&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),l.updateParallelArrays(o,"shift"),v.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),p.redraw())},remove:function(t,e){var i=this,n=i.chart;t=f(t,!0),i.isRemoving||(i.isRemoving=!0,Te(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),t&&n.redraw(e)})),i.isRemoving=!1},update:function(i,n){var o,s=this.chart,a=this.userOptions,r=this.type,l=pe[r].prototype;for(o in i=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},i),this.remove(!1),l)l.hasOwnProperty(o)&&(this[o]=W);t(this,pe[i.type||r].prototype),this.init(s,i),f(n,!0)&&s.redraw(!1)}}),t(R.prototype,{update:function(i,n){var o=this.chart;i=o.options[this.coll][this.options.index]=e(this.userOptions,i),this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=W,this.init(o,t(i,{events:W})),o.isDirtyBox=!0,f(n,!0)&&o.redraw()},remove:function(t){var e=this.chart,i=this.coll;be(this.series,function(t){t.remove(!1)}),h(e.axes,this),h(e[i],this),e.options[i].splice(this.options.index,1),be(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,f(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var Qe=v(Ke);pe.line=Qe,Le.area=e(Ie,{threshold:0});var Ze=v(Ke,{type:"area",getSegments:function(){var t,e,i,n,o,s=[],a=[],r=[],l=this.xAxis,c=this.yAxis,h=c.stacks[this.stackKey],d={},u=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<u.length;n++)d[u[n].x]=u[n];for(o in h)null!==h[o].total&&r.push(+o);r.sort(function(t,e){return t-e}),be(r,function(n){(!p||d[n]&&null!==d[n].y)&&(d[n]?a.push(d[n]):(t=l.translate(n),i=h[n].percent?h[n].total?100*h[n].cum/h[n].total:0:h[n].cum,e=c.toPixels(i,!0),a.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Rt})))}),a.length&&s.push(a)}else Ke.prototype.getSegments.call(this),s=this.segments;this.segments=s},getSegmentPath:function(t){var e,i,n=Ke.prototype.getSegmentPath.call(this,t),o=[].concat(n),s=this.options,a=n.length,r=this.yAxis.getThreshold(s.threshold);if(3===a&&o.push(Zt,n[1],n[2]),s.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)i=f(t[e].yBottom,r),e<t.length-1&&s.step&&o.push(t[e+1].plotX,i),o.push(t[e].plotX,i);else this.closeSegment(o,t,r);return this.areaPath=this.areaPath.concat(o),n},closeSegment:function(t,e,i){t.push(Zt,e[e.length-1].plotX,i,Zt,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Ke.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,o=i.negativeFillColor,s=[["area",this.color,i.fillColor]];(n||o)&&s.push(["areaNeg",n,o]),be(s,function(n){var o=n[0],s=t[o];s?s.animate({d:e}):t[o]=t.chart.renderer.path(e).attr({fill:f(n[2],Me(n[1]).setOpacity(f(i.fillOpacity,.75)).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:Ye.drawRectangle});pe.area=Ze,Le.spline=e(Ie);var Je=v(Ke,{type:"spline",getPointSpline:function(t,e,i){var n,o,s,a,r,l=1.5,c=l+1,h=e.plotX,d=e.plotY,u=t[i-1],p=t[i+1];if(u&&p){var f,m=u.plotX,g=u.plotY,v=p.plotX,y=p.plotY;a=(l*d+y)/c,a+=f=(a-(o=(l*d+g)/c))*((s=(l*h+v)/c)-h)/(s-(n=(l*h+m)/c))+d-a,(o+=f)>g&&o>d?a=2*d-(o=yt(g,d)):o<g&&o<d&&(a=2*d-(o=bt(g,d))),a>y&&a>d?o=2*d-(a=yt(y,d)):a<y&&a<d&&(o=2*d-(a=bt(y,d))),e.rightContX=s,e.rightContY=a}return i?(r=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,n||h,o||d,h,d],u.rightContX=u.rightContY=null):r=[Qt,h,d],r}});pe.spline=Je,Le.areaspline=e(Le.area);var ti=Ze.prototype,ei=v(Je,{type:"areaspline",closedStacks:!0,getSegmentPath:ti.getSegmentPath,closeSegment:ti.closeSegment,drawGraph:ti.drawGraph,drawLegendSymbol:Ye.drawRectangle});pe.areaspline=ei,Le.column=e(Ie,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var ii=v(Ke,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ke.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&be(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.options,o=i.xAxis,s=i.yAxis,a=o.reversed,r={},l=0;!1===n.grouping?l=1:be(i.chart.series,function(n){var o=n.options,a=n.yAxis;n.type===i.type&&n.visible&&s.len===a.len&&s.pos===a.pos&&(o.stacking?(t=n.stackKey,r[t]===W&&(r[t]=l++),e=r[t]):!1!==o.grouping&&(e=l++),n.columnIndex=e)});var c=bt(_t(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||1),o.len),h=c*n.groupPadding,u=(c-2*h)/l,p=n.pointWidth,m=d(p)?(u-p)/2:u*n.pointPadding,g=f(p,u-2*m),v=m+(h+((a?l-(i.columnIndex||0):i.columnIndex)||0)*u-c/2)*(a?-1:1);return i.columnMetrics={width:g,offset:v}},translate:function(){var t=this,e=t.chart,i=t.options,n=i.borderWidth,o=t.yAxis,s=i.threshold,a=t.translatedThreshold=o.getThreshold(s),r=f(i.minPointLength,5),l=t.getColumnMetrics(),c=l.width,h=t.barW=vt(yt(c,1+2*n)),d=t.pointXOffset=l.offset,u=-(n%2?.5:0),p=n%2?.5:1;e.renderer.isVML&&e.inverted&&(p+=1),Ke.prototype.translate.apply(t),be(t.points,function(t){var e,i,n=f(t.yBottom,a),s=bt(yt(-999-n,t.plotY),o.len+999+n),l=t.plotX+d,m=h,g=bt(s,n),v=yt(s,n)-g;_t(v)<r&&r&&(v=r,g=mt(_t(g-a)>r?n-r:a-(o.translate(t.y,0,1,0,1)<=a?r:0))),t.barX=l,t.pointWidth=c,i=_t(l)<.5,m=mt(l+m)+u-(l=mt(l)+u),e=_t(g)<.5,v=mt(g+v)+p-(g=mt(g)+p),i&&(l+=1,m-=1),e&&(g-=1,v+=1),t.shapeType="rect",t.shapeArgs={x:l,y:g,width:m,height:v}})},getSymbol:Rt,drawLegendSymbol:Ye.drawRectangle,drawGraph:Rt,drawPoints:function(){var t,i=this,n=this.chart,o=i.options,s=n.renderer,a=n.options.animationLimit||250;be(i.points,function(r){var l=r.plotY,c=r.graphic;l===W||isNaN(l)||null===r.y?c&&(r.graphic=c.destroy()):(t=r.shapeArgs,c?(Ee(c),c[n.pointCount<a?"animate":"attr"](e(t))):r.graphic=c=s[r.shapeType](t).attr(r.pointAttr[r.selected?ne:ee]).add(i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))})},drawTracker:qe.drawTrackerPoint,animate:function(t){var e,i=this,n=this.yAxis,o=i.options,s=this.chart.inverted,a={};At&&(t?(a.scaleY=.001,e=bt(n.pos+n.len,yt(n.pos,n.toPixels(o.threshold))),s?a.translateX=e-n.len:a.translateY=e,i.group.attr(a)):(a.scaleY=1,a[s?"translateX":"translateY"]=n.pos,i.group.animate(a,i.options.animation),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&be(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ke.prototype.remove.apply(t,arguments)}});pe.column=ii,Le.bar=e(Le.column);var ni=v(ii,{type:"bar",inverted:!0});pe.bar=ni,Le.scatter=e(Ie,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var oi=v(Ke,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:qe.drawTrackerPoint,drawGraph:function(){this.options.lineWidth&&Ke.prototype.drawGraph.call(this)},setTooltipPoints:Rt});pe.scatter=oi,Le.pie=e(Ie,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var si={type:"pie",isCartesian:!1,pointClass:v(Xe,{init:function(){Xe.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:!1!==i.visible,name:f(i.name,"Slice")}),ke(i,"select",e=function(t){i.slice("select"===t.type)}),ke(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,o=n.chart;i.visible=i.options.visible=t=t===W?!i.visible:t,n.options.data[ye(i,n.data)]=i.options,e=t?"show":"hide",be(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&o.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,o.redraw())},slice:function(t,e,i){var n,o=this,s=o.series;A(i,s.chart),e=f(e,!0),o.sliced=o.options.sliced=t=d(t)?t:!o.sliced,s.options.data[ye(o,s.data)]=o.options,n=t?o.slicedTranslation:{translateX:0,translateY:0},o.graphic.animate(n),o.shadowGroup&&o.shadowGroup.animate(n)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Rt,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(be(i,function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},setData:function(t,e){Ke.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),f(e,!0)&&this.chart.redraw()},generatePoints:function(){var t,e,i,n,o=0,s=this.options.ignoreHiddenPoint;for(Ke.prototype.generatePoints.call(this),i=(e=this.points).length,t=0;t<i;t++)n=e[t],o+=s&&!n.visible?0:n.y;for(this.total=o,t=0;t<i;t++)(n=e[t]).percentage=o>0?n.y/o*100:0,n.total=o},translate:function(t){this.generatePoints();var e,i,n,o,s,a,r,l=this,c=0,h=1e3,d=l.options,u=d.slicedOffset,p=u+d.borderWidth,f=d.startAngle||0,m=l.startAngleRad=kt/180*(f-90),g=(l.endAngleRad=kt/180*((d.endAngle||f+360)-90))-m,v=l.points,y=d.dataLabels.distance,b=d.ignoreHiddenPoint,_=v.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,i){return n=ft.asin((e-t[1])/(t[2]/2+y)),t[0]+(i?-1:1)*(wt(n)*(t[2]/2+y))},a=0;a<_;a++)r=v[a],e=m+c*g,b&&!r.visible||(c+=r.percentage/100),i=m+c*g,r.shapeType="arc",r.shapeArgs={x:t[0],y:t[1],r:t[2]/(2.5-r.percentage/100),innerR:t[3]/2,start:mt(e*h)/h,end:mt(i*h)/h},(n=(i+e)/2)>.75*g&&(n-=2*kt),r.slicedTranslation={translateX:mt(wt(n)*u),translateY:mt(xt(n)*u)},o=wt(n)*t[2]/2,s=xt(n)*t[2]/2,r.tooltipPos=[t[0]+.7*o,t[1]+.7*s],r.half=n<-kt/2||n>kt/2?1:0,r.angle=n,p=bt(p,y/2),r.labelPos=[t[0]+o+wt(n)*y,t[1]+s+xt(n)*y,t[0]+o+wt(n)*p,t[1]+s+xt(n)*p,t[0]+o,t[1]+s,y<0?"center":r.half?"right":"left",n]},setTooltipPoints:Rt,drawGraph:null,drawPoints:function(){var e,i,n,o,s=this,a=s.chart.renderer,r=s.options.shadow;r&&!s.shadowGroup&&(s.shadowGroup=a.g("shadow").add(s.group)),be(s.points,function(l){i=l.graphic,o=l.shapeArgs,n=l.shadowGroup,r&&!n&&(n=l.shadowGroup=a.g("shadow").add(s.shadowGroup)),e=l.sliced?l.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(o,e)):l.graphic=i=a.arc(o).setRadialReference(s.center).attr(l.pointAttr[l.selected?ne:ee]).attr({"stroke-linejoin":"round"}).attr(e).add(s.group).shadow(r,n),l.visible!==undefined&&l.setVisible(l.visible)})},sortByAngle:function(t,e){t.sort(function(t,i){return t.angle!==undefined&&(i.angle-t.angle)*e})},drawTracker:qe.drawTrackerPoint,drawLegendSymbol:Ye.drawRectangle,getCenter:Ge.getCenter,getSymbol:Rt};si=v(Ke,si),pe.pie=si,Ke.prototype.drawDataLabels=function(){var i,n,o,s,a=this,r=a.options,l=r.cursor,c=r.dataLabels,h=a.points;(c.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(c),s=a.plotGroup("dataLabelsGroup","data-labels",a.visible?Gt:Vt,c.zIndex||6),n=c,be(h,function(r){var h,u,p,m,g,v=r.dataLabel,y=r.connector,b=!0;if(h=f((i=r.options&&r.options.dataLabels)&&i.enabled,n.enabled),v&&!h)r.dataLabel=v.destroy();else if(h){if(g=(c=e(n,i)).rotation,u=r.getLabelConfig(),o=c.format?x(c.format,u):c.formatter.call(u,c),c.style.color=f(c.color,c.style.color,a.color,"black"),v)d(o)?(v.attr({text:o}),b=!1):(r.dataLabel=v=v.destroy(),y&&(r.connector=y.destroy()));else if(d(o)){for(m in p={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:g,padding:c.padding,zIndex:1})p[m]===W&&delete p[m];v=r.dataLabel=a.chart.renderer[g?"text":"label"](o,0,-999,null,null,null,c.useHTML).attr(p).css(t(c.style,l&&{cursor:l})).add(s).shadow(c.shadow)}v&&a.alignDataLabel(r,v,c,null,b)}}))},Ke.prototype.alignDataLabel=function(e,i,n,o,s){var a,r=this.chart,l=r.inverted,c=f(e.plotX,-999),h=f(e.plotY,-999),d=i.getBBox(),u=this.visible&&(e.series.forceDL||r.isInsidePlot(e.plotX,e.plotY,l));u&&(o=t({x:l?r.plotWidth-h:c,y:mt(l?r.plotHeight-c:h),width:0,height:0},o),t(n,{width:d.width,height:d.height}),n.rotation?(a={align:n.align,x:o.x+n.x+o.width/2,y:o.y+n.y+o.height/2},i[s?"attr":"animate"](a)):(i.align(n,null,o),a=i.alignAttr,"justify"===f(n.overflow,"justify")?this.justifyDataLabel(i,n,a,d,o,s):f(n.crop,!0)&&(u=r.isInsidePlot(a.x,a.y)&&r.isInsidePlot(a.x+d.width,a.y+d.height)))),u||(i.attr({y:-999}),i.placed=!1)},Ke.prototype.justifyDataLabel=function(t,e,i,n,o,s){var a,r,l=this.chart,c=e.align,h=e.verticalAlign;(a=i.x)<0&&("right"===c?e.align="left":e.x=-a,r=!0),(a=i.x+n.width)>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-a,r=!0),(a=i.y)<0&&("bottom"===h?e.verticalAlign="top":e.y=-a,r=!0),(a=i.y+n.height)>l.plotHeight&&("top"===h?e.verticalAlign="bottom":e.y=l.plotHeight-a,r=!0),r&&(t.placed=!s,t.align(e,null,o))},pe.pie&&(pe.pie.prototype.drawDataLabels=function(){var t,e,i,n,o,s,a,r,l,c,h,d,u,p=this,m=p.data,g=p.chart,v=p.options.dataLabels,y=f(v.connectorPadding,10),b=f(v.connectorWidth,1),_=g.plotWidth,w=g.plotHeight,x=f(v.softConnector,!0),k=v.distance,C=p.center,T=C[2]/2,S=C[1],P=k>0,j=[[],[]],L=[0,0,0,0],I=function(t,e){return e.y-t.y};if(p.visible&&(v.enabled||p._hasPointLabels)){for(Ke.prototype.drawDataLabels.apply(p),be(m,function(t){t.dataLabel&&t.visible&&j[t.half].push(t)}),d=0;!a&&m[d];)a=m[d]&&m[d].dataLabel&&(m[d].dataLabel.getBBox().height||21),d++;for(d=2;d--;){var O,A,D,M=[],z=[],B=j[d],N=B.length;if(p.sortByAngle(B,d-.5),k>0){for(A=S-T-k;A<=S+T+k;A+=a)M.push(A);if(N>(O=M.length)){for((h=[].concat(B)).sort(I),u=N;u--;)h[u].rank=u;for(u=N;u--;)B[u].rank>=O&&B.splice(u,1);N=B.length}for(u=0;u<N;u++){t=B[u],s=t.labelPos;var R,$,F=9999;for($=0;$<O;$++)(R=_t(M[$]-s[1]))<F&&(F=R,D=$);if(D<u&&null!==M[u])D=u;else if(O<N-u+D&&null!==M[u])for(D=O-N+u;null===M[D];)D++;else for(;null===M[D];)D++;z.push({i:D,y:M[D]}),M[D]=null}z.sort(I)}for(u=0;u<N;u++){var H,W;t=B[u],s=t.labelPos,n=t.dataLabel,c=!1===t.visible?Vt:Gt,W=s[1],k>0?(D=(H=z.pop()).i,(W>(l=H.y)&&null!==M[D+1]||W<l&&null!==M[D-1])&&(l=W)):l=W,r=v.justify?C[0]+(d?-1:1)*(T+k):p.getX(0===D||D===M.length-1?W:l,d),n._attr={visibility:c,align:s[6]},n._pos={x:r+v.x+({left:y,right:-y}[s[6]]||0),y:l+v.y-10},n.connX=r,n.connY=l,null===this.options.size&&(o=n.width,r-o<y?L[3]=yt(mt(o-r+y),L[3]):r+o>_-y&&(L[1]=yt(mt(r+o-_+y),L[1])),l-a/2<0?L[0]=yt(mt(a/2-l),L[0]):l+a/2>w&&(L[2]=yt(mt(l+a/2-w),L[2])))}}(0===E(L)||this.verifyDataLabelOverflow(L))&&(this.placeDataLabels(),P&&b&&be(this.points,function(t){e=t.connector,s=t.labelPos,(n=t.dataLabel)&&n._pos?(c=n._attr.visibility,r=n.connX,l=n.connY,i=x?[Qt,r+("left"===s[6]?5:-5),l,"C",r,l,2*s[2]-s[4],2*s[3]-s[5],s[2],s[3],Zt,s[4],s[5]]:[Qt,r+("left"===s[6]?5:-5),l,Zt,s[2],s[3],Zt,s[4],s[5]],e?(e.animate({d:i}),e.attr("visibility",c)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":b,stroke:v.connectorColor||t.color||"#606060",visibility:c}).add(p.group)):e&&(t.connector=e.destroy())}))}},pe.pie.prototype.placeDataLabels=function(){be(this.points,function(t){var e,i=t.dataLabel;i&&((e=i._pos)?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-999}))})},pe.pie.prototype.alignDataLabel=Rt,pe.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,o=n.center,s=n.minSize||80,a=s;return null!==o[0]?a=yt(i[2]-yt(t[1],t[3]),s):(a=yt(i[2]-t[1]-t[3],s),i[0]+=(t[3]-t[1])/2),null!==o[1]?a=yt(bt(a,i[2]-yt(t[0],t[2])),s):(a=yt(bt(a,i[2]-t[0]-t[2]),s),i[1]+=(t[0]-t[2])/2),a<i[2]?(i[2]=a,this.translate(i),be(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),pe.column&&(pe.column.prototype.alignDataLabel=function(t,i,n,o,s){var a=this.chart,r=a.inverted,l=t.dlBox||t.shapeArgs,c=t.below||t.plotY>f(this.translatedThreshold,a.plotSizeY),h=f(n.inside,!!this.options.stacking);l&&(o=e(l),r&&(o={x:a.plotWidth-o.y-o.height,y:a.plotHeight-o.x-o.width,width:o.height,height:o.width}),h||(r?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0))),n.align=f(n.align,!r||h?"center":c?"right":"left"),n.verticalAlign=f(n.verticalAlign,r||h?"middle":c?"top":"bottom"),Ke.prototype.alignDataLabel.call(this,t,i,n,o,s)}),t(Highcharts,{Axis:R,Chart:H,Color:Me,Point:Xe,Tick:N,Tooltip:F,Renderer:q,Series:Ke,SVGElement:B,SVGRenderer:$e,arrayMin:P,arrayMax:E,charts:$t,dateFormat:Y,format:x,pathAnim:X,getOptions:z,hasBidiBug:Dt,isTouchDevice:It,numberFormat:y,seriesTypes:pe,setOptions:M,addEvent:ke,removeEvent:Ce,createElement:g,discardElement:L,css:m,each:be,extend:t,map:xe,merge:e,pick:f,splat:p,extendClass:v,pInt:n,wrap:_,svg:At,canvas:Mt,vml:!At&&!Mt,product:Ft,version:Ht})}(),function(t){t.fn.htmlarea=function(t){if(t&&"string"==typeof t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);var o=e(this[0]),s=o[t];if(s)return s.apply(o,i)}return this.each(function(){e(this,t)})};var e=window.jHtmlArea=function(t,i){return t.jquery?e(t[0]):t.jhtmlareaObject?t.jhtmlareaObject:new e.fn.init(t,i)};e.fn=e.prototype={jhtmlarea:"0.7.5",init:function(n,o){if("textarea"===n.nodeName.toLowerCase()){var s=t.extend({},e.defaultOptions,o);n.jhtmlareaObject=this;var a=this.textarea=t(n),r=this.container=t("<div/>").addClass("jHtmlArea").width(a.width()).insertAfter(a),l=this.toolbar=t("<div/>").addClass("ToolBar").appendTo(r);i.initToolBar.call(this,s);var c=this.iframe=t("<iframe/>").height(a.height());c.width(a.width()-(t.browser.msie?0:4))
;var h=this.htmlarea=t("<div/>").append(c);r.append(h).append(a.hide()),i.initEditor.call(this,s),i.attachEditorEvents.call(this),c.height(c.height()-l.height()),l.width(a.width()-2),s.loaded&&s.loaded.call(this)}},dispose:function(){this.textarea.show().insertAfter(this.container),this.container.remove(),this.textarea[0].jhtmlareaObject=null},execCommand:function(t,e,i){this.iframe[0].contentWindow.focus(),this.editor.execCommand(t,e||!1,i||null),this.updateTextArea()},ec:function(t,e,i){this.execCommand(t,e,i)},queryCommandValue:function(t){return this.iframe[0].contentWindow.focus(),this.editor.queryCommandValue(t)},qc:function(t){return this.queryCommandValue(t)},getSelectedHTML:function(){if(t.browser.msie)return this.getRange().htmlText;var e=this.getRange().cloneContents();return t("<p/>").append(t(e)).html()},getSelection:function(){return t.browser.msie?this.editor.selection:this.iframe[0].contentDocument.defaultView.getSelection()},getRange:function(){var t=this.getSelection();return t?t.getRangeAt?t.getRangeAt(0):t.createRange():null},html:function(t){if(!t)return this.toHtmlString();this.textarea.val(t),this.updateHtmlArea()},pasteHTML:function(e){this.iframe[0].contentWindow.focus();var i=this.getRange();t.browser.msie?i.pasteHTML(e):t.browser.mozilla?(i.deleteContents(),i.insertNode(t(0!=e.indexOf("<")?t("<span/>").append(e):e)[0])):(i.deleteContents(),i.insertNode(t(this.iframe[0].contentWindow.document.createElement("span")).append(t(0!=e.indexOf("<")?"<span>"+e+"</span>":e))[0])),i.collapse(!1),i.select()},cut:function(){this.ec("cut")},copy:function(){this.ec("copy")},paste:function(){this.ec("paste")},bold:function(){this.ec("bold")},italic:function(){this.ec("italic")},underline:function(){this.ec("underline")},strikeThrough:function(){this.ec("strikethrough")},image:function(e){t.browser.msie&&!e?this.ec("insertImage",!0):this.ec("insertImage",!1,e||prompt("Image URL:","http://"))},removeFormat:function(){this.ec("removeFormat",!1,[]),this.unlink()},link:function(){t.browser.msie?this.ec("createLink",!0):this.ec("createLink",!1,prompt("Link URL:","http://"))},unlink:function(){this.ec("unlink",!1,[])},orderedList:function(){this.ec("insertorderedlist")},unorderedList:function(){this.ec("insertunorderedlist")},superscript:function(){this.ec("superscript")},subscript:function(){this.ec("subscript")},p:function(){this.formatBlock("<p>")},h1:function(){this.heading(1)},h2:function(){this.heading(2)},h3:function(){this.heading(3)},h4:function(){this.heading(4)},h5:function(){this.heading(5)},h6:function(){this.heading(6)},heading:function(e){this.formatBlock(t.browser.msie?"Heading "+e:"h"+e)},indent:function(){this.ec("indent")},outdent:function(){this.ec("outdent")},insertHorizontalRule:function(){this.ec("insertHorizontalRule",!1,"ht")},justifyLeft:function(){this.ec("justifyLeft")},justifyCenter:function(){this.ec("justifyCenter")},justifyRight:function(){this.ec("justifyRight")},increaseFontSize:function(){t.browser.msie?this.ec("fontSize",!1,this.qc("fontSize")+1):t.browser.safari?this.getRange().surroundContents(t(this.iframe[0].contentWindow.document.createElement("span")).css("font-size","larger")[0]):this.ec("increaseFontSize",!1,"big")},decreaseFontSize:function(){t.browser.msie?this.ec("fontSize",!1,this.qc("fontSize")-1):t.browser.safari?this.getRange().surroundContents(t(this.iframe[0].contentWindow.document.createElement("span")).css("font-size","smaller")[0]):this.ec("decreaseFontSize",!1,"small")},forecolor:function(t){this.ec("foreColor",!1,t||prompt("Enter HTML Color:","#"))},formatBlock:function(t){this.ec("formatblock",!1,t||null)},showHTMLView:function(){this.updateTextArea(),this.textarea.show(),this.htmlarea.hide(),t("ul li:not(li:has(a.html))",this.toolbar).hide(),t("ul:not(:has(:visible))",this.toolbar).hide(),t("ul li a.html",this.toolbar).addClass("highlighted")},hideHTMLView:function(){this.updateHtmlArea(),this.textarea.hide(),this.htmlarea.show(),t("ul",this.toolbar).show(),t("ul li",this.toolbar).show().find("a.html").removeClass("highlighted")},toggleHTMLView:function(){this.textarea.is(":hidden")?this.showHTMLView():this.hideHTMLView()},toHtmlString:function(){return this.editor.body.innerHTML},toString:function(){return this.editor.body.innerText},updateTextArea:function(){this.textarea.val(this.toHtmlString())},updateHtmlArea:function(){this.editor.body.innerHTML=this.textarea.val()}},e.fn.init.prototype=e.fn,e.defaultOptions={toolbar:[["html"],["bold","italic","underline","strikethrough","|","subscript","superscript"],["increasefontsize","decreasefontsize"],["orderedlist","unorderedlist"],["indent","outdent"],["justifyleft","justifycenter","justifyright"],["link","unlink","image","horizontalrule"],["p","h1","h2","h3","h4","h5","h6"],["cut","copy","paste"]],css:null,toolbarText:{bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strike-Through",cut:"Cut",copy:"Copy",paste:"Paste",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",p:"Paragraph",indent:"Indent",outdent:"Outdent",horizontalrule:"Insert Horizontal Rule",justifyleft:"Left Justify",justifycenter:"Center Justify",justifyright:"Right Justify",increasefontsize:"Increase Font Size",decreasefontsize:"Decrease Font Size",forecolor:"Text Color",link:"Insert Link",unlink:"Remove Link",image:"Insert Image",orderedlist:"Insert Ordered List",unorderedlist:"Insert Unordered List",subscript:"Subscript",superscript:"Superscript",html:"Show/Hide HTML Source View"}};var i={toolbarButtons:{strikethrough:"strikeThrough",orderedlist:"orderedList",unorderedlist:"unorderedList",horizontalrule:"insertHorizontalRule",justifyleft:"justifyLeft",justifycenter:"justifyCenter",justifyright:"justifyRight",increasefontsize:"increaseFontSize",decreasefontsize:"decreaseFontSize",html:function(){this.toggleHTMLView()}},initEditor:function(t){var e=this.editor=this.iframe[0].contentWindow.document;if(e.designMode="on",e.open(),e.write(this.textarea.val()),e.close(),t.css){var i=e.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=t.css,e.getElementsByTagName("head")[0].appendChild(i)}},initToolBar:function(e){function n(n){for(var a=t("<ul/>").appendTo(o.toolbar),r=0;r<n.length;r++){var l=n[r];if("string"===(typeof l).toLowerCase())if("|"===l)a.append(t('<li class="separator"/>'));else{var c=function(t){var e=i.toolbarButtons[t]||t;return"function"===(typeof e).toLowerCase()?function(t){e.call(this,t)}:function(){this[e](),this.editor.body.focus()}}(l.toLowerCase()),h=e.toolbarText[l.toLowerCase()];a.append(s(l.toLowerCase(),h||l,c))}else a.append(s(l.css,l.text,l.action))}}var o=this,s=function(e,i,n){return t("<li/>").append(t("<a href='javascript:void(0);'/>").addClass(e).attr("title",i).click(function(){n.call(o,t(this))}))};if(0!==e.toolbar.length&&i.isArray(e.toolbar[0]))for(var a=0;a<e.toolbar.length;a++)n(e.toolbar[a]);else n(e.toolbar)},attachEditorEvents:function(){var e=this,i=function(){e.updateHtmlArea()};this.textarea.click(i).keyup(i).keydown(i).mousedown(i).blur(i);var n=function(){e.updateTextArea()};if(t(this.editor.body).click(n).keyup(n).keydown(n).mousedown(n).blur(n),t("form").submit(function(){e.toggleHTMLView(),e.toggleHTMLView()}),window.__doPostBack){var o=__doPostBack;window.__doPostBack=function(){return e&&e.toggleHTMLView&&(e.toggleHTMLView(),e.toggleHTMLView()),o.apply(window,arguments)}}},isArray:function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.splice&&!t.propertyIsEnumerable("length")}}}(jQuery),function(t){if(jHtmlArea){var e=jHtmlArea.fn.forecolor;jHtmlArea.fn.forecolor=function(i){if(i)e.call(this,i);else{var n=this,o=this.getRange();jHtmlAreaColorPickerMenu(t(".forecolor",this.toolbar),{colorChosen:function(e){t.browser.msie?o.execCommand("ForeColor",!1,e):n.forecolor(e)}})}}}var i=window.jHtmlAreaColorPickerMenu=function(t,e){return new jHtmlAreaColorPickerMenu.fn.init(t,e)};i.fn=i.prototype={jhtmlareacolorpickermenu:"0.7.0",init:function(e,n){var o=t.extend({},i.defaultOptions,n),s=this,a=this.owner=t(e),r=a.position();i.instance&&i.instance.hide(),jHtmlAreaColorPickerMenu.instance=this;for(var l=this.picker=t("<div/>").css({position:"absolute",left:r.left+o.offsetLeft,top:r.top+a.height()+o.offsetTop,"z-index":o["z-index"]}).addClass("jHtmlAreaColorPickerMenu"),c=0;c<o.colors.length;c++){var h=o.colors[c];t("<div/>").css("background-color",h).appendTo(l).click(function(t){return function(){o.colorChosen&&o.colorChosen.call(this,t),s.hide()}}(h))}t("<div/>").html("<div></div>Automatic").addClass("automatic").appendTo(l).click(function(){o.colorChosen&&o.colorChosen.call(this,null),s.hide()});var d=!1;l.appendTo(a.parent()).show().mouseout(function(){d=!0,s.currentTimeout=window.setTimeout(function(){!0===d&&s.hide()},1e3)}).mouseover(function(){s.currentTimeout&&(window.clearTimeout(s.currentTimeout),s.currentTimeout=null),d=!1})},hide:function(){this.picker.hide(),this.picker.remove()}},i.fn.init.prototype=i.fn,i.defaultOptions={"z-index":0,offsetTop:0,offsetLeft:0,colors:["#ffffff","#cccccc","#c0c0c0","#999999","#666666","#333333","#000000","#ffcccc","#ff6666","#ff0000","#cc0000","#990000","#660000","#330000","#ffcc99","#ff9966","#ff9900","#ff6600","#cc6600","#993300","#663300","#ffff99","#ffff66","#ffcc66","#ffcc33","#cc9933","#996633","#663333","#ffffcc","#ffff33","#ffff00","#ffcc00","#999900","#666600","#333300","#99ff99","#66ff99","#33ff33","#33cc00","#009900","#006600","#003300","#99FFFF","#33FFFF","#66CCCC","#00CCCC","#339999","#336666","#003333","#CCFFFF","#66FFFF","#33CCFF","#3366FF","#3333FF","#000099","#000066","#CCCCFF","#9999FF","#6666CC","#6633FF","#6600CC","#333399","#330099","#FFCCFF","#FF99FF","#CC66CC","#CC33CC","#993399","#663366","#330033"],colorChosen:null}}(jQuery),function(t,e,n,o){function s(e,i){this.element=e,this.options=t.extend({},c,i),this._defaults=c,this._name=l,this.init()}function a(){return!!("ontouchstart"in e)}function r(){var t=(n.body||n.documentElement).style,e="transition";if("string"==typeof t[e])return!0;v=["Moz","Webkit","Khtml","O","ms"],e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof t[v[i]+e])return!0;return!1}var l="tooltipster",c={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionBefore:function(t,e){e()},functionReady:function(){},functionAfter:function(){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},h=!0;r()||(h=!1);var d=a();t(e).on("mousemove.tooltipster",function(){d=!1,t(e).off("mousemove.tooltipster")}),s.prototype={init:function(){var e=t(this.element),i=this,s=!0;if(0==i.options.touchDevices&&d&&(s=!1),n.all&&!n.querySelector&&(s=!1),1==s){if(1==this.options.iconDesktop&&!d||1==this.options.iconTouch&&d){var a=e.attr("title");e.removeAttr("title");var r=i.options.iconTheme,l=t('<span class="'+r.replace(".","")+'" title="'+a+'">'+this.options.icon+"</span>");l.insertAfter(e),e.data("tooltipsterIcon",l),e=l}var c=t.trim(i.options.content).length>0?i.options.content:e.attr("title");e.data("tooltipsterContent",c),e.removeAttr("title"),1!=this.options.touchDevices||!d||"click"!=this.options.trigger&&"hover"!=this.options.trigger?("hover"==this.options.trigger&&(e.on("mouseenter.tooltipster",function(){i.showTooltip()}),1==this.options.interactive?e.on("mouseleave.tooltipster",function(){var t=e.data("tooltipster"),n=!1;if(t!==o&&""!==t){t.mouseenter(function(){n=!0}),t.mouseleave(function(){n=!1});setTimeout(function(){1==n&&t.mouseleave(function(){})},i.options.interactiveTolerance)}}):e.on("mouseleave.tooltipster",function(){})),"click"==this.options.trigger&&e.on("click.tooltipster",function(){""==e.data("tooltipster")||e.data("tooltipster")==o?i.showTooltip():i.hideTooltip()})):e.bind("touchstart",function(){i.showTooltip()})}},showTooltip:function(){var e=t(this.element),i=this;e.data("tooltipsterIcon")!==o&&(e=e.data("tooltipsterIcon")),e.hasClass("tooltipster-disable")||(t(".tooltipster-base").not(".tooltipster-dying").length>0&&1==i.options.onlyOne&&t(".tooltipster-base").not(".tooltipster-dying").not(e.data("tooltipster")).each(function(){t(this).addClass("tooltipster-kill"),t(this).data("origin").data("plugin_tooltipster").hideTooltip()}),e.clearQueue().delay(i.options.delay).queue(function(){i.options.functionBefore(e,function(){if(e.data("tooltipster")!==o&&""!==e.data("tooltipster")){if(!(m=e.data("tooltipster")).hasClass("tooltipster-kill")){var n="tooltipster-"+i.options.animation;if(m.removeClass("tooltipster-dying"),1==h&&m.clearQueue().addClass(n+"-show"),i.options.timer>0){var s=m.data("tooltipsterTimer");clearTimeout(s),s=setTimeout(function(){m.data("tooltipsterTimer",o),i.hideTooltip()},i.options.timer),m.data("tooltipsterTimer",s)}1==i.options.touchDevices&&d&&t("body").bind("touchstart",function(e){if(1==i.options.interactive){var n=t(e.target),o=!0;n.parents().each(function(){t(this).hasClass("tooltipster-base")&&(o=!1)}),1==o&&(i.hideTooltip(),t("body").unbind("touchstart"))}else i.hideTooltip(),t("body").unbind("touchstart")})}}else{t("body").css("overflow-x","hidden");var a=e.data("tooltipsterContent"),l=i.options.theme.replace(".",""),c=(n="tooltipster-"+i.options.animation,"-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;"),u=i.options.fixedWidth>0?"width:"+i.options.fixedWidth+"px;":"",p=i.options.maxWidth>0?"max-width:"+i.options.maxWidth+"px;":"",f=1==i.options.interactive?"pointer-events: auto;":"",m=t('<div class="tooltipster-base '+l+" "+n+'" style="'+u+" "+p+" "+f+" "+c+'"></div>'),g=t('<div class="tooltipster-content"></div>');g.html(a),m.append(g),m.appendTo("body"),e.data("tooltipster",m),m.data("origin",e),i.positionTooltip(),i.options.functionReady(e,m),1==h?m.addClass(n+"-show"):m.css("display","none").removeClass(n).fadeIn(i.options.speed);var v=a,y=setInterval(function(){var n=e.data("tooltipsterContent");0==t("body").find(e).length?(m.addClass("tooltipster-dying"),i.hideTooltip()):v!==n&&""!==n&&(v=n,m.find(".tooltipster-content").html(n),1==i.options.updateAnimation&&(r()?(m.css({width:"","-webkit-transition":"all "+i.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+i.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+i.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+i.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+i.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){m.removeClass("tooltipster-content-changing"),setTimeout(function(){m.css({"-webkit-transition":i.options.speed+"ms","-moz-transition":i.options.speed+"ms","-o-transition":i.options.speed+"ms","-ms-transition":i.options.speed+"ms",transition:i.options.speed+"ms"})},i.options.speed)},i.options.speed)):m.fadeTo(i.options.speed,.5,function(){m.fadeTo(i.options.speed,1)})),i.positionTooltip()),0!=t("body").find(m).length&&0!=t("body").find(e).length||clearInterval(y)},200);if(i.options.timer>0){s=setTimeout(function(){m.data("tooltipsterTimer",o),i.hideTooltip()},i.options.timer+i.options.speed);m.data("tooltipsterTimer",s)}1==i.options.touchDevices&&d&&t("body").bind("touchstart",function(e){if(1==i.options.interactive){var n=t(e.target),o=!0;n.parents().each(function(){t(this).hasClass("tooltipster-base")&&(o=!1)}),1==o&&(i.hideTooltip(),t("body").unbind("touchstart"))}else i.hideTooltip(),t("body").unbind("touchstart")}),m.mouseleave(function(){})}}),e.dequeue()}))},hideTooltip:function(){var e=t(this.element),i=this;e.data("tooltipsterIcon")!==o&&(e=e.data("tooltipsterIcon"));var n=e.data("tooltipster");if(n==o&&(n=t(".tooltipster-dying")),e.clearQueue(),n!==o&&""!==n){var s=n.data("tooltipsterTimer");s!==o&&clearTimeout(s);var a="tooltipster-"+i.options.animation;1==h?n.clearQueue().removeClass(a+"-show").addClass("tooltipster-dying").delay(i.options.speed).queue(function(){n.remove(),e.data("tooltipster",""),t("body").css("verflow-x",""),i.options.functionAfter(e)}):n.clearQueue().addClass("tooltipster-dying").fadeOut(i.options.speed,function(){n.remove(),e.data("tooltipster",""),t("body").css("verflow-x",""),i.options.functionAfter(e)})}},positionTooltip:function(){var n=t(this.element),s=this;if(n.data("tooltipsterIcon")!==o&&(n=n.data("tooltipsterIcon")),n.data("tooltipster")!==o&&""!==n.data("tooltipster")){var a=n.data("tooltipster");a.css("width","");var r=t(e).width(),l=n.outerWidth(!1),c=n.outerHeight(!1),h=a.outerWidth(!1),d=a.innerWidth()+1,u=a.outerHeight(!1),p=n.offset(),f=p.top,m=p.left,g=o;if(n.is("area")){var v=n.attr("shape"),y=n.parent().attr("name"),b=t('img[usemap="#'+y+'"]'),_=b.offset().left,w=b.offset().top,x=n.attr("coords")!==o?n.attr("coords").split(","):o;if("circle"==v){var k=parseInt(x[0]),C=parseInt(x[1]),T=parseInt(x[2]);c=2*T,l=2*T,f=w+C-T,m=_+k-T}else if("rect"==v){k=parseInt(x[0]),C=parseInt(x[1]);var S=parseInt(x[2]),P=parseInt(x[3]);c=P-C,l=S-k,f=w+C,m=_+k}else if("poly"==v){var E=0,j=0,L=0,I=0,O="even";for(i=0;i<x.length;i++){var A=parseInt(x[i]);"even"==O?(A>L&&(L=A,0==i&&(E=L)),A<E&&(E=A),O="odd"):(A>I&&(I=A,1==i&&(j=I)),A<j&&(j=A),O="even")}c=I-j,l=L-E,f=w+j,m=_+E}else c=b.outerHeight(!1),l=b.outerWidth(!1),f=w,m=_}0==s.options.fixedWidth&&a.css({width:d+"px","padding-left":"0px","padding-right":"0px"});var D=0,M=0,z=parseInt(s.options.offsetY),B=parseInt(s.options.offsetX),N="";function R(){var i=t(e).scrollLeft();if(D-i<0){var n=D-i;D=i,a.data("arrow-reposition",n)}if(D+h-i>r){n=D-(r+i-h);D=r+i-h,a.data("arrow-reposition",n)}}function $(i,n){f-t(e).scrollTop()-u-z-12<0&&n.indexOf("top")>-1&&(s.options.position=i,g=n),f+c+u+12+z>t(e).scrollTop()+t(e).height()&&n.indexOf("bottom")>-1&&(s.options.position=i,g=n,M=f-u-z-12)}if("top"==s.options.position)D=m+B-(m+h-(m+l))/2,M=f-u-z-12,R(),$("bottom","top");if("top-left"==s.options.position&&(D=m+B,M=f-u-z-12,R(),$("bottom-left","top-left")),"top-right"==s.options.position&&(D=m+l+B-h,M=f-u-z-12,R(),$("bottom-right","top-right")),"bottom"==s.options.position)D=m-(m+h-(m+l))/2+B,M=f+c+z+12,R(),$("top","bottom");if("bottom-left"==s.options.position&&(D=m+B,M=f+c+z+12,R(),$("top-left","bottom-left")),"bottom-right"==s.options.position&&(D=m+l+B-h,M=f+c+z+12,R(),$("top-right","bottom-right")),"left"==s.options.position){D=m-B-h-12,myLeftMirror=m+B+l+12;var F=f+u-(f+n.outerHeight(!1));if(M=f-F/2-z,D<0&&myLeftMirror+h>r){var H=2*parseFloat(a.css("border-width")),W=h+D-H;a.css("width",W+"px"),u=a.outerHeight(!1),D=m-B-W-12-H,F=f+u-(f+n.outerHeight(!1)),M=f-F/2-z}else D<0&&(D=m+B+l+12,a.data("arrow-reposition","left"))}if("right"==s.options.position){D=m+B+l+12,myLeftMirror=m-B-h-12;F=f+u-(f+n.outerHeight(!1));if(M=f-F/2-z,D+h>r&&myLeftMirror<0){H=2*parseFloat(a.css("border-width")),W=r-D-H;a.css("width",W+"px"),u=a.outerHeight(!1),F=f+u-(f+n.outerHeight(!1)),M=f-F/2-z}else D+h>r&&(D=m-B-h-12,a.data("arrow-reposition","right"))}if(1==s.options.arrow){var q="tooltipster-arrow-"+s.options.position;if(s.options.arrowColor.length<1)var U=a.css("background-color");else U=s.options.arrowColor;var V=a.data("arrow-reposition");if(V?"left"==V?(q="tooltipster-arrow-right",V=""):"right"==V?(q="tooltipster-arrow-left",V=""):V="left:"+V+"px;":V="","top"==s.options.position||"top-left"==s.options.position||"top-right"==s.options.position)var Y=parseFloat(a.css("border-bottom-width")),G=a.css("border-bottom-color");else if("bottom"==s.options.position||"bottom-left"==s.options.position||"bottom-right"==s.options.position)Y=parseFloat(a.css("border-top-width")),G=a.css("border-top-color");else if("left"==s.options.position)Y=parseFloat(a.css("border-right-width")),G=a.css("border-right-color");else if("right"==s.options.position)Y=parseFloat(a.css("border-left-width")),G=a.css("border-left-color");else Y=parseFloat(a.css("border-bottom-width")),G=a.css("border-bottom-color");Y>1&&Y++;var X="";if(0!==Y){var K="",Q="border-color: "+G+";";-1!==q.indexOf("bottom")?K="margin-top: -"+Y+"px;":-1!==q.indexOf("top")?K="margin-bottom: -"+Y+"px;":-1!==q.indexOf("left")?K="margin-right: -"+Y+"px;":-1!==q.indexOf("right")&&(K="margin-left: -"+Y+"px;"),X='<span class="tooltipster-arrow-border" style="'+K+" "+Q+';"></span>'}a.find(".tooltipster-arrow").remove(),N='<div class="'+q+' tooltipster-arrow" style="'+V+'">'+X+'<span style="border-color:'+U+';"></span></div>',a.append(N)}a.css({top:M+"px",left:D+"px"}),g!==o&&(s.options.position=g)}}},t.fn[l]=function(e){if("string"==typeof e){var i=this,n=arguments[1];if(i.data("plugin_tooltipster")==o){var a=i.find("*");i=t(),a.each(function(){t(this).data("plugin_tooltipster")!==o&&i.push(t(this))})}return i.each(function(){switch(e.toLowerCase()){case"show":t(this).data("plugin_tooltipster").showTooltip();break;case"hide":t(this).data("plugin_tooltipster").hideTooltip();break;case"disable":t(this).addClass("tooltipster-disable");break;case"enable":t(this).removeClass("tooltipster-disable");break;case"destroy":t(this).data("plugin_tooltipster").hideTooltip(),t(this).data("plugin_tooltipster","").attr("title",i.data("tooltipsterContent")).data("tooltipsterContent","").data("plugin_tooltipster","").off("mouseenter.tooltipster mouseleave.tooltipster click.tooltipster");break;case"update":if(t(this).data("tooltipsterIcon")==o)t(this).data("tooltipsterContent",n);else t(this).data("tooltipsterIcon").data("tooltipsterContent",n);break;case"reposition":t(this).data("plugin_tooltipster").positionTooltip()}}),this}return this.each(function(){t.data(this,"plugin_"+l)||t.data(this,"plugin_"+l,new s(this,e));var i=t(this).data("plugin_tooltipster").options;if(1==i.iconDesktop&&!d||1==i.iconTouch&&d){var n=t(this).data("plugin_tooltipster");t(this).next().data("plugin_tooltipster",n)}})},d&&e.addEventListener("orientationchange",function(){t(".tooltipster-base").length>0&&t(".tooltipster-base").each(function(){t(this).data("origin").data("plugin_tooltipster").hideTooltip()})},!1),t(e).on("resize.tooltipster",function(){var e=t(".tooltipster-base").data("origin");null!==e&&e!==o&&e.tooltipster("reposition")})}(jQuery,window,document),function(t){function e(){var t,e,i=document.getElementsByTagName("mark")[0];document.createRange?((e=document.createRange()).selectNode(i),(t=window.getSelection()).removeAllRanges(),t.addRange(e)):((e=document.body.createTextRange()).moveToElementText(i),e.select())}t.fn.contentshare=function(i){var n=t.extend({},t.fn.contentshare.defaults,i);t.extend(t.fn.contentshare,{init:function(e){t.fn.contentshare.defaults.shareable=e},getContent:function(){for(var e="",i=0;i<n.shareLinks.length;i++)e+='<a href="'+n.shareLinks[i]+encodeURIComponent(t("mark.contentshare").html().replace(/\&nbsp;/g," ").replace(/(<([^>]+)>)/g,""))+'" '+(n.newTab?'target="_blank"':"")+'><img src="'+n.shareIcons[i]+'" '+(0!=i?'style="margin-left:5px"':"")+"/></a>";return e},getSelection:function(e){return window.getSelection?"string"==e?encodeURIComponent(t.trim(window.getSelection().getRangeAt(0).toString())):window.getSelection().getRangeAt(0):document.selection?"string"==e?encodeURIComponent(t.trim(document.selection.createRange().text)):document.selection.createRange():void 0},showTooltip:function(){if(this.clear(),!(this.getSelection("string").length<n.minLength)){this.preloadShareIcons(n.shareIcons);var i=this.getSelection(),o=document.createElement("mark");i.surroundContents(o),t("mark").addClass(n.className),t("."+n.className).tooltipster({trigger:"custom",interactive:!0,content:this.getContent(),animation:n.animation}),t("."+n.className).tooltipster("show"),e()}},preloadShareIcons:function(t){for(var e=0;e<t.length;e++){(new Image).src=t[e]}},clear:function(){t("."+n.className).tooltipster("hide"),t("mark").contents().unwrap(),t("mark").remove()}}),t.fn.contentshare.init(this)},t.fn.contentshare.defaults={shareable:{},shareIcons:["img/fb.png","img/tw.png"],shareLinks:["http://www.facebook.com/sharer.php?s=100&p[url]="+document.URL+"&p[title]="+document.title+"&p[summary]=","http://twitter.com/intent/tweet?text="],minLength:5,newTab:!0,className:"contentshare",animation:"grow"}}(jQuery),function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,i){t.fn[e]=function(o){if("string"==typeof o){for(var a=n.call(arguments,1),r=0,l=this.length;l>r;r++){var c=this[r],h=t.data(c,e);if(h)if(t.isFunction(h[o])&&"_"!==o.charAt(0)){var d=h[o].apply(h,a);if(void 0!==d)return d}else s("no such method '"+o+"' for "+e+" instance");else s("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(o),n._init()):(n=new i(this,o),t.data(this,e,n))})}}if(t){var s="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),o(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i(t.jQuery)}(window),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var s={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",s):"object"==typeof exports?module.exports=s:t.eventie=s}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==o.readyState;if(!e.isReady&&!i){e.isReady=!0;for(var n=0,a=s.length;a>n;n++){(0,s[n])()}}}function n(n){return n.bind(o,"DOMContentLoaded",i),n.bind(o,"readystatechange",i),n.bind(t,"load",i),e}var o=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],n)):t.docReady=n(t.eventie)}(this),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,s=o.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp)for(i in e={},n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i]);else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},n.addListener=function(t,i){var n,o=this.getListenersAsObject(t),s="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===e(o[n],i)&&o[n].push(s?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,o,s=this.getListenersAsObject(t);for(o in s)s.hasOwnProperty(o)&&(-1!==(n=e(s[o],i))&&s[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,o,s=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)s.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?s.call(this,n,o):a.call(this,n,o));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,o,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].length;n--;)!0===(i=s[o][n]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=s,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,s=i.length;s>o;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=a.length;i>e;e++){t[a[e]]=0}return t}function n(t){function n(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var n=s(t);if("none"===n.display)return i();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var h=o.isBorderBox=!(!c||!n[c]||"border-box"!==n[c]),d=0,u=a.length;u>d;d++){var p=a[d],f=n[p];f=r(t,f);var m=parseFloat(f);o[p]=isNaN(m)?0:m}var g=o.paddingLeft+o.paddingRight,v=o.paddingTop+o.paddingBottom,y=o.marginLeft+o.marginRight,b=o.marginTop+o.marginBottom,_=o.borderLeftWidth+o.borderRightWidth,w=o.borderTopWidth+o.borderBottomWidth,x=h&&l,k=e(n.width);!1!==k&&(o.width=k+(x?0:g+_));var C=e(n.height);return!1!==C&&(o.height=C+(x?0:v+w)),o.innerWidth=o.width-(g+_),o.innerHeight=o.height-(v+w),o.outerWidth=o.width+y,o.outerHeight=o.height+b,o}}function r(t,e){if(o||-1===e.indexOf("%"))return e;var i=t.style,n=i.left,s=t.runtimeStyle,a=s&&s.left;return a&&(s.left=t.currentStyle.left),i.left=e,e=i.pixelLeft,i.left=n,a&&(s.left=a),e}var l,c=t("boxSizing");return function(){if(c){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[c]="border-box";var i=document.body||document.documentElement;i.appendChild(t);var n=s(t);l=200===e(n.width),i.removeChild(t)}}(),n}var o=t.getComputedStyle,s=o?function(t){return o(t,null)}:function(t){return t.currentStyle},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],n):"object"==typeof exports?module.exports=n(require("get-style-property")):t.getSize=n(t.getStyleProperty)}(window),function(t,e){function i(t,e){return t[r](e)}function n(t){t.parentNode||document.createDocumentFragment().appendChild(t)}function o(t,e){n(t);for(var i=t.parentNode.querySelectorAll(e),o=0,s=i.length;s>o;o++)if(i[o]===t)return!0;return!1}function s(t,e){return n(t),i(t,e)}var a,r=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0,n=t.length;n>i;i++){var o=t[i]+"MatchesSelector";if(e[o])return o}}();if(r){var l=i(document.createElement("div"),"div");a=l?i:s
}else a=o;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return a}):window.matchesSelector=a}(0,Element.prototype),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){for(var e in t)return!1;return null,!0}function n(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t,o,s){function r(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=s("transition"),c=s("transform"),h=l&&c,d=!!s("perspective"),u={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,i=p.length;i>e;e++){var n=p[e],o=s(n);o&&o!==n&&(t[n]=o)}return t}();e(r.prototype,t.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.getSize=function(){this.size=o(this.element)},r.prototype.css=function(t){var e=this.element.style;for(var i in t){e[f[i]||i]=t[i]}},r.prototype.getPosition=function(){var t=a(this.element),e=this.layout.options,i=e.isOriginLeft,n=e.isOriginTop,o=parseInt(t[i?"left":"right"],10),s=parseInt(t[n?"top":"bottom"],10);o=isNaN(o)?0:o,s=isNaN(s)?0:s;var r=this.layout.size;o-=i?r.paddingLeft:r.paddingRight,s-=n?r.paddingTop:r.paddingBottom,this.position.x=o,this.position.y=s},r.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,i={};e.isOriginLeft?(i.left=this.position.x+t.paddingLeft+"px",i.right=""):(i.right=this.position.x+t.paddingRight+"px",i.left=""),e.isOriginTop?(i.top=this.position.y+t.paddingTop+"px",i.bottom=""):(i.bottom=this.position.y+t.paddingBottom+"px",i.top=""),this.css(i),this.emitEvent("layout",[this])};var m=d?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};r.prototype._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),a=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),!a||this.isTransitioning){var r=t-i,l=e-n,c={},h=this.layout.options;r=h.isOriginLeft?r:-r,l=h.isOriginTop?l:-l,c.transform=m(r,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},r.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},r.prototype.moveTo=h?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},r.prototype._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},r.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var g=c&&n(c)+",opacity";r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(u,this,!1))},r.prototype.transition=r.prototype[l?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},r.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd)e.onEnd[n].call(this),delete e.onEnd[n];this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(y)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(l&&parseFloat(this.layout.options.transitionDuration)){var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()}else this.removeElem()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}var s=t.getComputedStyle,a=s?function(t){return s(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):(t.Outlayer={},t.Outlayer.Item=o(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var i in e)t[i]=e[i];return t}function i(t){return"[object Array]"===d.call(t)}function n(t){var e=[];if(i(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,o=t.length;o>n;n++)e.push(t[n]);else e.push(t);return e}function o(t,e){var i=p(e,t);-1!==i&&e.splice(i,1)}function s(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}function a(i,a,d,p,f,m){function g(t,i){if("string"==typeof t&&(t=r.querySelector(t)),t&&u(t)){this.element=t,this.options=e({},this.constructor.defaults),this.option(i);var n=++v;this.element.outlayerGUID=n,y[n]=this,this._create(),this.options.isInitLayout&&this.layout()}else l&&l.error("Bad "+this.constructor.namespace+" element: "+t)}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,d.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0,s=e.length;s>o;o++){var a=new i(e[o],this);n.push(a)}return n},g.prototype._filterFindItemElements=function(t){t=n(t);for(var e=this.options.itemSelector,i=[],o=0,s=t.length;s>o;o++){var a=t[o];if(u(a))if(e){f(a,e)&&i.push(a);for(var r=a.querySelectorAll(e),l=0,c=r.length;c>l;l++)i.push(r[l])}else i.push(a)}return i},g.prototype.getItemElements=function(){for(var t=[],e=0,i=this.items.length;i>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):u(n)&&(i=n),this[t]=i?p(i)[e]:n):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i];o.isIgnored||e.push(o)}return e},g.prototype._layoutItems=function(t,e){function i(){n.emitEvent("layoutComplete",[n,t])}var n=this;if(t&&t.length){this._itemsOn(t,"layout",i);for(var o=[],s=0,a=t.length;a>s;s++){var r=t[s],l=this._getItemLayoutPosition(r);l.item=r,l.isInstant=e||r.isLayoutInstant,o.push(l)}this._processLayoutQueue(o)}else i()},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this._positionItem(n.item,n.x,n.y,n.isInstant)}},g.prototype._positionItem=function(t,e,i,n){n?t.goTo(e,i):t.moveTo(e,i)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=h,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,i){function n(){return++o===s&&i.call(a),!0}for(var o=0,s=t.length,a=this,r=0,l=t.length;l>r;r++){t[r].on(e,n)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,i=t.length;i>e;e++){var n=t[e];this.ignore(n)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,i=t.length;i>e;e++){var n=t[e];o(n,this.stamps),this.unignore(n)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var i=this.stamps[t];this._manageStamp(i)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=h,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,n=p(t);return{left:e.left-i.left-n.marginLeft,top:e.top-i.top-n.marginTop,right:i.right-e.right-n.marginRight,bottom:i.bottom-e.bottom-n.marginBottom}},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(i.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&i.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){t[i].reveal()}},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var i=0;e>i;i++){t[i].hide()}},g.prototype.getItem=function(t){for(var e=0,i=this.items.length;i>e;e++){var n=this.items[e];if(n.element===t)return n}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],s=this.getItem(o);s&&e.push(s)}return e}},g.prototype.remove=function(t){t=n(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var i=0,s=e.length;s>i;i++){var a=e[i];a.remove(),o(a,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,i=this.items.length;i>e;e++){this.items[e].destroy()}this.unbindResize(),delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,i){function n(){g.apply(this,arguments)}return Object.create?n.prototype=Object.create(g.prototype):e(n.prototype,g.prototype),n.prototype.constructor=n,n.defaults=e({},g.defaults),e(n.defaults,i),n.prototype.settings={},n.namespace=t,n.data=g.data,n.Item=function(){m.apply(this,arguments)},n.Item.prototype=new m,a(function(){for(var e=s(t),i=r.querySelectorAll(".js-"+e),o="data-"+e+"-options",a=0,h=i.length;h>a;a++){var d,u=i[a],p=u.getAttribute(o);try{d=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+o+" on "+u.nodeName.toLowerCase()+(u.id?"#"+u.id:"")+": "+f);continue}var m=new n(u,d);c&&c.data(u,t,m)}}),c&&c.bridget&&c.bridget(t,n),n},g.Item=m,g}var r=t.document,l=t.console,c=t.jQuery,h=function(){},d=Object.prototype.toString,u="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],a):t.Outlayer=a(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var n=t.create("masonry");return n.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},n.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},n.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,i=e(t);this.containerWidth=i&&i.innerWidth},n.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,n=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),s=Math.min.apply(Math,o),a=i(o,s),r={x:this.columnWidth*a,y:s},l=s+t.size.outerHeight,c=this.cols+1-o.length,h=0;c>h;h++)this.colYs[a+h]=l;return r},n.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},n.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this.options.isOriginLeft?n.left:n.right,s=o+i.outerWidth,a=Math.floor(o/this.columnWidth);a=Math.max(0,a);var r=Math.floor(s/this.columnWidth);r-=s%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var l=(this.options.isOriginTop?n.top:n.bottom)+i.outerHeight,c=a;r>=c;c++)this.colYs[c]=Math.max(l,this.colYs[c])},n.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},n.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},n.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},n}var i=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++){if(t[i]===e)return i}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),window.log=function(){if(log.history=log.history||[],log.history.push(arguments),this.console){var t,e=arguments;e.callee=e.callee.caller,t=[].slice.call(e),"object"==typeof console.log?log.apply.call(console.log,console,t):console.log.apply(console,t)}},function(t){function e(){}for(var i,n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");i=n.pop();)t[i]=t[i]||e}(function(){try{return console.log(),window.console}catch(t){return window.console={}}}()),function(t){function e(t){return"object"==typeof t?t:{top:t,left:t}}var i=t.scrollTo=function(e,i,n){t(window).scrollTo(e,i,n)};i.defaults={axis:"xy",duration:parseFloat(t.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return t(window)._scrollable()},t.fn._scrollable=function(){return this.map(function(){var e=this;if(!(!e.nodeName||-1!=t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])))return e;var i=(e.contentWindow||e).document||e.ownerDocument||e;return/webkit/i.test(navigator.userAgent)||"BackCompat"==i.compatMode?i.body:i.documentElement})},t.fn.scrollTo=function(n,o,s){return"object"==typeof o&&(s=o,o=0),"function"==typeof s&&(s={onAfter:s}),"max"==n&&(n=9e9),s=t.extend({},i.defaults,s),o=o||s.duration,s.queue=s.queue&&s.axis.length>1,s.queue&&(o/=2),s.offset=e(s.offset),s.over=e(s.over),this._scrollable().each(function(){function a(t){c.animate(d,o,s.easing,t&&function(){t.call(this,n,s)})}if(null!=n){var r,l=this,c=t(l),h=n,d={},u=c.is("html,body");switch(typeof h){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(h)){h=e(h);break}if(!(h=t(h,this)).length)return;case"object":(h.is||h.style)&&(r=(h=t(h)).offset())}t.each(s.axis.split(""),function(t,e){var n="x"==e?"Left":"Top",o=n.toLowerCase(),p="scroll"+n,f=l[p],m=i.max(l,e);if(r)d[p]=r[o]+(u?0:f-c.offset()[o]),s.margin&&(d[p]-=parseInt(h.css("margin"+n))||0,d[p]-=parseInt(h.css("border"+n+"Width"))||0),d[p]+=s.offset[o]||0,s.over[o]&&(d[p]+=h["x"==e?"width":"height"]()*s.over[o]);else{var g=h[o];d[p]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}s.limit&&/^\d+$/.test(d[p])&&(d[p]=d[p]<=0?0:Math.min(d[p],m)),!t&&s.queue&&(f!=d[p]&&a(s.onAfterFirst),delete d[p])}),a(s.onAfter)}}).end()},i.max=function(e,i){var n="x"==i?"Width":"Height",o="scroll"+n;if(!t(e).is("html,body"))return e[o]-t(e)[n.toLowerCase()]();var s="client"+n,a=e.ownerDocument.documentElement,r=e.ownerDocument.body;return Math.max(a[o],r[o])-Math.min(a[s],r[s])}}(jQuery),$(window).load(function(){!function(t){function e(t){if(t&&t.length){var e=t.match(n.text)[1],i=e.match(n.url);return i?'<img src="'+i[1]+'" />':e}}function i(i,n,o){"after"!=i&&"before"!=i||(o=e(n.currentStyle[i]))&&t(n)["before"==i?"prepend":"append"](t(document.createElement("span")).addClass(i).html(o))}var n={text:/^['"]?(.+?)["']?$/,url:/^url\(["']?(.+?)['"]?\)$/};if(t.pseudo=function(t){i("before",t),i("after",t),t.runtimeStyle.behavior=null},document.createStyleSheet){var o=document.createStyleSheet(null,0);o.addRule(".dummy","display: static;"),o.cssText="html, head, head *, body, *.before, *.after, *.before *, *.after * { behavior: none; } * { behavior: expression($.pseudo(this)); }"}}(jQuery)}),function(t){t.fn.fileupload=function(){this.each(function(){function e(){file=i.value,reWin=/.*\\(.*)/;var e=file.replace(reWin,"$1");reUnix=/.*\/(.*)/,e=e.replace(reUnix,"$1"),n.innerHTML=e;var s=/.*\.(.*)/,a=e.replace(s,"$1");o.indexOf("."+a.toLowerCase())<0&&(i.value="",t(n).addClass("error").text("\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430"),window.setTimeout(function(){t(n).removeClass("error").text("")},3e3))}var i=t(this).get(0),n=t(this).siblings(".cf_file_progress").get(0);i.value="",i.onchange=e;var o=i.accept.split(",")})}}(jQuery),function(t){t.fn.formValidator=function(e){var i={};this.each(function(){t.extend(i,e);var n=t(this),o=t(":input",n);o.length;o.removeClass("error").each(function(){var e=t(this),i=e.parents(".fieldrow"),n=e.val();if(gr=e.data("group"),e.parent().removeClass("error"),i.find("em.error").css("display","none"),e.data("validate")||e.data("required"))if(e.data("required")&&""==e.val())e.addClass("error"),e.parent().addClass("error"),i.find(".error.required").css("display","block");else{if(gr){var s=o.filter('[data-group="'+gr+'"]'),a=!1;s.each(function(){(t(this).is('[type="checkbox"]')?t(this)[0].checked:t(this).val())&&(a=!0)}),a?s.removeClass("error").closest("div.fieldrow").find(".error.group").hide():s.addClass("error").closest("div.fieldrow").find(".error.group").show()}switch(e.data("validate")){case"number":if(""!=n)for(var r="-+0123456789. ",l=n.length-1;l>=0;l--){var c=new String(n.charAt(l));if(!(r.lastIndexOf(c)>-1)){e.addClass("error"),e.parent().addClass("error"),i.find(".error.validate").css("display","block");break}}break;case"password":""!=n&&n.length<6&&(e.addClass("error"),i.find(".error.validate").css("display","block"));break;case"email":""!=n&&(/^([a-z0-9_\-]+\.)*[a-z0-9_\-]+@([a-z0-9][a-z0-9\-]*[a-z0-9]\.)+[a-z]{2,4}$/i.test(n)||(e.addClass("error"),e.parent().addClass("error"),i.find(".error.validate").css("display","block")))}if(e.data("minlength")&&""!=n&&(n.length<1*e.data("minlength")?(e.removeClass("ok"),e.parent().addClass("error"),e.addClass("error"),i.find(".error.minlength").css("display","block")):(e.removeClass("error"),i.addClass("ok"))),e.data("identity")){var h=t(e.data("identity"));h.length<1&&alert("\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0441\u0435\u043b\u0435\u043a\u0442\u043e\u0440 \u0432 \u043f\u043e\u043b\u0435 "+e.attr("name")),""!=n&&""!=h.val()&&n!=h.val()&&(e.addClass("error"),e.parent().addClass("error"),i.find(".error.identity").css("display","block"))}}}),n.data("valid",0==t(":input.error",n).length)})}}(jQuery),
/*
 * jQuery Easing Compatibility v1 - http://gsgd.co.uk/sandbox/jquery.easing.php
 *
 * Adds compatibility for applications that use the pre 1.2 easing names
 *
 * Copyright (c) 2007 George Smith
 * Licensed under the MIT License:
 *   http://www.opensource.org/licenses/mit-license.php
 */
jQuery.extend(jQuery.easing,{easeIn:function(t,e,i,n,o){return jQuery.easing.easeInQuad(t,e,i,n,o)},easeOut:function(t,e,i,n,o){return jQuery.easing.easeOutQuad(t,e,i,n,o)},easeInOut:function(t,e,i,n,o){return jQuery.easing.easeInOutQuad(t,e,i,n,o)},expoin:function(t,e,i,n,o){return jQuery.easing.easeInExpo(t,e,i,n,o)},expoout:function(t,e,i,n,o){return jQuery.easing.easeOutExpo(t,e,i,n,o)},expoinout:function(t,e,i,n,o){return jQuery.easing.easeInOutExpo(t,e,i,n,o)},bouncein:function(t,e,i,n,o){return jQuery.easing.easeInBounce(t,e,i,n,o)},bounceout:function(t,e,i,n,o){return jQuery.easing.easeOutBounce(t,e,i,n,o)},bounceinout:function(t,e,i,n,o){return jQuery.easing.easeInOutBounce(t,e,i,n,o)},elasin:function(t,e,i,n,o){return jQuery.easing.easeInElastic(t,e,i,n,o)},elasout:function(t,e,i,n,o){return jQuery.easing.easeOutElastic(t,e,i,n,o)},elasinout:function(t,e,i,n,o){return jQuery.easing.easeInOutElastic(t,e,i,n,o)},backin:function(t,e,i,n,o){return jQuery.easing.easeInBack(t,e,i,n,o)},backout:function(t,e,i,n,o){return jQuery.easing.easeOutBack(t,e,i,n,o)},backinout:function(t,e,i,n,o){return jQuery.easing.easeInOutBack(t,e,i,n,o)}}),function(t){t.fn.replaceCheckBox=function(){this.each(function(){var e=t(this);t("label[for="+e.attr("id")+"]");if(e.hasClass("custom"))return!1;e.wrap('<span class="field checkbox" />').wrap("<span />");var i=e.parents("span.checkbox:eq(0)");e.prop("checked")&&i.addClass("checked"),i.on("click",function(){if(e.attr("disabled"))return!1;e.trigger("change")}),e.on("change",function(){if(e.attr("disabled"))return!1;e.prop("checked")?(i.removeClass("checked"),e.prop("checked",!1)):(i.addClass("checked"),e.prop("checked",!0))})})}}(jQuery),function(t){t.fn.selectReplace=function(){this.each(function(){var e=t(this),i=t('<span class="inpselblock"></span>'),n=t('<span class="inpseltxt"></span>'),o=e.width();if(e.hasClass("custom"))return!1;i.parent().width(o),e.wrap(i),n.insertBefore(e),n.text(t("option:selected",e).text());var s=t('<a class="selopener" href="#"></a>').insertBefore(n),a=t('<div class="optcontainer'+(e.hasClass("round")?" round":"")+'" id="'+e.attr("name")+'opts"></div>').appendTo("body");a.css("min-width",o).hide(function(){t(this).addClass("hide")}),t("option",e).each(function(i){var o=t(this),r=t('<a href="#" title="'+o.text()+'">'+o.text()+"</a>").appendTo(a);r.click(function(){return e.get(0).selectedIndex=i,n.text(t("option:eq("+i+")",e).text()),a.find(".selected").removeClass("selected"),t(this).addClass("selected"),a.slideUp("fast",function(){t(this).addClass("hide"),s.removeClass("open")}),e.change(),!1}),o.prop("selected")&&r.addClass("selected")}),s.click(function(){if(t(".inpselblock").removeClass("open"),t("div.optcontainer").slideUp("fast",function(){t(this).addClass("hide")}),a.hasClass("hide")){var i=t(n).offset(),o=0;a.removeClass("hide"),a.css({left:i.left+"px",top:i.top-1+"px","min-width":e.outerWidth()+15}),a.slideDown("fast",function(){t(document).on("click",function(e){(e.pageX<i.left||e.pageX>i.left+a.width()||e.pageY<i.top||e.pageY>i.top+a.height())&&a.slideUp("fast",function(){t(this).addClass("hide"),s.removeClass("open")})}),s.addClass("open")}),a.siblings().each(function(){var e=parseInt(t(this).css("z-index"));o=Math.max(o,isNaN(e)?0:e)}),a.css({"z-index":o+1})}else a.slideUp("fast",function(){t(this).addClass("hide"),s.removeClass("open")});return!1}),e.addClass("custom")})}}(jQuery),function(t){t.fn.radioReplace=function(){this.each(function(){var e=t(this),i=(t("label[for="+e.attr("id")+"]"),t(this.form));e.attr("name");if(e.hasClass("custom"))return!1;e.wrap('<span class="field radio" />').wrap("<span />");var n=e.parents("span.radio:eq(0)");e.prop("checked")&&n.addClass("checked"),e.change(function(){if(t(this).attr("disabled"))return!1;var e=t(this).attr("name");t('input[name="'+e+'"]',i).each(function(){var e=t(this),i=e.parents("span.radio:eq(0)");e.prop("checked")?i.addClass("checked"):i.removeClass("checked")})})})}}(jQuery),function(t){t.fn.columnize=function(e){var i={width:400,columns:!1,buildOnce:!1,overflow:!1,doneFunc:function(){},target:!1,ignoreImageLoading:!0,columnFloat:"left",lastNeverTallest:!1,accuracy:!1,manualBreaks:!1,cssClassPrefix:""};return"string"==typeof(e=t.extend(i,e)).width&&(e.width=parseInt(e.width,10),isNaN(e.width)&&(e.width=i.width)),this.each(function(){function n(t,e){var i=e?".":"";return f.length?i+f+"-"+t:i+t}function o(i,o,s,a){for(;(p||s.height()<a)&&o[0].childNodes.length;){var r=o[0].childNodes[0];if(t(r).find(n("columnbreak",!0)).length)return;if(t(r).hasClass(n("columnbreak")))return;i.append(r)}if(0!==i[0].childNodes.length){var l=i[0].childNodes,c=l[l.length-1];i[0].removeChild(c);var h=t(c);if(3==h[0].nodeType){var d,u=h[0].nodeValue,f=e.width/18;e.accuracy&&(f=e.accuracy);for(var m=null;s.height()<a&&u.length;){var g=u.indexOf(" ",f);d=-1!=g?u.substring(0,u.indexOf(" ",f)):u,m=document.createTextNode(d),i.append(m),u=u.length>f&&-1!=g?u.substring(g):""}if(s.height()>=a&&null!==m&&(i[0].removeChild(m),u=m.nodeValue+u),!u.length)return!1;h[0].nodeValue=u}return o.contents().length?o.prepend(h):o.append(h),3==h[0].nodeType}}function s(t,e,i,a){if(!t.contents(":last").find(n("columnbreak",!0)).length&&!t.contents(":last").hasClass(n("columnbreak"))&&e.contents().length){var r=e.contents(":first");if(1!=r.get(0).nodeType)return;var l=r.clone(!0);r.hasClass(n("columnbreak"))?(t.append(l),r.remove()):p?(t.append(l),r.remove()):1!=l.get(0).nodeType||l.hasClass(n("dontend"))||(t.append(l),l.is("img")&&i.height()<a+20?r.remove():!r.hasClass(n("dontsplit"))&&i.height()<a+20?r.remove():l.is("img")||r.hasClass(n("dontsplit"))?l.remove():(l.empty(),o(l,r,i,a)?r.addClass(n("split")):(r.addClass(n("split")),r.children().length&&s(l,r,i,a)),0===l.get(0).childNodes.length&&l.remove()))}}function a(){if(!c.data("columnized")||1!=c.children().length){if(c.data("columnized",!0),c.data("columnizing",!0),c.empty(),c.append(t("<div class='"+n("first")+" "+n("last")+" "+n("column")+" ' style='width:100%; float: "+e.columnFloat+";'></div>")),$col=c.children().eq(c.children().length-1),$destroyable=d.clone(!0),e.overflow){for(targetHeight=e.overflow.height,o($col,$destroyable,$col,targetHeight),$destroyable.contents().find(":first-child").hasClass(n("dontend"))||s($col,$destroyable,$col,targetHeight);$col.contents(":last").length&&r($col.contents(":last").get(0));){var i=$col.contents(":last");i.remove(),$destroyable.prepend(i)}for(var a="",l=document.createElement("DIV");$destroyable[0].childNodes.length>0;){var h=$destroyable[0].childNodes[0];if(h.attributes)for(var u=0;u<h.attributes.length;u++)0===h.attributes[u].nodeName.indexOf("jQuery")&&h.removeAttribute(h.attributes[u].nodeName);l.innerHTML="",l.appendChild($destroyable[0].childNodes[0]),a+=l.innerHTML}t(e.overflow.id)[0].innerHTML=a}else $col.append($destroyable);c.data("columnizing",!1),e.overflow&&e.overflow.doneFunc&&e.overflow.doneFunc()}}function r(e){return 3==e.nodeType?!!/^\s+$/.test(e.nodeValue)&&(!!e.previousSibling&&r(e.previousSibling)):1==e.nodeType&&(!!t(e).hasClass(n("dontend"))||0!==e.childNodes.length&&r(e.childNodes[e.childNodes.length-1]))}function l(){if(0,u!=c.width()){u=c.width();var i=Math.round(c.width()/e.width),l=e.width,f=e.height;if(e.columns&&(i=e.columns),p&&(i=d.find(n("columnbreak",!0)).length+1,l=!1),i<=1)return a();if(!c.data("columnizing")){c.data("columnized",!0),c.data("columnizing",!0),c.empty(),c.append(t("<div style='width:"+Math.floor(100/i)+"%; float: "+e.columnFloat+";'></div>")),(w=c.children(":last")).append(d.clone()),h=w.height(),c.empty();var m=h/i,g=3,v=!1;e.overflow?(g=1,m=e.overflow.height):f&&l&&(g=1,m=f,v=!0);for(var y=0;y<g&&y<20;y++){var b,_,w,x;c.empty();try{b=d.clone(!0)}catch(M){b=d.clone()}b.css("visibility","hidden");for(var k=0;k<i;k++)_=0===k?n("first"):"",_+=" "+n("column"),_=k==i-1?n("last")+" "+_:_,c.append(t("<div class='"+_+"' style='width:"+Math.floor(100/i)+"%; float: "+e.columnFloat+";'></div>"));for(k=0;k<i-(e.overflow?0:1)||v&&b.contents().length;){for(c.children().length<=k&&c.append(t("<div class='"+_+"' style='width:"+Math.floor(100/i)+"%; float: "+e.columnFloat+";'></div>")),w=c.children().eq(k),v&&w.width(l+"px"),o(w,b,w,m),s(w,b,w,m);w.contents(":last").length&&r(w.contents(":last").get(0));)(x=w.contents(":last")).remove(),b.prepend(x);k++,0===w.contents().length&&b.contents().length?w.append(b.contents(":first")):k!=i-(e.overflow?0:1)||e.overflow||b.find(n("columnbreak",!0)).length&&i++}if(e.overflow&&!v){var C=!1,T=document.all&&-1!=navigator.appVersion.indexOf("MSIE 7.");if(C||T){for(var S="",P=document.createElement("DIV");b[0].childNodes.length>0;){var E=b[0].childNodes[0];for(k=0;k<E.attributes.length;k++)0===E.attributes[k].nodeName.indexOf("jQuery")&&E.removeAttribute(E.attributes[k].nodeName);P.innerHTML="",P.appendChild(b[0].childNodes[0]),S+=P.innerHTML}t(e.overflow.id)[0].innerHTML=S}else t(e.overflow.id).empty().append(b.contents().clone(!0))}else if(v)c.children().each(function(t){(w=c.children().eq(t)).width(l+"px"),0===t?w.addClass(n("first")):t==c.children().length-1?w.addClass(n("last")):(w.removeClass(n("first")),w.removeClass(n("last")))}),c.width(c.children().length*l+"px");else{w=c.children().eq(c.children().length-1),b.contents().each(function(){w.append(t(this))});w.height();var j=0,L=1e7,I=0,O=!1,A=0;c.children().each(function(t){return function(e){var i=t.children().eq(e);if(!i.children(":last").find(n("columnbreak",!0)).length){var o=i.height();O=!1,j+=o,o>I&&(I=o,O=!0),o<L&&(L=o),A++}}}(c));var D=j/A;0===j?y=g:e.lastNeverTallest&&O?(30,m+=30,y==g-1&&g++):I-L>30?m=D+30:Math.abs(D-m)>20?m=D:y=g}c.append(t("<br style='clear:both;'>"))}c.find(n("column",!0)).find(":first"+n("removeiffirst",!0)).remove(),c.find(n("column",!0)).find(":last"+n("removeiflast",!0)).remove(),c.data("columnizing",!1),e.overflow&&e.overflow.doneFunc(),e.doneFunc()}}}var c=e.target?t(e.target):t(this),h=t(this).height(),d=t("<div></div>"),u=0,p=e.manualBreaks,f=i.cssClassPrefix;"string"==typeof e.cssClassPrefix&&(f=e.cssClassPrefix);if(d.append(t(this).contents().clone(!0)),!e.ignoreImageLoading&&!e.target&&!c.data("imageLoaded")&&(c.data("imageLoaded",!0),t(this).find("img").length>0)){var m=function(t,i){return function(){t.data("firstImageLoaded")||(t.data("firstImageLoaded","true"),t.empty().append(i.children().clone(!0)),t.columnize(e))}}(t(this),d);return t(this).find("img").one("load",m),void t(this).find("img").one("abort",m)}c.empty(),l(),e.buildOnce||t(window).resize(function(){e.buildOnce||(c.data("timeout")&&clearTimeout(c.data("timeout")),c.data("timeout",setTimeout(l,200)))})})}}(jQuery),
/*
 * jQuery UI Touch Punch 0.2.2
 *
 * Copyright 2011, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,o=n._mouseInit;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind("touchstart",t.proxy(e,"_touchStart")).bind("touchmove",t.proxy(e,"_touchMove")).bind("touchend",t.proxy(e,"_touchEnd")),o.call(e)}}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):t.jQuery?t.jQuery:t.Zepto)}(this,function(t,e){t.fn.jPlayer=function(i){var n="jPlayer",o="string"==typeof i,s=Array.prototype.slice.call(arguments,1),a=this;return i=!o&&s.length?t.extend.apply(null,[!0,i].concat(s)):i,o&&"_"===i.charAt(0)?a:(this.each(o?function(){var o=t(this).data(n),r=o&&t.isFunction(o[i])?o[i].apply(o,s):o;return r!==o&&r!==e?(a=r,!1):void 0}:function(){var e=t(this).data(n);e?e.option(i||{}):t(this).data(n,new t.jPlayer(i,this))}),a)},t.jPlayer=function(e,i){if(arguments.length){this.element=t(i),this.options=t.extend(!0,{},this.options,e);var n=this;this.element.bind("remove.jPlayer",function(){n.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var i=function(){this.init()};i.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),i=e.getUTCHours(),n=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*i,o=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*n,s=this.options.timeFormat.padHour&&10>i?"0"+i:i,a=this.options.timeFormat.padMin&&10>n?"0"+n:n,r=this.options.timeFormat.padSec&&10>o?"0"+o:o,l="";return l+=this.options.timeFormat.showHour?s+this.options.timeFormat.sepHour:"",(l+=this.options.timeFormat.showMin?a+this.options.timeFormat.sepMin:"")+(this.options.timeFormat.showSec?r+this.options.timeFormat.sepSec:"")}};var n=new i;t.jPlayer.convertTime=function(t){return n.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),i=/(opera)(?:.*version)?[ \/]([\w.]+)/,n=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,s=/(webkit)[ \/]([\w.]+)/.exec(e)||i.exec(e)||n.exec(e)||e.indexOf("compatible")<0&&o.exec(e)||[];return{browser:s[1]||"",version:s[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),i=/(ipad|playbook)/,n=/(android)/,o=/(mobile)/,s=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(e)||[],a=i.exec(e)||!o.exec(e)&&n.exec(e)||[];return s[1]&&(s[1]=s[1].replace(/\s/g,"_")),{platform:s[1]||"",tablet:a[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var o=t.jPlayer.uaBrowser(navigator.userAgent);o.browser&&(t.jPlayer.browser[o.browser]=!0,t.jPlayer.browser.version=o.version);var s=t.jPlayer.uaPlatform(navigator.userAgent);s.platform&&(t.jPlayer.platform[s.platform]=!0,t.jPlayer.platform.mobile=!s.tablet,t.jPlayer.platform.tablet=!!s.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,i,n=document,o=n.createElement("video"),s={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},a=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!n[s.w3c[0]],moz:!!n[s.moz[0]],webkit:"function"==typeof n[s.webkit[3]],webkitVideo:"function"==typeof o[s.webkitVideo[2]],ms:"function"==typeof o[s.ms[2]]},used:{}},e=0,i=a.length;i>e;e++){var r=a[e];if(t.support[r]){t.spec=r,t.used[r]=!0;break}}if(t.spec){var l=s[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return(t=t||n)[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return(t=t||n)[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var a=function(e){var i,n=t.jPlayer.focus;n&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,n){return e.target.nodeName.toUpperCase()===n.toUpperCase()?(i=!0,!1):void 0}),i||t.each(n.options.keyBindings,function(i,o){return o&&t.isFunction(o.fn)&&("number"==typeof o.key&&e.which===o.key||"string"==typeof o.key&&e.key===o.key)?(e.preventDefault(),o.fn(n),!1):void 0}))};t.jPlayer.keys=function(e){var i="keydown.jPlayer";t(document.documentElement).unbind(i),e&&t(document.documentElement).bind(i,a)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var i=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:NaN},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,n){var o=n.replace(/^\s+|\s+$/g,"");if(i.format[o]){var s=!1;t.each(i.formats,function(t,e){return o===e?(s=!0,!1):void 0}),s||i.formats.push(o)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,n){var o=n.replace(/^\s+|\s+$/g,"");if(i.solution[o]){var s=!1;t.each(i.solutions,function(t,e){return o===e?(s=!0,!1):void 0}),s||i.solutions.push(o)}}),t.each(this.options.auroraFormats.toLowerCase().split(","),function(e,n){var o=n.replace(/^\s+|\s+$/g,"");if(i.format[o]){var s=!1;t.each(i.aurora.formats,function(t,e){return o===e?(s=!0,!1):void 0}),s||i.aurora.formats.push(o)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,n){i.options[t]!==e&&(i.element.bind(n+".jPlayer",i.options[t]),i.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){i.require[i.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!i.status.video||i.status.waitForPlay)&&i.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,function(e,n){i.html.canPlay[n]=i.html[i.format[n].media].available&&""!==i.htmlElement[i.format[n].media].canPlayType(i.format[n].codec),i.aurora.canPlay[n]=t.inArray(n,i.aurora.formats)>-1,i.flash.canPlay[n]=i.format[n].flashCanPlay&&i.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,n){if(0===e)i[n].desired=!0;else{var o=!1,s=!1;t.each(i.formats,function(t,e){i[i.solutions[0]].canPlay[e]&&("video"===i.format[e].media?s=!0:o=!0)}),i[n].desired=i.require.audio&&!o||i.require.video&&!s}}),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,function(t,e){i.html.support[e]=i.html.canPlay[e]&&i.html.desired,i.aurora.support[e]=i.aurora.canPlay[e]&&i.aurora.desired,i.flash.support[e]=i.flash.canPlay[e]&&i.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,n){t.each(i.formats,function(t,e){return i[n].support[e]?(i[n].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var n,o="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var s='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',a=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+o+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];n=document.createElement(s);for(var r=0;r<a.length;r++)n.appendChild(document.createElement(a[r]))}else{var l=function(t,e,i){var n=document.createElement("param");n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)};(n=document.createElement("object")).setAttribute("id",this.internal.flash.id),n.setAttribute("name",this.internal.flash.id),n.setAttribute("data",this.internal.flash.swf),n.setAttribute("type","application/x-shockwave-flash"),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("tabindex","-1"),l(n,"flashvars",o),l(n,"allowscriptaccess","always"),l(n,"bgcolor",this.options.backgroundColor),l(n,"wmode",this.options.wmode)}this.element.append(n),this.internal.flash.jq=t(n)}this.status.playbackRateEnabled=!(!this.html.used||this.flash.used)&&this._testPlaybackRate("audio"),this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){i._trigger(t.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){i.internal.ready=!0,i.version.flash="n/a",i._trigger(t.jPlayer.event.repeat),i._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,function(t,i){e.element!==i&&(i.data("jPlayer")||(i.jPlayer("destroy"),delete e.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(t){var e,i=.5;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e&&(e.playbackRate=i,e.playbackRate===i)}catch(n){return!1}},_uaBlocklist:function(e){var i=navigator.userAgent.toLowerCase(),n=!1;return t.each(e,function(t,e){return e&&e.test(i)?(n=!0,!1):void 0}),n},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,i){var n=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){i.gate&&(n.internal.cmdsIgnored&&this.readyState>0&&(n.internal.cmdsIgnored=!1),n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("loadeddata",function(){i.gate&&(n.androidFix.setMedia=!1,n.androidFix.play&&(n.androidFix.play=!1,n.play(n.androidFix.time)),n.androidFix.pause&&(n.androidFix.pause=!1,n.pause(n.androidFix.time)),n._trigger(t.jPlayer.event.loadeddata))},!1),e.addEventListener("timeupdate",function(){i.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){i.gate&&(n._getHtmlStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){i.gate&&(n._updateButtons(!0),n._html_checkWaitForPlay(),n._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){i.gate&&(n._updateButtons(!0),n._seeked(),n._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){i.gate&&(n._updateButtons(!1),n._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){i.gate&&(n._seeking(),n._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){i.gate&&(n._seeking(),n._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){i.gate&&(n._seeked(),n._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){i.gate&&(n.options.volume=e.volume,n.options.muted=e.muted,n._updateMute(),n._updateVolume(),n._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){i.gate&&(n.options.defaultPlaybackRate=e.defaultPlaybackRate,n.options.playbackRate=e.playbackRate,n._updatePlaybackRate(),n._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){i.gate&&(n._seeked(),n._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){i.gate&&(t.jPlayer.browser.webkit||(n.htmlElement.media.currentTime=0),n.htmlElement.media.pause(),n._updateButtons(!1),n._getHtmlStatus(e,!0),n._updateInterface(),n._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){i.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(clearTimeout(n.internal.htmlDlyCmdId),n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:t.jPlayer.error.URL,context:n.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(o,s){e.addEventListener(this,function(){i.gate&&n._trigger(t.jPlayer.event[s])},!1)})},_addAuroraEventListeners:function(e,i){var n=this;e.volume=100*this.options.volume,e.on("progress",function(){i.gate&&(n.internal.cmdsIgnored&&this.readyState>0&&(n.internal.cmdsIgnored=!1),n._getAuroraStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.progress),e.duration>0&&n._trigger(t.jPlayer.event.timeupdate))},!1),e.on("ready",function(){i.gate&&n._trigger(t.jPlayer.event.loadeddata)},!1),e.on("duration",function(){i.gate&&(n._getAuroraStatus(e),n._updateInterface(),n._trigger(t.jPlayer.event.durationchange))},!1),e.on("end",function(){i.gate&&(n._updateButtons(!1),n._getAuroraStatus(e,!0),n._updateInterface(),n._trigger(t.jPlayer.event.ended))},!1),e.on("error",function(){i.gate&&(n._updateButtons(!1),n._seeked(),n.status.srcSet&&(n.status.waitForLoad=!0,n.status.waitForPlay=!0,n.status.video&&!n.status.nativeVideoControls&&n.internal.video.jq.css({width:"0px",height:"0px"}),n._validString(n.status.media.poster)&&!n.status.nativeVideoControls&&n.internal.poster.jq.show(),n.css.jq.videoPlay.length&&n.css.jq.videoPlay.show(),n._error({type:t.jPlayer.error.URL,context:n.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var i=0,n=0,o=0,s=0;isFinite(t.duration)&&(this.status.duration=t.duration),i=t.currentTime,n=this.status.duration>0?100*i/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(o=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,s=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(o=100,s=n),e&&(i=0,s=0,n=0),this.status.seekPercent=o,this.status.currentPercentRelative=s,this.status.currentPercentAbsolute=n,this.status.currentTime=i,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var i=0,n=0,o=0,s=0;this.status.duration=t.duration/1e3,i=t.currentTime/1e3,n=this.status.duration>0?100*i/this.status.duration:0,t.buffered>0?(o=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,s=this.status.duration>0?i/(t.buffered*this.status.duration):0):(o=100,s=n),e&&(i=0,s=0,n=0),this.status.seekPercent=o,this.status.currentPercentRelative=s,this.status.currentPercentAbsolute=n,this.status.currentTime=i,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,i,n){var o=t.Event(e);o.jPlayer={},o.jPlayer.version=t.extend({},this.version),o.jPlayer.options=t.extend(!0,{},this.options),o.jPlayer.status=t.extend(!0,{},this.status),o.jPlayer.html=t.extend(!0,{},this.html),o.jPlayer.aurora=t.extend(!0,{},this.aurora),o.jPlayer.flash=t.extend(!0,{},this.flash),i&&(o.jPlayer.error=t.extend({},i)),n&&(o.jPlayer.warning=t.extend({},n)),this.element.trigger(o)},jPlayerFlashEvent:function(e,i){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var n=this.status.currentTime,o=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),n>0&&(o?this.pause(n):this.play(n))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=i.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:case t.jPlayer.event.timeupdate:this._getFlashStatus(i),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:i.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));this.css.jq.currentTime.length&&(this._convertTime(this.status.currentTime)!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var t="",e=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?t=this.status.media.duration:("number"==typeof this.status.media.duration&&(i=(e=this.status.media.duration)-this.status.currentTime),t=this.options.remainingDuration?(i>0?"-":"")+this._convertTime(i):this._convertTime(e)),t!==this.css.jq.duration.text()&&this.css.jq.duration.text(t))},_convertTime:i.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){
var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href},_absoluteMediaUrls:function(e){var i=this;return t.each(e,function(t,n){n&&i.format[t]&&"data:"!==n.substr(0,5)&&(e[t]=i._qualifyURL(n))}),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var i=this,n=!1,o=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,function(o,s){var a="video"===i.format[s].media;return t.each(i.solutions,function(o,r){if(i[r].support[s]&&i._validString(e[s])){var l="html"===r,c="aurora"===r;return a?(l?(i.html.video.gate=!0,i._html_setVideo(e),i.html.active=!0):(i.flash.gate=!0,i._flash_setVideo(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i.status.video=!0):(l?(i.html.audio.gate=!0,i._html_setAudio(e),i.html.active=!0,t.jPlayer.platform.android&&(i.androidFix.setMedia=!0)):c?(i.aurora.gate=!0,i._aurora_setAudio(e),i.aurora.active=!0):(i.flash.gate=!0,i._flash_setAudio(e),i.flash.active=!0),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.hide(),i.status.video=!1),n=!0,!1}}),!n&&void 0}),n?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(o?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){"object"==typeof t&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:NaN,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:NaN,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,i){var n=this,o="function"==typeof i,s=Array.prototype.slice.call(arguments);"string"==typeof e&&(o&&s.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,function(){n.element!==this&&(!o||i.call(this.data("jPlayer"),n))&&this.jPlayer.apply(this,s)}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e||!!t,this._muted(t))},unmute:function(t){t=t===e||!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var i=t(e.currentTarget),n=i.offset(),o=e.pageX-n.left,s=i.width(),a=i.height()-e.pageY+n.top,r=i.height();this.volume(this.options.verticalVolume?a/r:o/s)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var i=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){i._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,i){var n=this;if("string"==typeof i)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=i,this.css.cs[e]=this.options.cssSelectorAncestor+" "+i,this.css.jq[e]=i?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){var o=function(i){i.preventDefault(),n[e](i),n.options.autoBlur?t(this).blur():t(this).focus()};this.css.jq[e].bind("click.jPlayer",o)}i&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:i,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var i=t(e.currentTarget),n=i.offset(),o=100*(e.pageX-n.left)/i.width();this.playHead(o)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var i,n=t(e.currentTarget),o=n.offset(),s=e.pageX-o.left,a=n.width(),r=n.height()-e.pageY+o.top,l=n.height();i=(this.options.verticalPlaybackRate?r/l:s/a)*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(i)}},_updatePlaybackRate:function(){var t=(this.options.playbackRate-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*t+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(!(e&&this.options.useStateClassSkin&&this.options.loop))},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(i,n){var o=i;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof i){var s=i.split(".");if(n===e){for(var a=t.extend(!0,{},this.options),r=0;r<s.length;r++){if(a[s[r]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:i,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;a=a[s[r]]}return a}for(var l=o={},c=0;c<s.length;c++)c<s.length-1?(l[s[c]]={},l=l[s[c]]):l[s[c]]=n}return this._setOptions(o),this},_setOptions:function(e){var i=this;return t.each(e,function(t,e){i._setOption(t,e)}),this},_setOption:function(e,i){var n=this;switch(e){case"volume":this.volume(i);break;case"muted":this._muted(i);break;case"globalVolume":this.options[e]=i;break;case"cssSelectorAncestor":this._cssSelectorAncestor(i);break;case"cssSelector":t.each(i,function(t,e){n._cssSelector(t,e)});break;case"playbackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",i),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",i),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=i=this._limitValue(i,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=i=this._limitValue(i,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==i){var o=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!o||o&&!this.status.waitForPlay)&&(o||(this.options[e]=i),i?this._requestFullscreen():this._exitFullscreen(),o||this._setOption("fullWindow",i))}break;case"fullWindow":this.options[e]!==i&&(this._removeUiClass(),this.options[e]=i,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===i.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==i.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],i),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],i),this._updateAutohide();break;case"loop":this._loop(i);break;case"remainingDuration":this.options[e]=i,this._updateInterface();break;case"toggleDuration":this.options[e]=i;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],i),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],i),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==i&&(this.options[e]=i,i?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],i);break;case"keyEnabled":this.options[e]=i,i||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],i);break;case"audioFullScreen":this.options[e]=i;break;case"autoBlur":this.options[e]=i}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e=".jPlayerAutohide",i="mousemove.jPlayer"+e,n=function(e){var i,n,o=!1;"undefined"!=typeof t.internal.mouse?(i=t.internal.mouse.x-e.pageX,n=t.internal.mouse.y-e.pageY,o=Math.floor(i)>0||Math.floor(n)>0):o=!0,t.internal.mouse={x:e.pageX,y:e.pageY},o&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(e),this.css.jq.gui.unbind(e),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,n),this.css.jq.gui.bind(i,n),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){"object"==typeof t&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,i=t.jPlayer.nativeFeatures.fullscreen;i.api.fullscreenEnabled&&i.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(i.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],i=t.jPlayer.nativeFeatures.fullscreen;i.used.webkitVideo&&(e=this.htmlElement.video),i.api.fullscreenEnabled&&i.api.requestFullscreen(e)},_exitFullscreen:function(){var e,i=t.jPlayer.nativeFeatures.fullscreen;i.used.webkitVideo&&(e=this.htmlElement.video),i.api.fullscreenEnabled&&i.api.exitFullscreen(e)},_html_initMedia:function(e){var i=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var n=document.createElement("track");n.setAttribute("kind",e.kind?e.kind:""),n.setAttribute("src",e.src?e.src:""),n.setAttribute("srclang",e.srclang?e.srclang:""),n.setAttribute("label",e.label?e.label:""),e.def&&n.setAttribute("default",e.def),i.append(n)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var i=this;t.each(this.formats,function(t,n){return i.html.support[n]&&e[n]?(i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,i=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))i.play();else{this.internal.cmdsIgnored&&i.play();try{if(i.seekable&&!("object"==typeof i.seekable&&i.seekable.length>0))throw 1;i.currentTime=t,i.play()}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,i=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),i.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(i.seekable&&!("object"==typeof i.seekable&&i.seekable.length>0))throw 1;i.currentTime=t}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,i=this.htmlElement.media;this._html_load();try{if("object"==typeof i.seekable&&i.seekable.length>0)i.currentTime=t*i.seekable.end(i.seekable.length-1)/100;else{if(!(i.duration>0)||isNaN(i.duration))throw"e";i.currentTime=t*i.duration/100}}catch(n){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var i=this;t.each(this.formats,function(t,n){return i.aurora.support[n]&&e[n]?(i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var i=this;try{t.each(this.formats,function(t,n){if(i.flash.support[n]&&e[n]){switch(n){case"m4a":case"fla":i._getMovie().fl_setAudio_m4a(e[n]);break;case"mp3":i._getMovie().fl_setAudio_mp3(e[n]);break;case"rtmpa":i._getMovie().fl_setAudio_rtmp(e[n])}return i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(n){this._flashError(n)}},_flash_setVideo:function(e){var i=this;try{t.each(this.formats,function(t,n){if(i.flash.support[n]&&e[n]){switch(n){case"m4v":case"flv":i._getMovie().fl_setVideo_m4v(e[n]);break;case"rtmpv":i._getMovie().fl_setVideo_rtmp(e[n])}return i.status.src=e[n],i.status.format[n]=!0,i.status.formatType=n,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(n){this._flashError(n)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var i=t.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),e=parseInt(i[0],10)+"."+parseInt(i[1],10))}}catch(n){}else navigator.plugins&&navigator.mimeTypes.length>0&&((t=navigator.plugins["Shockwave Flash"])&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,i){return e>t?e:t>i?i:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var i;i=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[i],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[i]+e.message,hint:t.jPlayer.errorHint[i]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(i){this._trigger(t.jPlayer.event.warning,e,i),this.options.warningAlerts&&this._alert("Warning!"+(i.message?"\n"+i.message:"")+(i.hint?"\n"+i.hint:"")+"\nContext: "+i.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,i){e.internal.domNode[i]=function(t){e[i](t)}}),t.each(t.jPlayer.event,function(i,n){var o=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===i?(o=!1,!1):void 0}),o&&e.element.bind(n+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(i,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.status[i]}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,i){e.internal.domNode[i]=e.options[i]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var i=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(i.split(/\s+/g),function(t,i){delete e.internal.domNode[i]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}}),
/*!
 * zeroclipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2013 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://zeroclipboard.github.io/ZeroClipboard/
 * v1.2.0-beta.4
 */
function(){"use strict";var t,e=function(){var t=/\-([a-z])/g,e=function(t,e){return e.toUpperCase()};return function(i){return i.replace(t,e)}}(),i=function(t,i){var n,o,s,a,r,l;if(window.getComputedStyle?n=window.getComputedStyle(t,null).getPropertyValue(i):(o=e(i),n=t.currentStyle?t.currentStyle[o]:t.style[o]),"cursor"===i&&(!n||"auto"===n))for(s=t.tagName.toLowerCase(),r=0,l=(a=["a"]).length;r<l;r++)if(s===a[r])return"pointer";return n},n=function(t){var e;m.prototype._singleton&&(t||(t=window.event),this!==window?e=this:t.target?e=t.target:t.srcElement&&(e=t.srcElement),m.prototype._singleton.setCurrent(e))},o=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},s=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},a=function(t,e){if(t.addClass)return t.addClass(e),t;if(e&&"string"==typeof e){var i=(e||"").split(/\s+/);if(1===t.nodeType)if(t.className){for(var n=" "+t.className+" ",o=t.className,s=0,a=i.length;s<a;s++)n.indexOf(" "+i[s]+" ")<0&&(o+=" "+i[s]);t.className=o.replace(/^\s+|\s+$/g,"")}else t.className=e}return t},r=function(t,e){if(t.removeClass)return t.removeClass(e),t;if(e&&"string"==typeof e||e===undefined){var i=(e||"").split(/\s+/);if(1===t.nodeType&&t.className)if(e){for(var n=(" "+t.className+" ").replace(/[\n\t]/g," "),o=0,s=i.length;o<s;o++)n=n.replace(" "+i[o]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}else t.className=""}return t},l=function(){var t,e,i,n=1;return"function"==typeof document.body.getBoundingClientRect&&(e=(t=document.body.getBoundingClientRect()).right-t.left,i=document.body.offsetWidth,n=Math.round(e/i*100)/100),n},c=function(t){var e={left:0,top:0,width:0,height:0,zIndex:999999999},n=i(t,"z-index");if(n&&"auto"!==n&&(e.zIndex=parseInt(n,10)),t.getBoundingClientRect){var o,s,a,r=t.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(o=window.pageXOffset,s=window.pageYOffset):(a=l(),o=Math.round(document.documentElement.scrollLeft/a),s=Math.round(document.documentElement.scrollTop/a));var c=document.documentElement.clientLeft||0,h=document.documentElement.clientTop||0;e.left=r.left+o-c,e.top=r.top+s-h,e.width="width"in r?r.width:r.right-r.left,e.height="height"in r?r.height:r.bottom-r.top}return e},h=function(t){return m.prototype._singleton.options.useNoCache?(t.indexOf("?")>=0?"&nocache=":"?nocache=")+(new Date).getTime():""},d=function(t){var e,i=[];t.trustedDomains&&("string"==typeof t.trustedDomains&&t.trustedDomains?e=[t.trustedDomains]:"length"in t.trustedDomains&&(e=t.trustedDomains),i.push("trustedDomain="+encodeURIComponent(e.join(","))));return"string"==typeof t.amdModuleId&&t.amdModuleId&&i.push("amdModuleId="+encodeURIComponent(t.amdModuleId)),"string"==typeof t.cjsModuleId&&t.cjsModuleId&&i.push("cjsModuleId="+encodeURIComponent(t.cjsModuleId)),i.join("&")},u=function(t,e){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},p=function(t){if("string"==typeof t)throw new TypeError("ZeroClipboard doesn't accept query strings.");return t.length?t:[t]},f=function(t,e,i,n,o){o?window.setTimeout(function(){t.call(e,i,n)},0):t.call(e,i,n)},m=function(t,e){if(t&&(m.prototype._singleton||this).glue(t),m.prototype._singleton)return m.prototype._singleton;for(var i in m.prototype._singleton=this,this.options={},y)this.options[i]=y[i];for(var n in e)this.options[n]=e[n];this.handlers={},m.detectFlashSupport()&&w()},g=[];m.prototype.setCurrent=function(e){t=e,this.reposition();var n=e.getAttribute("title");n&&this.setTitle(n);var o=!0===this.options.forceHandCursor||"pointer"===i(e,"cursor");v.call(this,o)},m.prototype.setText=function(t){t&&""!==t&&(this.options.text=t,this.ready()&&this.flashBridge.setText(t))},m.prototype.setTitle=function(t){t&&""!==t&&this.htmlBridge.setAttribute("title",t)},m.prototype.setSize=function(t,e){this.ready()&&this.flashBridge.setSize(t,e)},m.prototype.setHandCursor=function(t){t="boolean"==typeof t?t:!!t,v.call(this,t),this.options.forceHandCursor=t};var v=function(t){this.ready()&&this.flashBridge.setHandCursor(t)};m.version="1.2.0-beta.4";var y={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0,forceHandCursor:!1};m.setDefaults=function(t){for(var e in t)y[e]=t[e]},m.destroy=function(){m.prototype._singleton.unglue(g);var t=m.prototype._singleton.htmlBridge;t.parentNode.removeChild(t),delete m.prototype._singleton},m.detectFlashSupport=function(){var t=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(i){}return!t&&navigator.mimeTypes["application/x-shockwave-flash"]&&(t=!0),t};var b=null,_=null,w=function(){var t=m.prototype._singleton,e=document.getElementById("global-zeroclipboard-html-bridge");if(!e){var i={};for(var n in t.options)i[n]=t.options[n];i.amdModuleId=b,i.cjsModuleId=_;var o=d(i),s='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+t.options.moviePath+h(t.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+t.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+o+'"/>         <embed src="'+t.options.moviePath+h(t.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+o+'"           scale="exactfit">         </embed>       </object>';(e=document.createElement("div")).id="global-zeroclipboard-html-bridge",e.setAttribute("class","global-zeroclipboard-container"),e.setAttribute("data-clipboard-ready",!1),e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.style.width="15px",e.style.height="15px",e.style.zIndex="9999",e.innerHTML=s,document.body.appendChild(e)}t.htmlBridge=e,t.flashBridge=document["global-zeroclipboard-flash-bridge"]||e.children[0].lastElementChild};m.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),r(t,this.options.activeClass),t=null,this.options.text=null},m.prototype.ready=function(){var t=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===t||!0===t},m.prototype.reposition=function(){if(!t)return!1;var e=c(t);this.htmlBridge.style.top=e.top+"px",this.htmlBridge.style.left=e.left+"px",this.htmlBridge.style.width=e.width+"px",this.htmlBridge.style.height=e.height+"px",this.htmlBridge.style.zIndex=e.zIndex+1,this.setSize(e.width,e.height)},m.dispatch=function(t,e){m.prototype._singleton.receiveEvent(t,e)},m.prototype.on=function(t,e){for(var i=t.toString().split(/\s/g),n=0;n<i.length;n++)t=i[n].toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=e);this.handlers.noflash&&!m.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},m.prototype.addEventListener=m.prototype.on,m.prototype.off=function(t,e){for(var i=t.toString().split(/\s/g),n=0;n<i.length;n++)for(var o in t=i[n].toLowerCase().replace(/^on/,""),this.handlers)o===t&&this.handlers[o]===e&&delete this.handlers[o]},m.prototype.removeEventListener=m.prototype.off,m.prototype.receiveEvent=function(e,i){e=e.toString().toLowerCase().replace(/^on/,"");var n=t,o=!0;switch(e){case"load":if(i&&parseFloat(i.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return void this.receiveEvent("onWrongFlash",{flashVersion:i.flashVersion});this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":a(n,this.options.hoverClass);break;case"mouseout":r(n,this.options.hoverClass),this.resetBridge();break;case"mousedown":a(n,this.options.activeClass);break;case"mouseup":r(n,this.options.activeClass);break;case"datarequested":var s=n.getAttribute("data-clipboard-target"),l=s?document.getElementById(s):null;if(l){var c=l.value||l.textContent||l.innerText;c&&this.setText(c)}else{var h=n.getAttribute("data-clipboard-text");h&&this.setText(h)}o=!1;break;case"complete":this.options.text=null}if(this.handlers[e]){var d=this.handlers[e];"string"==typeof d&&"function"==typeof window[d]&&(d=window[d]),"function"==typeof d&&f(d,n,this,i,o)}},m.prototype.glue=function(t){t=p(t);for(var e=0;e<t.length;e++)-1==u(t[e],g)&&(g.push(t[e]),o(t[e],"mouseover",n))},m.prototype.unglue=function(t){t=p(t);for(var e=0;e<t.length;e++){s(t[e],"mouseover",n);var i=u(t[e],g);-1!=i&&g.splice(i,1)}},"function"==typeof define&&define.amd?define(["require","exports","module"],function(t,e,i){return b=i&&i.id||null,m}):"undefined"!=typeof module&&module?(_=module.id||null,module.exports=m):window.ZeroClipboard=m}(),$.datepicker.regional.ru={closeText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",prevText:"&#x3c;\u041f\u0440\u0435\u0434",nextText:"\u0421\u043b\u0435\u0434&#x3e;",currentText:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayNames:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0432\u0441\u043a","\u043f\u043d\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043f\u0442\u043d","\u0441\u0431\u0442"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],weekHeader:"\u041d\u0435",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.setDefaults($.datepicker.regional.ru),
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var a=e||window.event,r=l.call(arguments,1),c=0,h=0,d=0,u=0;if((e=t.event.fix(a)).type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in a&&(c=d=-1*a.deltaY),"deltaX"in a&&(h=a.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===a.deltaMode){var p=t.data(this,"mousewheel-line-height");c*=p,d*=p,h*=p}else if(2===a.deltaMode){var f=t.data(this,"mousewheel-page-height");c*=f,d*=f,h*=f}return u=Math.max(Math.abs(d),Math.abs(h)),(!s||u<s)&&(s=u,n(a,u)&&(s/=40)),n(a,u)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/s),h=Math[h>=1?"floor":"ceil"](h/s),d=Math[d>=1?"floor":"ceil"](d/s),e.deltaX=h,e.deltaY=d,e.deltaFactor=s,e.deltaMode=0,r.unshift(e,c,h,d),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,r)}}function i(){s=null}function n(t,e){return h.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=a.length;c;)t.event.fixHooks[a[--c]]=t.event.mouseHooks;var h=t.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var i=r.length;i;)this.addEventListener(r[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",h.getLineHeight(this)),t.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(t(e)["offsetParent"in t.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),
/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
*/
function(t){function e(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}var i,n=e()+".mask",o=navigator.userAgent,s=/iphone/i.test(o),a=/android/i.test(o);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,o){var r,l,c,h,d;return!e&&this.length>0?t(this[0]).data(t.mask.dataName)():(o=t.extend({placeholder:t.mask.placeholder,completed:null},o),r=t.mask.definitions,l=[],c=d=e.length,h=null,t.each(e.split(""),function(t,e){"?"==e?(d--,c=t):r[e]?(l.push(RegExp(r[e])),null===h&&(h=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function u(t){for(;d>++t&&!l[t];);return t}function p(t){for(;--t>=0&&!l[t];);return t}function f(t,e){var i,n;if(!(0>t)){for(i=t,n=u(e);d>i;i++)if(l[i]){if(!(d>n&&l[i].test(x[n])))break;x[i]=x[n],x[n]=o.placeholder,n=u(n)}b(),w.caret(Math.max(h,t))}}function m(t){var e,i,n,s;for(e=t,i=o.placeholder;d>e;e++)if(l[e]){if(n=u(e),s=x[e],x[e]=i,!(d>n&&l[n].test(s)))break;i=s}}function g(t){var e,i,n,o=t.which;8===o||46===o||s&&127===o?(i=(e=w.caret()).begin,0==(n=e.end)-i&&(i=46!==o?p(i):n=u(i-1),n=46===o?u(n):n),y(i,n),f(i,n-1),t.preventDefault()):27==o&&(w.val(k),w.caret(0,_()),t.preventDefault())}function v(e){var i,n,s,r=e.which,c=w.caret();e.ctrlKey||e.altKey||e.metaKey||32>r||r&&(0!=c.end-c.begin&&(y(c.begin,c.end),f(c.begin,c.end-1)),i=u(c.begin-1),d>i&&(n=String.fromCharCode(r),l[i].test(n)&&(m(i),x[i]=n,b(),s=u(i),a?setTimeout(t.proxy(t.fn.caret,w,s),0):w.caret(s),o.completed&&s>=d&&o.completed.call(w))),e.preventDefault())}function y(t,e){var i;for(i=t;e>i&&d>i;i++)l[i]&&(x[i]=o.placeholder)}function b(){w.val(x.join(""))}function _(t){var e,i,n=w.val(),s=-1;for(e=0,pos=0;d>e;e++)if(l[e]){for(x[e]=o.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),l[e].test(i)){x[e]=i,s=e;break}if(pos>n.length)break}else x[e]===n.charAt(pos)&&e!==c&&(pos++,s=e);return t?b():c>s+1?(w.val(""),y(0,d)):(b(),w.val(w.val().substring(0,s+1))),c?e:h}var w=t(this),x=t.map(e.split(""),function(t){return"?"!=t?r[t]?o.placeholder:t:void 0}),k=w.val();w.data(t.mask.dataName,function(){return t.map(x,function(t,e){return l[e]&&t!=o.placeholder?t:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){var t;clearTimeout(i),k=w.val(),t=_(),i=setTimeout(function(){b(),t==e.length?w.caret(0,t):w.caret(t)},10)}).bind("blur.mask",function(){_(),w.val()!=k&&w.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(n,function(){setTimeout(function(){var t=_(!0);w.caret(t),o.completed&&t==w.val().length&&o.completed.call(w)},0)}),_()}))}})}(jQuery),
/*! Magnific Popup - v1.0.0 - 2014-12-12
* http://dimsemenov.com/plugins/magnific-popup/
* Copyright (c) 2014 Dmitry Semenov; */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery||window.Zepto)}(function(t){var e,i,n,o,s,a,r,l="Close",c="BeforeClose",h="AfterClose",d="BeforeAppend",u="MarkupParse",p="Open",f="Change",m="mfp",g="."+m,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",_=function(){},w=!!window.jQuery,x=t(window),k=function(t,i){e.ev.on(m+t+g,i)},C=function(e,i,n,o){var s=document.createElement("div");return s.className="mfp-"+e,n&&(s.innerHTML=n),o?i&&i.appendChild(s):(s=t(s),i&&s.appendTo(i)),s},T=function(i,n){e.ev.triggerHandler(m+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},S=function(i){return i===r&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),r=i),e.currTemplate.closeBtn},P=function(){t.magnificPopup.instance||((e=new _).init(),t.magnificPopup.instance=e)},E=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};_.prototype={constructor:_,init:function(){var i=navigator.appVersion;e.isIE7=-1!==i.indexOf("MSIE 7."),e.isIE8=-1!==i.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=E(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=t(document),e.popupsCache={}},open:function(i){var s;if(n||(n=t(document.body)),!1===i.isObj){e.items=i.items.toArray(),e.index=0;var r,l=i.items;for(s=0;l.length>s;s++)if((r=l[s]).parsed&&(r=r.el[0]),r===i.el[0]){e.index=s;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(!e.isOpen){e.types=[],a="",e.ev=i.mainEl&&i.mainEl.length?i.mainEl.eq(0):o,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=C("bg").on("click"+g,function(){e.close()}),e.wrap=C("wrap").attr("tabindex",-1).on("click"+g,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=C("container",e.wrap)),e.contentContainer=C("content"),e.st.preloader&&(e.preloader=C("preloader",e.container,e.st.tLoading));var c=t.magnificPopup.modules;for(s=0;c.length>s;s++){var h=c[s];h=h.charAt(0).toUpperCase()+h.slice(1),e["init"+h].call(e)}T("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(k(u,function(t,e,i,n){i.close_replaceWith=S(n.type)}),a+=" mfp-close-btn-in"):e.wrap.append(S())),e.st.alignTop&&(a+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:x.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:o.height(),position:"absolute"}),e.st.enableEscapeKey&&o.on("keyup"+g,function(t){27===t.keyCode&&e.close()}),x.on("resize"+g,function(){e.updateSize()}),e.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&e.wrap.addClass(a);var d=e.wH=x.height(),f={};if(e.fixedContentPos&&e._hasScrollBar(d)){var m=e._getScrollbarSize();m&&(f.marginRight=m)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):f.overflow="hidden");var y=e.st.mainClass;return e.isIE7&&(y+=" mfp-ie7"),y&&e._addClassToMFP(y),e.updateItemHTML(),T("BuildControls"),t("html").css(f),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||n),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(v),e._setFocus()):e.bgOverlay.addClass(v),o.on("focusin"+g,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(d),T(p),i}e.updateItemHTML()},close:function(){e.isOpen&&(T(c),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(y),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){T(l);var i=y+" "+v+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var n={marginRight:""};e.isIE7?t("body, html").css("overflow",""):n.overflow="",t("html").css(n)}o.off("keyup"+g+" focusin"+g),e.ev.off(g),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,T(h)},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||x.height();e.fixedContentPos||e.wrap.css("height",e.wH),T("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(T("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var o=!!e.st[n]&&e.st[n].markup;T("FirstMarkupParse",o),e.currTemplate[n]=!o||t(o)}s&&s!==i.type&&e.container.removeClass("mfp-"+s+"-holder");var a=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(a,n),i.preloaded=!0,T(f,i),s=i.type,e.container.prepend(e.contentContainer),T("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[i]?e.content.find(".mfp-close").length||e.content.append(S()):e.content=t:e.content="",T(d),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n,o=e.items[i];if(o.tagName?o={el:t(o)}:(n=o.type,o={data:o,src:o.src}),o.el){for(var s=e.types,a=0;s.length>a;a++)if(o.el.hasClass("mfp-"+s[a])){n=s[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=n||e.st.type||"inline",o.index=i,o.parsed=!0,e.items[i]=o,T("ElementParse",o),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var o="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(o).on(o,n)):(i.isObj=!1,i.delegate?t.off(o).on(o,i.delegate,n):(i.items=t,t.off(o).on(o,n)))},_openClick:function(i,n,o){if((void 0!==o.midClick?o.midClick:t.magnificPopup.defaults.midClick)||2!==i.which&&!i.ctrlKey&&!i.metaKey){var s=void 0!==o.disableOn?o.disableOn:t.magnificPopup.defaults.disableOn;if(s)if(t.isFunction(s)){if(!s.call(e))return!0}else if(s>x.width())return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),o.el=t(i.mfpEl),o.delegate&&(o.items=n.find(o.delegate)),e.open(o)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var o={status:t,text:n};T("UpdateStatus",o),t=o.status,n=o.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(b)){var n=e.st.closeOnContentClick,o=e.st.closeOnBgClick;if(n&&o)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(o&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?o.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){return i.target===e.wrap[0]||t.contains(e.wrap[0],i.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,i,n){var o;n.data&&(i=t.extend(n.data,i)),T(u,[e,i,n]),t.each(i,function(t,i){if(void 0===i||!1===i)return!0;if((o=t.split("_")).length>1){var n=e.find(g+"-"+o[0]);if(n.length>0){var s=o[1];"replaceWith"===s?n[0]!==i[0]&&n.replaceWith(i):"img"===s?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(o[1],i)}}else e.find(g+"-"+t).html(i)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:_.prototype,modules:[],open:function(e,i){return P(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},t.fn.magnificPopup=function(i){P();var n=t(this);if("string"==typeof i)if("open"===i){var o,s=w?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(arguments[1],10)||0;s.items?o=s.items[a]:(o=n,s.delegate&&(o=o.find(s.delegate)),o=o.eq(a)),e._openClick({mfpEl:o},n,s)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),w?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var j,L,I,O="inline",A=function(){I&&(L.after(I.addClass(j)).detach(),I=null)};t.magnificPopup.registerModule(O,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(O),k(l+"."+O,function(){A()})},getInline:function(i,n){if(A(),i.src){var o=e.st.inline,s=t(i.src);if(s.length){var a=s[0].parentNode;a&&a.tagName&&(L||(j=o.hiddenClass,L=C(j),j="mfp-"+j),I=s.after(L).detach().removeClass(j)),e.updateStatus("ready")}else e.updateStatus("error",o.tNotFound),s=t("<div>");return i.inlineElement=s,s}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var D,M="ajax",z=function(){D&&n.removeClass(D)},B=function(){z(),e.req&&e.req.abort()};t.magnificPopup.registerModule(M,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(M),D=e.st.ajax.cursor,k(l+"."+M,B),k("BeforeChange."+M,B)},getAjax:function(i){D&&n.addClass(D),e.updateStatus("loading");var o=t.extend({url:i.src,success:function(n,o,s){var a={data:n,xhr:s};T("ParseAjax",a),e.appendContent(t(a.data),M),i.finished=!0,z(),e._setFocus(),setTimeout(function(){e.wrap.addClass(v)},16),e.updateStatus("ready"),T("AjaxContentAdded")},error:function(){z(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(o),""}}});var N,R=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=e.st.image,i=".image";e.types.push("image"),k(p+i,function(){"image"===e.currItem.type&&t.cursor&&n.addClass(t.cursor)}),k(l+i,function(){t.cursor&&n.removeClass(t.cursor),x.off("resize"+g)}),k("Resize"+i,e.resizeImage),e.isLowIE&&k("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,N&&clearInterval(N),t.isCheckingImgSize=!1,T("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],o=function(s){N&&clearInterval(N),N=setInterval(function(){return n.naturalWidth>0?void e._onImageHasSize(t):(i>200&&clearInterval(N),void(3===++i?o(10):40===i?o(50):100===i&&o(500)))},s)};o(1)},getImage:function(i,n){var o=0,s=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,T("ImageLoadComplete")):200>++o?setTimeout(s,100):a())},a=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",r.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},r=e.st.image,l=n.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",i.el&&i.el.find("img").length&&(c.alt=i.el.find("img").attr("alt")),i.img=t(c).on("load.mfploader",s).on("error.mfploader",a),c.src=i.src,l.is("img")&&(i.img=i.img.clone()),(c=i.img[0]).naturalWidth>0?i.hasSize=!0:c.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:R(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(N&&clearInterval(N),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",r.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var $,F=function(){return void 0===$&&($=void 0!==document.createElement("p").style.MozTransform),$};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var o,s,a=i.duration,r=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return o["-webkit-"+s]=o["-moz-"+s]=o["-o-"+s]=o[s]=n,e.css(o),e},h=function(){e.content.css("visibility","visible")};k("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void h();(s=r(t)).css(e._getOffset()),e.wrap.append(s),o=setTimeout(function(){s.css(e._getOffset(!0)),o=setTimeout(function(){h(),setTimeout(function(){s.remove(),t=s=null,T("ZoomAnimationEnded")},16)},a)},16)}}),k(c+n,function(){if(e._allowZoom()){if(clearTimeout(o),e.st.removalDelay=a,!t){if(!(t=e._getItemToZoom()))return;s=r(t)}s.css(e._getOffset(!0)),e.wrap.append(s),e.content.css("visibility","hidden"),setTimeout(function(){s.css(e._getOffset())},16)}}),k(l+n,function(){e._allowZoom()&&(h(),s&&s.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(i){var n,o=(n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),s=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);o.top-=t(window).scrollTop()-s;var r={width:n.width(),height:(w?n.innerHeight():n[0].offsetHeight)-a-s};return F()?r["-moz-transform"]=r.transform="translate("+o.left+"px,"+o.top+"px)":(r.left=o.left,r.top=o.top),r}}});var H="iframe",W="//about:blank",q=function(t){if(e.currTemplate[H]){var i=e.currTemplate[H].find("iframe");i.length&&(t||(i[0].src=W),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(H),k("BeforeChange",function(t,e,i){e!==i&&(e===H?q():i===H&&q(!0))}),k(l+"."+H,function(){q()})},getIframe:function(i,n){var o=i.src,s=e.st.iframe;t.each(s.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var a={};return s.srcAction&&(a[s.srcAction]=o),e._parseMarkup(n,a,i),e.updateStatus("ready"),n}}});var U=function(t){var i=e.items.length;return t>i-1?t-i:0>t?i+t:t},V=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,n=".mfp-gallery",s=Boolean(t.fn.mfpFastClick);return e.direction=!0,!(!i||!i.enabled)&&(a+=" mfp-gallery",k(p+n,function(){i.navigateByImgClick&&e.wrap.on("click"+n,".mfp-img",function(){return e.items.length>1?(e.next(),!1):void 0}),o.on("keydown"+n,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),k("UpdateStatus"+n,function(t,i){i.text&&(i.text=V(i.text,e.currItem.index,e.items.length))}),k(u+n,function(t,n,o,s){var a=e.items.length;o.counter=a>1?V(i.tCounter,s.index,a):""}),k("BuildControls"+n,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,o=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(b),a=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(b),r=s?"mfpFastClick":"click";o[r](function(){e.prev()}),a[r](function(){e.next()}),e.isIE7&&(C("b",o[0],!1,!0),C("a",o[0],!1,!0),C("b",a[0],!1,!0),C("a",a[0],!1,!0)),e.container.append(o.add(a))}}),k(f+n,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void k(l+n,function(){o.off(n),e.wrap.off("click"+n),e.arrowLeft&&s&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=U(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=U(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),o=Math.min(i[1],e.items.length);for(t=1;(e.direction?o:n)>=t;t++)e._preloadItem(e.index+t);for(t=1;(e.direction?n:o)>=t;t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=U(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),T("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,T("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var Y="retina";t.magnificPopup.registerModule(Y,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;(i=isNaN(i)?i():i)>1&&(k("ImageHasSize."+Y,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),k("ElementParse."+Y,function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),function(){var e=1e3,i="ontouchstart"in window,n=function(){x.off("touchmove"+o+" touchend"+o)},o="."+"mfpFastClick";t.fn.mfpFastClick=function(s){return t(this).each(function(){var a,r,l,c,h,d,u,p=t(this);i&&p.on("touchstart"+o,function(t){h=!1,u=1,d=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],l=d.clientX,c=d.clientY,x.on("touchmove"+o,function(t){d=t.originalEvent?t.originalEvent.touches:t.touches,u=d.length,d=d[0],(Math.abs(d.clientX-l)>10||Math.abs(d.clientY-c)>10)&&(h=!0,n())}).on("touchend"+o,function(t){n(),h||u>1||(a=!0,t.preventDefault(),clearTimeout(r),r=setTimeout(function(){a=!1},e),s())})});p.on("click"+o,function(){a||s()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+o+" click"+o),i&&x.off("touchmove"+o+" touchend"+o)}}(),P()}),function(t){t.fn.audionota=function(){this.each(function(){var e=t(this),i=t('<div class="audioplayer"></div>').prependTo(e),n=e.find(".title").text(),o={},s="",a=e.attr("id")?e.attr("id"):"a"+(new Date).getTime(),r=e.find(".media a").eq(0),l=localStorage.getItem("mediaQuality")||"low";e.find(".media a").each(function(e){var i=t(this);s+=e>0?","+i.attr("rel"):i.attr("rel"),"high"===l&&i.data("q2")?o[i.attr("rel")]=i.data("q2"):o[i.attr("rel")]=i.attr("href")});e.data("width")&&e.data("width"),!!e.data("autoplay")&&e.data("autoplay"),!!e.data("mute")&&e.data("mute");var c,h=e.data("swf")?e.data("swf"):"/assets";e.data("volume")?(c=e.data("volume"),null!=localStorage.getItem("volume")&&(console.log(localStorage.getItem("volume")),c=localStorage.getItem("volume"))):c=.5;var d='<div id="container_'+a+'" class="nota_audio"><div class="nota_type-single"><div id="notaplayer_'+a+'" class="nota_jplayer"></div><div class="nota_gui"><div class="nota_interface"><div class="nota_title-container"><div class="nota_title">'+n+'</div></div><div class="nota_progress-container"><div class="nota_progress"><div class="nota_seek-bar"><div class="nota_play-bar"></div><div class="nota_time-container"><span class="nota_current-time"></span> / <span class="nota_duration"></span></div></div></div><div class="nota_time-tooltip"><span>00:00</span><i></i></div></div><div class="nota_controls-holder"><div class="nota_controls"><a href="javascript:;" class="nota_play" tabindex="1"><span>\u0432\u043e\u0441\u043f\u0440.</span></a><a href="javascript:;" class="nota_pause" tabindex="1"><span>\u043f\u0430\u0443\u0437\u0430</span></a><a href="javascript:;" class="nota_stop" tabindex="1"><span>\u0441\u0442\u043e\u043f</span></a>';r.data("q1")&&r.data("q2")&&(d+='<div class="nota_quality">\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e: <a href="javascript:;" onclick="setQuality(\''+a+"', this, '"+r.data("q1")+"', 'low')\" class=\"nota_quality_item "+("low"===l?"active":"")+'" tabindex="1">\u043e\u0431\u044b\u0447\u043d\u043e\u0435</a> / <a href="javascript:;" onclick="setQuality(\''+a+"', this, '"+r.data("q2")+"', 'high')\" class=\"nota_quality_item "+("high"===l?"active":"")+'" tabindex="1">\u0432\u044b\u0441\u043e\u043a\u043e\u0435</a></div>'),t(d+='<div class="nota_volume-controls"><a href="javascript:;" class="nota_mute" tabindex="1" title="\u0432\u044b\u043a\u043b."><span>\u0432\u044b\u043a\u043b.</span></a><a href="javascript:;" class="nota_unmute" tabindex="1" title="\u0432\u043a\u043b."><span>\u0432\u043a\u043b.</span></a><a href="javascript:;" class="nota_volume-max" tabindex="1" title="max volume"><span>\u0432\u0436\u0430\u0440\u0438\u0442\u044c</span></a><div class="nota_volume-bar"><div class="nota_volume-bar-value"><i></i><i></i><i></i><i></i><i></i><i></i></div></div></div></div></div></div></div><div class="errorlayer"><div class="errorstatus"></div></div><div class="waitinglayer"><div class="waitingstatus">\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...</div></div><div class="nota_no-solution"><span>\u041d\u0443\u0436\u0435\u043d \u043f\u043b\u0430\u0433\u0438\u043d</span>\u0414\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0430\u0443\u0434\u0438\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438\u043b\u0438 <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.</div></div></div>').appendTo(i);var u,p=0,f=0,m=0,g=0,v=0,y=0,b=i.find(".errorlayer"),_=b.find(".errorstatus"),w=i.find(".waitinglayer");"apready"!=i.data("apready")&&t("#notaplayer_"+a).jPlayer({ready:function(){t(this).jPlayer("setMedia",o),i.data("apready","apready")},loadedmetadata:function(){},timeupdate:function(){},error:function(e){var i=t(this);e.jPlayer.status.currentTime!=undefined&&e.jPlayer.status.currentTime>0&&(p=e.jPlayer.status.currentTime,f=e.jPlayer.status.currentPercentRelative,m=e.jPlayer.status.currentPercentAbsolute,g=e.jPlayer.status.currentTime,v=e.jPlayer.status.duration,y=e.jPlayer.status.remaining),"play"==u&&(window.setTimeout(function(){e.jPlayer.status.currentPercentRelative=f,e.jPlayer.status.currentPercentAbsolute=m,e.jPlayer.status.currentTime=g,e.jPlayer.status.duration=v,e.jPlayer.status.remaining=y,b.css("display",""),i.jPlayer("play",p)},1e4),b.css("display","block"),_.html("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u043e.<br>\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f..."))},play:function(){u="play";var e=t(this);p>0&&e.jPlayer("play",p)},pause:function(){u="pause"},stop:function(){u="stop"},waiting:function(){w.css("display","block")},canplay:function(){w.css("display","")},seeking:function(t){p=t.jPlayer.status.currentTime},swfPath:h,errorAlerts:!1,cssSelectorAncestor:"#container_"+a,cssSelector:{play:".nota_play",pause:".nota_pause",stop:".nota_stop",seekBar:".nota_seek-bar",playBar:".nota_play-bar",mute:".nota_mute",unmute:".nota_unmute",volumeBar:".nota_volume-bar",volumeBarValue:".nota_volume-bar-value",volumeMax:".nota_volume-max",currentTime:".nota_current-time",duration:".nota_duration",fullScreen:".nota_full-screen",restoreScreen:".nota_restore-screen",repeat:".nota_repeat",repeatOff:".nota_repeat-off",gui:".nota_gui",noSolution:".nota_no-solution"},volumechange:function(t){var e=t.jPlayer.options.volume;localStorage.setItem("volume",e)},volume:c,supplied:s,wmode:"window",smoothPlayBar:!1,keyEnabled:!1})})}}(jQuery),function(t){t.fn.notaplayer=function(){this.each(function(){function e(e,o){if(!n.data("stat"))return!1;i();var s=300*(o-e);w=window.setTimeout(function(){var i;t(".playlist a",n).each(function(){var n=t(this);n.data("cutstart")==e&&n.data("cutend")==o&&(i=n.data("fragment"))}),t.ajax({url:n.data("stat"),dataType:"text",type:"GET",data:{videoid:n.data("videoid"),fragment:i,start:e,end:o},complete:function(){}})},s)}function i(){window.clearTimeout(w)}var n=t(this),o=t('<div class="videoplayer"></div>').prependTo(n),s={},a="",r=n.attr("id")?n.attr("id"):"v"+(new Date).getTime();n.find(".media a").each(function(e){var i=t(this);a+=e>0?","+i.attr("rel"):i.attr("rel"),s[i.attr("rel")]=i.attr("href")}),s.poster=n.find(".preview img").attr("src");var l,c,h,d,u,p,f,m,g,v,y,b,_,w,x={Android:function(){return!!navigator.userAgent.match(/Android/i)},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)},any:function(){return x.Android()||x.BlackBerry()||x.iOS()||x.Windows()}},k=n.data("width")?n.data("width"):590,C=n.data("height")?n.data("height"):396,T=!!n.data("autoplay")&&n.data("autoplay"),S=n.data("volume")?n.data("volume"):.6,P=!!n.data("mute")&&n.data("mute"),E=n.data("swf")?n.data("swf"):"/assets",j=!1,L=!1,I=!1,O=t(window).width();k>640&&(C=Math.floor(C/k*640),k=640),O<k&&(C=Math.floor(C/k*O),k=O),
t('<div id="container_'+r+'" class="nota_video" style="width:'+k+'px;"><div class="nota_type-single"><div id="notaplayer_'+r+'" class="nota_jplayer"></div><div class="nota_video-play"><a href="javascript:;" class="nota_video-play-icon" tabindex="1">\u0432\u043e\u0441\u043f\u0440.</a></div><div class="nota_gui"><div class="nota_interface"><div class="nota_progress-container"><div class="nota_time-cut"></div><div class="nota_progress"><div class="nota_seek-bar"><div class="nota_play-bar"></div><div class="nota_time-container"><span class="nota_current-time"></span> / <span class="nota_duration"></span></div></div></div><div class="nota_time-tooltip"><span>00:00</span><i></i></div></div><div class="nota_controls-holder"><div class="nota_controls"><a href="javascript:;" class="nota_previous" tabindex="1"><span>\u043f\u0440\u0435\u0434.</span></a><a href="javascript:;" class="nota_play" tabindex="1"><span>\u0432\u043e\u0441\u043f\u0440.</span></a><a href="javascript:;" class="nota_pause" tabindex="1"><span>\u043f\u0430\u0443\u0437\u0430</span></a><a href="javascript:;" class="nota_next" tabindex="1"><span>\u0441\u043b\u0435\u0434.</span></a><a href="javascript:;" class="nota_stop" tabindex="1"><span>\u0441\u0442\u043e\u043f</span></a><div class="nota_volume-controls"><a href="javascript:;" class="nota_mute" tabindex="1" title="\u0432\u044b\u043a\u043b."><span>\u0432\u044b\u043a\u043b.</span></a><a href="javascript:;" class="nota_unmute" tabindex="1" title="\u0432\u043a\u043b."><span>\u0432\u043a\u043b.</span></a><a href="javascript:;" class="nota_volume-max" tabindex="1" title="max volume"><span>\u0432\u0436\u0430\u0440\u0438\u0442\u044c</span></a><div class="nota_volume-bar"><div class="nota_volume-bar-value"><i></i><i></i><i></i><i></i><i></i><i></i></div></div></div></div><div class="nota_controls_row2"><div class="nota_toggles"><a href="javascript:;" class="nota_full-screen" tabindex="1" title="\u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d">\u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d</a><a href="javascript:;" class="nota_restore-screen" tabindex="1" title="\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440">\u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440</a><a href="javascript:;" class="nota_repeat" tabindex="1" title="\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c">\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c</a><a href="javascript:;" class="nota_repeat-off" tabindex="1" title="\u043d\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c">\u043d\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c</a><a href="javascript:;" class="nota_shuffle" tabindex="1" title="\u0432\u0440\u0430\u0437\u043d\u043e\u0431\u043e\u0439">\u0432\u0440\u0430\u0437\u043d\u043e\u0431\u043e\u0439</a><a href="javascript:;" class="nota_shuffle-off" tabindex="1" title="\u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443">\u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443</a></div><div class="nota_speed"><a href="javascript:;" class="nota_speed-up" tabindex="1" title="\u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c">\u0443\u0441\u043a\u043e\u0440\u0438\u0442\u044c</a></div><div class="nota_jump"><a href="javascript:;" class="nota_jump-back" tabindex="1" title="\u0447\u0443\u0442\u044c \u043d\u0430\u0437\u0430\u0434">-</a><span class="nota_jump-step">10</span><a href="javascript:;" class="nota_jump-forward" tabindex="1" title="\u0447\u0443\u0442\u044c \u0432\u043f\u0435\u0440\u0435\u0434">+</a></div><div class="nota_cut-control"><a href="javascript:;" class="nota_cut-start" tabindex="1" title="\u043e\u0442 \u0441\u0438\u0445">\u043e\u0442 \u0441\u0438\u0445</a><a href="javascript:;" class="nota_cut-cancel" tabindex="1" title="\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"><i></i><span>\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c</span></a><a href="javascript:;" class="nota_cut-end" tabindex="1" title="\u0434\u043e \u0441\u0438\u0445">\u0434\u043e \u0441\u0438\u0445</a></div></div><div class="nota_share-control"><a href="javascript:;" class="nota_share-button" tabindex="1" title="\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"><i></i><span>\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f</span></a></div></div></div></div><div class="nota_no-solution"><span>\u041d\u0443\u0436\u0435\u043d \u043f\u043b\u0430\u0433\u0438\u043d</span>\u0414\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438\u043b\u0438 <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.</div><div class="nota_share-panel"><a href="#" class="nota_close_share">\u0437\u0430\u043a\u0440\u044b\u0442\u044c</a><form action="." method="post"><div class="nota_sp-getlink"><span class="nota_code-field"><label for="getlink_'+r+'">\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0440\u043e\u043b\u0438\u043a</label><input type="text" id="getlink_'+r+'" name="getlink" readonly="readonly" /><button type="button" value="getlink" data-clipboard-target="getlink_'+r+'">\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443</button></span></div><div class="nota_sp-embed"><div class="nota_sp-size"><span class="nota_title">\u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0432\u0438\u0434\u0435\u043e</span><span class="nota_radio nota_checked"><input type="radio" id="vsize_'+r+'_1" name="vsize" value="large" checked="checked" /><label for="vsize_'+r+'_1">(590x396)<i></i>\u0411\u043e\u043b\u044c\u0448\u043e\u0435</label></span><span class="nota_radio"><input type="radio" id="vsize_'+r+'_2" name="vsize" value="medium" /><label for="vsize_'+r+'_2">(420x282)<i></i>\u0421\u0440\u0435\u0434\u043d\u0435\u0435</label></span><span class="nota_radio"><input type="radio" id="vsize_'+r+'_3" name="vsize" value="small" /><label for="vsize_'+r+'_3">(180x120)<i></i>\u041c\u0430\u043b\u043e\u0435</label></span></div><div class="nota_sp-getcode"><span class="nota_code-field"><label for="getcode_'+r+'">\u0412\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0440\u043e\u043b\u0438\u043a \u043d\u0430 \u0432\u0430\u0448 \u0441\u0430\u0439\u0442</label><input type="text" id="getcode_'+r+'" name="getcode" readonly="readonly" /><button type="button" value="getcode" data-clipboard-target="getcode_'+r+'">\u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434</button></span></div><div class="nota_sp-cutsettings"><div class="nota_sp-cutset"><span class="nota_radio"><input type="radio" id="vcut_'+r+'_1" name="vcut" value="full" /><label for="vcut_'+r+'_1"><i><i></i></i>\u041f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e</label></span><span class="nota_radio nota_checked"><input type="radio" id="vcut_'+r+'_2" name="vcut" value="cut" checked="checked" /><label for="vcut_'+r+'_2"><i><i></i></i>\u041e\u0442\u0440\u044b\u0432\u043e\u043a</label></span></div><div class="nota_sp-cutstart"><span class="nota_cut-field"><label for="cutstart_'+r+'">\u041d\u0430\u0447\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438</label><input type="text" id="cutstart_'+r+'" name="cutstart" readonly="readonly" /></span></div><div class="nota_sp-cutend"><span class="nota_cut-field"><label for="cutend_'+r+'">\u041a\u043e\u043d\u0435\u0446 \u0432\u0440\u0435\u043c\u0435\u043d\u0438</label><input type="text" id="cutend_'+r+'" name="cutend" readonly="readonly" /></span></div><div class="nota_sp-cuttime"><span class="nota_cut-field"><label for="cuttime_'+r+'">\u041f\u043e\u043b\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f</label><input type="text" id="cuttime_'+r+'" name="cuttime" readonly="readonly" /></span></div><div class="nota_sp-cutbut"><div><button type="button" value="preview">\u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440</button></div><div><button type="button" value="reset">\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043b\u0438\u043f</button></div></div></div></div></form></div><div class="nota_loader"></div></div></div>').appendTo(o),t("#notaplayer_"+r).jPlayer({ready:function(){var e=t(this);e.jPlayer("setMedia",s);var o=n.find(".nota_gui");n.find(".prepare").hide(),n.find(".nota_video-play").css({"margin-top":"-"+C+"px",height:C+"px"}),T&&e.jPlayer("play"),v=n.find(".nota_loader"),y=n.find(".nota_video-play"),x.any()&&v.hide(),b=n.find(".nota_time-tooltip"),_=t("span",b);var a=n.find(".nota_progress"),r=a.offset(),g=a.width();a.mouseenter(function(t){b.show(),r=a.offset(),b.css({left:t.pageX-r.left+"px",top:t.pageY-r.top+"px"})}).mouseleave(function(){b.hide()}).mousemove(function(e){var i=e.pageX-r.left;b.css({left:i+"px",top:e.pageY-r.top+"px"}),_.text(t.jPlayer.convertTime(100*i/g*c/100))}).click(function(){});var w=n.find(".nota_share-button"),S=n.find(".nota_share-panel");S.css("opacity",0),w.click(function(e){e.preventDefault(),t(this).blur(),w.hasClass("opened")?S.stop().animate({opacity:0},function(){w.removeClass("opened").html("<i></i><span>\u043f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f</span>"),S.css("display","none")}):S.stop().css("display","block").animate({opacity:1},function(){w.addClass("opened").html("<i></i><span>\u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443</span>")})}),n.find(".nota_close_share").click(function(e){e.preventDefault(),t(this).blur(),w.click()}),n.find(".nota_radio").each(function(){var e=t(this),i=e.parent();e.find(":radio").bind("change",function(){t(this).prop("checked")&&(i.find(".nota_checked").removeClass("nota_checked"),e.addClass("nota_checked"))})}),n.find(".nota_jump-back").click(function(n){n.preventDefault(),t(this).blur(),i(),e.jPlayer("play",l-10)}),n.find(".nota_jump-forward").click(function(n){n.preventDefault(),t(this).blur(),i(),e.jPlayer("play",l+10)}),u=t(':input[name="cutstart"]',n),p=t(':input[name="cutend"]',n),f=t(':input[name="cuttime"]',n);var P=t(':input[name="getcode"]',n);""!=n.data("permalink")?t(':input[name="getlink"]',n).val(n.data("permalink")):n.find(".nota_sp-getlink").remove(),n.data("embed")||n.find(".nota_sp-embed").remove(),t(".nota_sp-cutbut button[value=reset]",n).click(function(){t(':input[name="vcut"]:eq(0),:input[name="vsize"]:eq(0)',n).click(),n.trigger("cutchange"),t(this).blur()}),t(".nota_sp-cutbut button[value=preview]",n).click(function(){n.find(".nota_share-button").click(),e.jPlayer("play",h),t(this).blur()}),t(':input[name="vcut"],:input[name="vsize"]',n).bind("change",function(e){var i=t(e.target);"vcut"==i.attr("name")&&("full"==i.val()?(m.slider({values:[0,100]}),h=0,d=c):(h=l,m.slider("values",0,100*h/c))),n.trigger("cutchange")});var E=t('button[value="getlink"]',n),j=new ZeroClipboard(E,{moviePath:n.data("swf")+"/ZeroClipboard.swf",hoverClass:"hover",forceHandCursor:!0});j.on("noFlash",function(){E.hide()}),j.on("complete",function(){});var L,I=t('button[value="getcode"]',n),O=new ZeroClipboard(I,{moviePath:n.data("swf")+"/ZeroClipboard.swf",hoverClass:"hover",forceHandCursor:!0});O.on("noFlash",function(){I.hide()}),O.on("complete",function(){}),n.bind("cutchange",function(e){if(u.val(t.jPlayer.convertTime(h)),p.val(t.jPlayer.convertTime(d)),f.val(t.jPlayer.convertTime(d-h)),""!=n.data("embed")){var i=n.data("embed"),o=t(':input:checked[name="vcut"]',n).val(),s=t(':input:checked[name="vsize"]',n).val();i=i.indexOf("?")>-1?i+"&":i+"?";var a="full"==o?0:h,r=(e="full"==o?c:d,590),l=396;"medium"==s&&(r=420,l=282),"small"==s&&(r=180,l=120),(h>0||d<c)&&t(':input[name="vcut"][value="cut"]',n).click(),P.val('<object data="'+i+"s="+Math.round(a)+"&e="+Math.round(e)+"&w="+r+"&h="+l+'" width="'+r+'" height="'+l+'"></object>')}}),n.data("permalink")||n.data("embed")||n.find(".nota_share-control").remove(),n.mouseenter(function(){window.clearTimeout(L),o.css("opacity","")}).mouseleave(function(){L=window.setTimeout(function(){w.hasClass("opened")||o.css("opacity","0")},2e3)}),k<500&&n.addClass("sizesmall"),k<300&&n.addClass("sizelite")},loadedmetadata:function(e){var i=t(this),o=n.find(".nota_cut-control");m=n.find(".nota_time-cut"),c=e.jPlayer.status.duration,h=n.data("cutstart")?n.data("cutstart"):0,d=n.data("cutend")?n.data("cutend"):c,m.slider({range:!0,step:.01,values:[100*h/c,100*d/c],slide:function(){b.css({display:"block",left:+m.slider("values",g.data("index"))+"%",top:"-10px"}),_.text(t.jPlayer.convertTime(m.slider("values",g.data("index"))*c/100))},stop:function(t,e){var o=100*l/c;e.values[0]>=o?(m.slider({values:[o,e.values[1]]}),h=l):h=e.values[0]*c/100,e.values[1]<=o?(i.jPlayer("pause",l),m.slider({values:[e.values[0],o]}),d=l):d=e.values[1]*c/100,n.trigger("cutchange"),b.css("display","none")},start:function(){g=m.find(".ui-slider-handle.ui-state-hover, .ui-slider-handle.ui-state-active")},create:function(){m.hide(),o.find(".nota_cut-start").click(function(e){e.preventDefault(),t(this).blur(),h=l,m.slider("values",0,100*h/c),n.trigger("cutchange")}),o.find(".nota_cut-end").click(function(e){e.preventDefault(),t(this).blur(),d=l,m.slider("values",1,100*d/c),n.trigger("cutchange")}),o.find(".nota_cut-cancel").click(function(e){e.preventDefault(),t(this).blur(),h=0,d=c,m.slider({values:[100*h/c,100*d/c]}),n.trigger("cutchange")}),m.find(".ui-slider-handle").each(function(e){t(this).data("index",e)}),n.trigger("cutchange");var e=n.find(".playlist");if(e.length>0){e.find(".fullplay").data("cutstart",0).data("cutend",c),t("a",e).click(function(e){e.preventDefault();var o=t(this);h=o.data("cutstart"),d=o.data("cutend"),m.slider({values:[100*h/c,100*d/c]}),n.trigger("cutchange"),i.jPlayer("play",h),o.blur()}),t(".nota_previous, .nota_next",n).click(function(){var i,n=t(this);if(t(".fragments a",e).each(function(){var e=t(this);e.data("cutstart")<=l&&e.data("cutend")>=l&&(i=e.parent(".fragment"))}),i&&i.length>0){var o=n.hasClass("nota_next")?i.next():i.prev();o.length<1&&(o=n.hasClass("nota_next")?t(".fragment:eq(0)",e):t(".fragment:last",e)),t("a",o).click()}else t(".fragments a:eq(0)",e).click();n.blur()});var s=t(".fragments a:eq(0)",e);h=s.data("cutstart"),d=s.data("cutend"),h>0&&!T&&i.jPlayer("pause",h),m.slider({values:[100*h/c,100*d/c]}),n.trigger("cutchange")}else n.addClass("no_prev").addClass("no_next")}}),y.show(),j=!0},loadeddata:function(){v.hide()},seeked:function(){l>d&&(d=c,m.slider("values",1,100),n.trigger("cutchange")),l<h&&(h=l,m.slider("values",0,100*h/c),n.trigger("cutchange")),j?(v.hide(100,function(){v.css({"background-color":"transparent",opacity:1})}),m.show(),j=!1):(y.hide(),v.hide()),L=!1},seeking:function(){L=!0,x.any()||v.show()},waiting:function(){},timeupdate:function(e){l=e.jPlayer.status.currentTime,!L&&I&&l>=d&&t(this).jPlayer("pause",d)},play:function(){var e=t(this);e.jPlayer("pauseOthers"),(l<=h||l>=d)&&e.jPlayer("play",h),I=!0,y.hide()},playing:function(){v.hide(),y.hide(),I=!0,e(h,d)},pause:function(){I=!1,y.show(),i()},cssSelectorAncestor:"#container_"+r,cssSelector:{videoPlay:".nota_video-play",play:".nota_play",pause:".nota_pause",stop:".nota_stop",seekBar:".nota_seek-bar",playBar:".nota_play-bar",mute:".nota_mute",unmute:".nota_unmute",volumeBar:".nota_volume-bar",volumeBarValue:".nota_volume-bar-value",volumeMax:".nota_volume-max",currentTime:".nota_current-time",duration:".nota_duration",fullScreen:".nota_full-screen",restoreScreen:".nota_restore-screen",repeat:".nota_repeat",repeatOff:".nota_repeat-off",gui:".nota_gui",noSolution:".nota_no-solution"},swfPath:E,preload:"metadata",solution:"html,flash",volume:S,muted:P,supplied:a,size:{width:k+"px",height:C+"px",cssClass:"nota_video-"+k+"p"},smoothPlayBar:!1,keyEnabled:!1})})}}(jQuery);var WND,DOC,BODY,CONT,_columns=4,touchdevice=!1,echoears=!1,main={total:{fb_cnt:null,vk_cnt:null,tw_cnt:null},init:function(){pageuri=window.location},display_block:function(t){$(t).show()}},social={fb_count:function(){main.total.fb_cnt=0},vk_count:function(t){VK={},VK.Share={},VK.Share.count=function(e,i){$("span",t).text(i),main.total.vk_cnt=parseInt(i)},$.getJSON("https://vk.com/share.php?act=count&index=1&url="+pageuri+"&format=json&callback=?")},click_button:function(t){var e=!1;$(t).click(function(){if(!e){var t=$(this).parent("div"),i=parseInt($("span",t).text());isNaN(i)||(i+=1,$("span",t).text(i)),e=!0}return window.open($(this).attr("href"),"displayWindow","width=700,height=400,left=200,top=100,location=no, directories=no,status=no,toolbar=no,menubar=no"),!1})}};$(function(){var t;WND=$(window),DOC=$(document),BODY=$("body"),CONT=BODY.find(".content"),$("html").hasClass("no-touch")||(touchdevice=!0),$(".echoears").length>0&&(echoears=!0),bodyclassName(WND,BODY,CONT),WND.on("resize",function(){window.clearTimeout(t),t=window.setTimeout(function(){bodyclassName(WND,BODY,CONT),BODY.trigger("changecolumns")},150)}),DOC.trigger("pagechange")}),$(document).bind("pagechange",function(){var t,e,i,n;WND=$(window),DOC=$(document),BODY=$("body"),CONT=BODY.find(".content"),$(".iblock, .mainmenu a, .secondmenu a").cleanWS(),$(".supermaincarousel").supermaincarousel(),$(".liveaudioplayer").initLive(),$(".toair").on("click",function(){$.scrollTo($(this).attr("href"),500,{easing:"easeOut"})}),$(".echotop").echotop(),$(".echoleft, .echoright").echoleftright(),$(".icsearch").showSearch(),$(".open_auth").authForm(),$(".authorized").logoutForm(),$(".imgcarousel").mediacarousel(),$(".fragments").columnize({columns:3,lastNeverTallest:!0}),$(".mainpreview").mainpreview(),$(".mainpeoples").mainpeoples(),$(".notaplayer").notaplayer(),$(".audionota").audionota(),$(".multimedia").mmtabs(),$(".bonustabs").bonustabs(),$(".commentList").comFunc(),$(".shareBlock").sharePopup(),$(".custom_check").replaceCheckBox(),$(".custom_radio").radioReplace(),$(".votescharts").votescharts(),$(".piechart").piechart(),$(".carousel").notacarousel(),$("#onair").onaircarousel(),$(".title_info .open").footOpen(),$(".programm_info").descrOpen(),$(".search_result .c_select").selectReplace(),$(".faq").faq(),$("body").on("click",".ajax_comments",function(t){t.preventDefault();var e=$(this),i=$(".answform");return $.ajax({url:e.attr("href"),method:"GET",success:function(t){$(t).insertBefore(i).fadeIn("slow"),e.parent().remove()}}),!1}),$(".abc a").click(function(t){t.preventDefault();var e=$(this),i=$(".broadcast_list, .person_list");return $(".abc a").removeClass("cur"),$.ajax({url:e.attr("href"),method:"GET",success:function(t){i.html(t),e.addClass("cur"),$(".iblock").cleanWS(),i.trigger("update",[])}}),!1}),$("#searchList").letterlist({inp:"#quicksearch",spn:".author .name, .guestst b, .title h2 a"}),t=$(".js-suggest"),e=$("#psearch",t),i=$(".js-suggest-list",t),n=t.data("src"),e.on("keyup",function(){var t=e.val();t.length<3?i.addClass("_hidden"):i.load(n+"?val="+t,function(){i.removeClass("_hidden")})}),$(".calendar").each(function(){$(this).calendar()}),pageUp(),popularblFunc(),touchdevice||DOC.on("mouseenter",".preview",function(){var t=$(this);if(t.hasClass("mouseenter")||t.hasClass("previewclone")||t.parents(".mainpeoples").length>0||t.hasClass("voicepreview"))return!1;$(".mouseenter").removeClass("mouseenter"),$(".previewclone").remove();var e=t.clone(!0);e.addClass("previewclone"),t.hasClass("bdjhot")&&e.addClass("bdjhot"),t.hasClass("bdjnew")&&e.addClass("bdjnew"),t.addClass("mouseenter");var i=t.offset(),n="clone"+(new Date).getTime();e.appendTo("body"),e.css({opacity:0,position:"absolute",top:i.top,left:i.left,margin:0,"z-index":10}).addClass("hover").addClass(n),e.stop().animate({opacity:1},250),e.on("mouseleave",function(i){if($(i.tagret).parents("."+n).length>0)return!1;e.stop().animate({opacity:0},100,function(){t.removeClass("mouseenter"),e.remove()})})}),DOC.on("click",".js-expandtxt",function(){$(this).toggleClass("op")}),DOC.on("click",".js-popup",function(){return $(this).popupList(),!1}),$(".uipopup").uipopup(),$(".connect_bl").tabs(),$(".typical ul:not([class]), .typical ol:not([class])").each(function(){var t=$(this);t.addClass("norm"),$("li",t).wrapInner('<div class="dark"></div>')}),$(".typical table:not([class]) tr:gt(0)").mouseenter(function(){$(this).addClass("hover")}).mouseleave(function(){$(this).removeClass("hover")}),$(".typicalform").each(function(){var t=$(this);$(":checkbox",t).replaceCheckBox(),$(":radio",t).radioReplace(),$("select",t).selectReplace(),t.find(".birthdate").on("change",function(){t.find(".setbirthdate").val($(this).val())}).mask("99.99.9999"),t.find(".setbirthdate").on("change",function(){t.find(".birthdate").val($(this).val())}).on("focus",function(){$.scrollTo($(this),{offset:{left:0,top:-150}})})}),$(".calend").click(function(){return!1}),$(".calendarmonth").each(function(){$(this).calendarmonth()}),$(".calendaryear").each(function(){$(this).calendaryear()}),$(".calendarweek").each(function(){$(this).calendarweek()}),$("#mainsidebar").each(function(){function t(){e.height("").removeClass("asideheightajust");var t=e.outerHeight(),i=0;cont.each(function(){i+=$(this).outerHeight(!0)}),t>i&&e.height(i).addClass("asideheightajust")}var e=$(this),i=e.parent();cont=i.children("section"),cont.length>0&&t(),WND.on("resize load",t)}),$("body").on("click",".open_auth_link, .open_reg_link",function(t){t.preventDefault();var e=$(this),i=$(".auth_popup");i.find(".open").removeClass("open"),i.children(e.hasClass("open_auth_link")?".reg":".auth").addClass("open"),i.find(e.hasClass("open_auth_link")?".authform, .socialblock":".regform").addClass("open"),$("html, body").animate({scrollTop:0},600,"easeOutQuad",function(){$(".header .open_auth").trigger("click")})}),$(".mainmenu").submenuOpen()}),$(window).load(function(){WND=$(window),BODY=$("body"),CONT=BODY.find(".content"),bodyclassName(WND,BODY,CONT),$(".mainbanner_box").fadeIn()}),$(function(){var t=0;main.init(),social.click_button(".fb_btn"),social.click_button(".vk_btn"),social.click_button(".tw_btn"),social.fb_count(".fb_sharer"),social.vk_count(".vk_sharer"),interval=setInterval(function(){t++,null!==main.total.fb_cnt&&null!==main.total.vk_cnt&&null!==main.total.tw_cnt?(main.display_block(".social_block"),clearInterval(interval)):t>30&&clearInterval(interval)},100)}),jQuery.fn.cleanWS=function(){this.each(function(){for(var t=this,e=t.parentNode,i=t.previousSibling,n=t.nextSibling;i;){var o=i.previousSibling;if(3==i.nodeType&&i.nodeValue)for(var s=i.nodeValue.length-1;s>-1&&(9==(r=i.nodeValue.charCodeAt(s))||10==r||32==r);s--)i.nodeValue=i.nodeValue.slice(0,s);8==i.nodeType&&e.removeChild(i),i=o}for(;n;){var a=n.nextSibling;if(3==n.nodeType&&n.nodeValue)for(;n.nodeValue.length;){var r;if(9!=(r=n.nodeValue.charCodeAt(0))&&10!=r&&32!=r)break;n.nodeValue=n.nodeValue.slice(1)}8==n.nodeType&&e.removeChild(n),n=a}})},function(t){t.fn.notacarousel=function(e){this.each(function(){function i(){var e=l.find(".current");c.wrapAll('<div class="carouselwrapper"><div class="carouselslide"></div></div>');var i=0;if(c.each(function(){i+=t(this).outerWidth(!0)}),l.find(".carouselslide").width(i),s("init"),e.length>0){e.nextAll(".preview").addClass("later");var n=100*(e.index()+1)/h;l.find(".carouselslider").slider({value:n}),o(n,!0)}}function n(){a.slider=l.find(".carouselslider").length>0,l.find(".carouselnav").remove(),s("reinit")}function o(e,i){var n=Math.round(e*h/100),o=Math.ceil(n/_columns),s=l.find(".carouselnav"),a=t("li.slide",s);if(i){var r=l.find(".carouselslide"),d=l.find(".carouselwrapper"),u=0,p=r.width(),f=d.width();if(s.find(".current").removeClass("current"),a.eq(o-1).addClass("current"),n-2>0){for(var m=0;m<n-2;m++){var g=c.eq(m);g.length>0&&(u+=Math.ceil(g.outerWidth(!0)))}p-u<f&&(u=p-f-parseInt(c.last().css("margin-right")))}r.css({"margin-left":-u})}else a.eq(o-1>0?o-1:0).trigger("click",["slide"])}function s(e){for(var i=t('<ul class="carouselnav"/>').appendTo(l),n=0;n<h;n++)n%_columns==0&&i.append('<li class="slide"><i class="num">'+n+"</i></li>");i.append('<li class="toleft"><i class="wsico">&#x0033;</i></li><li class="toright"><i class="wsico">&#x0034;</i></li>'),t("li.toleft,li.toright",i).on("click",function(){var e=t(this),n=i.find(".current"),o=e.hasClass("toleft")?n.prev(".slide"):n.next(".slide");o.length>0&&o.trigger("click")});var s=0;for(n=0;n<c.length;n++){if(c.eq(n).position().left>=0)break;n%_columns==0&&s++}var r=t("li.slide",i),p=r.length;r.each(function(e){var n=t(this);e==s?n.addClass("current"):n.addClass("gtcurrent"),n.bind("dblclick",function(t){t.preventDefault()}),n.children("i").text(e+1),n.click(function(e,n){e.preventDefault();var o=t(this),s=l.find(".carouselwrapper"),r=l.find(".carouselslide");if(o.hasClass("current")||l.hasClass("inaction"))return!1;"slide"!=n?(d=a.T,u=a.A,l.addClass("inaction")):(d=0,u="linear");for(var f=i.find(".current"),m=o.index(),g=0,v=m*_columns,y=r.width(),b=s.width(),_=0;_<v;_++){var w=c.eq(_);w.length>0&&(g+=Math.ceil(w.outerWidth(!0)))}if(y-g<b&&(g=y-b-parseInt(c.last().css("margin-right"))),r.stop().animate({"margin-left":-g},d,u,function(){f.removeClass("current"),o.addClass("current"),l.removeClass("inaction"),t("li.gtcurrent",i).removeClass("gtcurrent"),t("li.slide:gt("+e+")",i).addClass("gtcurrent");var e=t("li.current",i).index();t("li.toleft,li.toright",i).removeClass("disabled"),0==e&&t("li.toleft",i).addClass("disabled"),e==p-1&&t("li.toright",i).addClass("disabled")}),a.slider){var x=100*v/h;0==m&&(x=0),m==p-1&&(x=100),l.find(".carouselslider").slider({value:x})}});var o=t("li.current",i).index();t("li.toleft,li.toright",i).removeClass("disabled"),0==o&&t("li.toleft",i).addClass("disabled"),o==p-1&&t("li.toright",i).addClass("disabled")});var f=0,m=l.find(".carouselslide"),g=m.width(),v=l.find(".carouselwrapper").width();(parseInt(m.css("margin-left"))<v-g&&(f=g-v-parseInt(c.last().css("margin-right")),m.stop().animate({"margin-left":-f},d/10,u,function(){})),"init"==e&&a.slider)&&t('<div class="carouselslider" />').appendTo(l).slider({step:100/h,slide:function(t,e){o(e.value)},stop:function(t,e){o(e.value)},change:function(){}})}var a,r={T:touchdevice?350:800,A:"easeOutQuad",slider:!1};a="string"!=typeof e?t.extend(r,e):r;var l=t(this),c=l.find(".iblock.preview"),h=c.length,d=a.T,u=a.A;"reinit"==e?n():i(),t("body").bind("changecolumns",function(){n()})})}}(jQuery),function(t){t.fn.mainpeoples=function(e){this.each(function(){function i(){fake_showcase=a.clone(),fake_showcase.find(".freshentry").remove(),fake_showcase.addClass("fake").appendTo(s),o("init")}function n(){o("reinit")}function o(e){var i=4*a.width()/9;a.children(".iblock").each(function(){var n=t(this),o=n.position();n.width();o.left<i?n.removeClass("tol").addClass("tor"):n.removeClass("tor").addClass("tol"),"init"==e&&(n.find(".mainperson").each(function(){var e=t(this),i=e.find(".freshentry"),o=e.children(".photo"),s=i.find(".photo");i.children().wrapAll('<div class="fe_bg"><div class="fe_cont"></div></div>');var r=t(".author, .when, .txt, .meta, .mediamenu",i);e.find(".mediamenu").length>0&&e.addClass("wmarg"),r.css("opacity",0),o.on("mouseenter",function(){o.css("z-index",100),e.css("z-index",99),a.find(".vis").each(function(){var e=t(this);e.children(".photo").css("z-index",""),e.css("z-index","").find(".author, .when, .txt, .meta, .mediamenu").stop().animate({opacity:0},100,"easeInCubic"),e.removeClass("vis").find(".freshentry").stop().animate({width:0},300,"easeOutQuad")});parseInt(s.css("border-top-width"));s.css("top",o.position().top),n.hasClass("tor")?i.css({right:"auto",left:n.position().left-parseInt(s.css("left"))}):i.css({left:"auto",right:a.width()-n.position().left-n.width()-parseInt(s.css("right"))-parseInt(s.css("border-right-width"))});var l=e.hasClass("wmarg")?"41.625em":"36.625em";n.hasClass("type2")&&(l=e.hasClass("wmarg")?"33.125em":"28.125em"),n.hasClass("type3")&&(l=e.hasClass("wmarg")?"28.4375em":"23.4375em"),i.stop().animate({width:l},300,"easeOutQuad",function(){r.animate({opacity:1},500,function(){o.css("z-index","")})}),e.addClass("vis"),t(document).off("mousemove.closefreshentry").on("mouseout.closefreshentry",function(e){t(e.target).parents(".vip_showcase").length<1&&a.find(".vis").each(function(){var e=t(this);e.children(".photo").css("z-index",""),e.css("z-index","").find(".author, .when, .txt, .meta, .mediamenu").stop().animate({opacity:0},100,"easeInCubic"),e.removeClass("vis").find(".freshentry").stop().animate({width:0},100,"easeOutQuad")})})}).on("mouseout",function(){}).on("click dblclick",function(t){t.preventDefault()})}),a.addClass("mp_ready"))})}var s=t(this),a=(s.find(".vip_sign"),s.find(".vip_showcase"));"reinit"==e?n():i(),t("body").bind("changecolumns",function(){n()})})}}(jQuery),function(t){t.fn.mainpreview=function(e){this.each(function(){function i(t){d.css("margin-top","0");for(var e=0,i=0,n=0;n<t.length;n++){var o=t[n][t[n].length-1];e=Math.max(o.sum,e),n>0&&n<t.length-1&&(i=Math.max(o.sum,i))}c.height(e);var s=i-e+20;d.css({"margin-top":s}),l.css({"margin-bottom":0});var a=Math.abs(s);a-60>0&&l.css({"margin-bottom":a-60})}function n(e,i){var n=e.find('img[src!=""]'),o=[];n.each(function(){if(t(this).attr("src")){var e=new Image;e.src=t(this).attr("src"),o.push(e)}});var s=0;e.off("updatestat").on("updatestat",function(){++s>=o.length&&(r("reinit"),i&&i.length>0&&i.remove(),t("a",d).removeClass("onload"))});for(var a=0;a<o.length;a++)t(o[a]).bind("load abort error",function(){e.trigger("updatestat")})}function o(){t("a",d).click(function(e){e.preventDefault();var i=t(this);if(i.hasClass("onload"))return!1;i.addClass("onload");var o=t('<div class="loader" style="margin-left:-15px;"><img src="/i/ajax-loader_.gif" alt="\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"></div>').prependTo(i.parent());t.ajax({url:i.attr("href"),method:"GET",success:function(e){var s=t(window).scrollTop(),a=t(t(e).html());c.height(""),c.append(a),l.find(".iblock").cleanWS(),l.hasClass("recently-mainpreview")?(c.find(".podcastplayer:not(:has(.audioplayer))").initPodcastPlayer(),o.remove(),i.removeClass("onload")):(n(c,o),r("reinit")),l.trigger("change"),t(window).scrollTop(s)}})}),r("init")}function s(){r("reinit")}function a(t,e,i){if(!u&&!p){p=!0;for(var n,o,s=0,r=0,l=0,c=0,h=0,d=0;d<t.length;d++){var f=(y=t[d][t[d].length-1]).sum;0==d?(r=f,s=f,l=0,c=0,o=y.obj,n=y.obj):(f<r&&(r=f,l=d,o=y.obj),f>s&&(s=f,c=d,n=y.obj))}var m=t[c][t[c].length-1],g=t[l][t[l].length-1],v=!1;if(m.sum-m.H>g.sum&&"mainsidebar"!=m.obj.attr("id")&&(v=!0),!v&&"mainsidebar"!=g.obj.attr("id")){for(d=0;d<t.length;d++){var y,b=(y=t[d][t[d].length-1]).sum-y.H;0==d?(y.H,h=0):b>r&&(h=d)}var _=t[h][t[h].length-1];_.H<m.sum-g.sum&&_.sum-_.H>g.sum&&(n=(m=_).obj,o=g.obj,c=h,v=!0)}if(v){var w=Math.abs(parseInt(o.css("margin-bottom")));n.css({left:240*(l-c),top:o.offset().top-n.offset().top+o.outerHeight()+w});var x=t[c].splice(t[c].length-1,1),k=t[l][t[l].length-1].sum;x[0].sum=k+x[0].H,t[l]?t[l][t[l].length]=x[0]:t[l]=x}if(!v&&"mainsidebar"!=m.obj.attr("id")&&"mainsidebar"!=g.obj.attr("id")&&"mainnewscolumn"!=m.obj.attr("id")&&"mainnewscolumn"!=g.obj.attr("id")&&m.H>g.H){var C=t[c].splice(t[c].length-1,1),T=t[l].splice(t[l].length-1,1),S=(w=Math.abs(parseInt(T[0].obj.css("margin-bottom"))),parseInt(C[0].obj.css("left"))+240*(l-c)),P=parseInt(C[0].obj.css("top"))+((t[l].length>0?t[l][t[l].length-1].sum:0)-(t[c].length>0?t[c][t[c].length-1].sum:0));C[0].obj.css({left:S,top:P});w=Math.abs(parseInt(C[0].obj.css("margin-bottom"))),S=parseInt(T[0].obj.css("left"))+240*(c-l),P=parseInt(T[0].obj.css("top"))+((t[c].length>0?t[c][t[c].length-1].sum:0)-(t[l].length>0?t[l][t[l].length-1].sum:0));T[0].obj.css({left:S,top:P}),C[0].sum=(t[l].length>0?t[l][t[l].length-1].sum:0)+C[0].H,T[0].sum=(t[c].length>0?t[c][t[c].length-1].sum:0)+T[0].H,t[l]?t[l][t[l].length]=C[0]:t[l]=C,t[c]?t[c][t[c].length]=T[0]:t[c]=T}p=!1,++e<t.length?a(t,e,i):i||(e=0)}}function r(e){var n=l.find(".preview, .infinityitem");if(n.length<5)return!1;"reinit"==e&&n.css({"margin-top":""});var o=0,s=[],r=l.width(),c=Math.ceil(r/240),d=t("#mainsidebar"),p=t("#mainnewscolumn");l.closest("section").hasClass("content")||(s[c-1]=new Array({obj:d,H:d.outerHeight()-h.top+20,sum:d.outerHeight()-h.top+20}),s[c-2]=new Array({obj:p,H:p.outerHeight()-h.top+20,sum:p.outerHeight()-h.top+20})),n.css({position:"static",top:"",left:""}).each(function(){var e=t(this);if(!e.hasClass("preview"))return!1;e.css("position","relative");var i=e.position(),n=e.outerHeight(!0);i.top>o&&(o=i.top);var a=Math.round(i.left/240),r=s[a]&&s[a][s[a].length-1]?s[a][s[a].length-1].sum:0;s[a]?s[a].push({obj:e,id:e.data("maxid"),H:n,sum:r+n}):s[a]=new Array({obj:e,id:e.data("maxid"),H:n,sum:r+n}),e.css({"margin-top":-(i.top-r)})}),u=!1,a(s,0),i(s),t(window).load(function(){i(s)})}
var l=t(this),c=l.children(".rel"),h=c.position(),d=l.find(".moregiant");d.css({position:"relative","margin-top":0,clear:"none","margin-bottom":0,width:500,left:"50%","margin-left":-250}),l.addClass("clearfix").css({"margin-bottom":0});var u=!1,p=!1;"reinit"==e?s():o(),n(c,!1),n(t("#mainnewscolumn"),!1),n(t("#mainsidebar"),!1),t(window).bind("load",function(){window.setTimeout(function(){s()},1e3)}),t("body").bind("changecolumns",function(){s()})})}}(jQuery),function(t){t.fn.bonustabs=function(){this.each(function(){var e=t(this),i=e.find(".tabopener"),n=450,o="easeOutQuad";i.on("click",function(i){if(i.preventDefault(),!t(this).hasClass("inaction")){var s=t(this),a=s.attr("href"),r=t(a),l=r.find(".cont");if(s.addClass("inaction"),r.hasClass("opened"))l.css("opacity",0),r.stop().animate({height:0},n,o,function(){t(this).removeClass("opened"),s.removeClass("inaction")});else{l.css("opacity",0),r.height("auto");var c=r.height();r.height(0),e.find(".opened").stop().animate({height:0},n/10,o,function(){t(this).removeClass("opened")}),r.stop().animate({height:c},n,o,function(){r.addClass("opened").height("auto"),s.removeClass("inaction")}),window.setTimeout(function(){l.animate({opacity:1},n/3,function(){})},n/4)}}}),e.find(".form").submit(function(e){var i=t(this);return i.data("valid",!1),i.formValidator(),!!i.data("valid")||(e.preventDefault(),!1)})})}}(jQuery),function(t){t.fn.supermaincarousel=function(e){this.each(function(){function i(){a("init")}function n(){a("reinit")}function o(e,i){e.find(".iblock").each(function(e){var n=t(this),o=r.find(".slidestorage");t(".iblock:eq("+(e+i)+")",o).children(".slide").clone(!0).addClass("opened").appendTo(n),n.find(".opened .info").on("mouseenter",function(){n.addClass("hover"),n.find(".text").stop().slideDown(300)}).on("mouseleave",function(){n.find(".text").stop().slideUp(200,function(){n.removeClass("hover")})})})}function s(e,i){e.html(""),i?(t('<div class="iblock type0" data-type="type0" />').appendTo(e),_columns<5?t('<div class="iblock type4" data-type="type4" />').appendTo(e):t('<div class="iblock type3" data-type="type3" /><div class="iblock type4" data-type="type4" />').appendTo(e)):_columns<5?t('<div class="iblock type1" data-type="type1" /><div class="iblock type2" data-type="type2" /><div class="iblock type4" data-type="type4" />').appendTo(e):t('<div class="iblock type1" data-type="type1" /><div class="iblock type2" data-type="type2" /><div class="iblock type3" data-type="type3" /><div class="iblock type4" data-type="type4" />').appendTo(e)}function a(e){if("init"==e){var i=t('<div class="slidesmask" />').appendTo(r),n=r.children(".iblock"),a=t('<div class="slidestorage" />').appendTo(r);n.appendTo(a),t(".iblock:first",a).hasClass("emergency")?s(i,!0):s(i,!1),o(i,0);var c=t('<div class="slidenav"><a href="#" class="toleft"><span class="wsico">&#x0033;</span></a><a href="#" class="toright"><span class="wsico">&#x0034;</span></a></div>').appendTo(r);c.find(".toright").on("click",function(e){if(e.preventDefault(),!r.hasClass("inaction")){r.addClass("inaction");var i=4==_columns?2:3;t(".iblock",a).slice(0,i).appendTo(a);var n=r.find(".slidesmask"),c=t('<div class="slidesmask" />');n.before(c),t(".iblock:eq(0)",a).hasClass("emergency")?s(c,!0):s(c,!1),o(c,0),c.css({opacity:0,position:"absolute",top:0,left:0,"z-index":10});var h=c.find(".iblock"),d=n.find(".iblock"),u=t(".section, .info",d),p=d.find(".photo"),f=h.find(".photo");newtxt=t(".section, .info",h),f.css("margin-left","100%"),newtxt.css("opacity",0),u.stop().animate({opacity:0},100,function(){c.stop().animate({opacity:1},100,l),h.each(function(e){var i=t(this),o=i.find(".slide"),s=o.find(".photo"),a=t(".section, .info",o),d=s.data(i.data("type"))?s.data(i.data("type")):0;o.removeClass("opened"),window.setTimeout(function(){s.stop().animate({"margin-left":d+"px"},550,l,function(){window.setTimeout(function(){a.stop().animate({opacity:1},300,l,function(){e==h.length-1&&(c.css({position:"","z-index":"",left:"",top:""}),e==h.length-1&&(r.removeClass("inaction"),n.remove()))})},100)}),0==e&&p.each(function(){var e=t(this);e.animate({"margin-left":-e.width()},550,l,function(){})})},150)})})}}),c.find(".toleft").on("click",function(e){if(e.preventDefault(),!r.hasClass("inaction")){r.addClass("inaction");var i=4==_columns?2:3,n=t(".iblock",a).slice(-i);n.length>0&&n.prependTo(a);var c=r.find(".slidesmask"),h=t('<div class="slidesmask" />');c.before(h),t(".iblock:eq(0)",a).hasClass("emergency")?s(h,!0):s(h,!1),o(h,0),h.css({opacity:.5,position:"absolute",top:0,left:0,"z-index":10});var d=h.find(".iblock"),u=c.find(".iblock"),p=t(".section, .info",u),f=u.find(".photo"),m=d.find(".photo");newtxt=t(".section, .info",d),newtxt.css("opacity",0),m.each(function(){var e=t(this);e.css("margin-left",-e.width())}),p.stop().animate({opacity:0},100,function(){h.stop().animate({opacity:1},100,l),d.each(function(e){var i=t(this),n=i.find(".slide"),o=n.find(".photo"),s=t(".section, .info",n),a=o.data(i.data("type"))?o.data(i.data("type")):0;n.removeClass("opened"),window.setTimeout(function(){o.stop().animate({"margin-left":a+"px"},550,l,function(){window.setTimeout(function(){s.stop().animate({opacity:1},300,l,function(){e==d.length-1&&h.css({position:"","z-index":"",left:"",top:""}),e==d.length-1&&(r.removeClass("inaction"),c.remove())})},150)}),0==e&&f.stop().animate({"margin-left":"100%"},550,l,function(){})},150)})})}})}else{i=r.find(".slidesmask"),n=r.children(".iblock"),a=r.find(".slidestorage");t(".iblock:first",a).hasClass("emergency")?s(i,!0):s(i,!1),o(i,0)}}var r=t(this),l="easeInOutQuad";"reinit"==e?n():i(),t("body").bind("changecolumns",function(){n()})})}}(jQuery),function(t){t.fn.onaircarousel=function(e){this.each(function(){function i(){o("init")}function n(){o("reinit")}function o(){var e=(new Date).getTimezoneOffset()/60;t.ajax({url:s.data("url"),type:"get",data:{timezone:e},cache:!1}).done(function(e){return t(e).appendTo(s),s.find(".iblock").cleanWS(),s.find(".carousel").notacarousel({slider:!0}),t("#fulldayswitcher a").on("click",function(e){e.preventDefault();var i=t(this).attr("href"),n=Math.floor((t(i).index()+_columns)/_columns);t(".carouselnav .slide:eq("+(n-1>0?n-1:0)+")",s).trigger("click")}),!1})}var s=t(this);"reinit"==e?n():i()})}}(jQuery),function(t){t.fn.initLive=function(){this.each(function(){t(this).find(".playerbutton").on("click.firstclick",function(e){e.preventDefault();var i=t(this);window.open(i.attr("href"),"echoliveplayer","location=no,locationbar=no,chrome=yes,titlebar=yes,menubar=no,toolbar=no,resizable=yes,scrollbars=yes,personalbar=no,directories=no,status=no,width=1000,height=820").focus()})})}}(jQuery),function(t){t.fn.footOpen=function(){this.each(function(){var e=t(this),i=["\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","\u0441\u043a\u0440\u044b\u0442\u044c"],n=t(".info_partner_block");n.hide(),e.on("click",function(t){return t.preventDefault(),e.hasClass("show")?(e.find("span:last-child").text(i[0]),e.removeClass("show"),e.closest(".footer").height(500).prev().css({"padding-bottom":"550px"}),n.slideUp()):(e.find("span:last-child").text(i[1]),e.addClass("show"),e.closest(".footer").height(850).prev().css({"padding-bottom":"900px"}),n.slideDown()),popularblFunc(),!1})})}}(jQuery),function(t){t.fn.showSearch=function(){this.each(function(){function e(){a.removeClass("show")}function i(){a.addClass("show"),a.find("#searchq").focus(),window.clearTimeout(n),a.one("mouseleave.opened",function(){o=window.setTimeout(function(){e()},3e3)})}var n,o,s=t(this),a=t(this).parent().find("form");a.find("#searchq").on("focus",function(){a.off("mouseleave.opened"),window.clearTimeout(o)}).on("blur",function(){var i=t(this);o=window.setTimeout(function(){""==t.trim(i.val())&&e()},3e3)}),s.on("mouseenter",function(t){t.preventDefault(),window.clearTimeout(n),n=window.setTimeout(function(){i()},500)}).on("mouseleave",function(){window.clearTimeout(n)}).on("click",function(t){t.preventDefault(),window.clearTimeout(n),i()}),a.find(".icmenu").on("click",function(t){return t.preventDefault(),e(),!1})})}}(jQuery),function(t){t.fn.logoutForm=function(){this.each(function(){var e=t(this),i=t(".open_logout"),n=t(".logout-cont");e.on("click",function(){n.toggleClass("show"),i.toggleClass("show")})})}}(jQuery),function(t){passwordSwitcher(),t.fn.authForm=function(){this.each(function(){var e=t(this),i=t(".auth_popup");e.on("click",function(t){return t.preventDefault(),i.addClass("show"),e.addClass("show"),i.find(".reg").hasClass("open")?i.find(".formsholder").css("min-width",""):i.find(".formsholder").css("min-width",BODY.hasClass("widescreen")?"47.85em":"46.65em"),!1}),i.find(".close").on("click",function(t){return t.preventDefault(),i.removeClass("show"),e.removeClass("show"),!1}),i.find(".open_form").bind("click",function(e){e.preventDefault(),i.find(".form").removeClass("open"),i.find("form"+t(this).attr("href")).addClass("open");var n=t(this).parent();return n.hasClass("reg")&&(n.removeClass("open"),i.find(".auth").addClass("open"),i.find(".socialblock").removeClass("open"),i.find(".formsholder").css("min-width",BODY.hasClass("widescreen")?"47.85em":"46.65em")),n.hasClass("auth")&&(n.removeClass("open"),i.find(".reg").addClass("open"),i.find(".socialblock").addClass("open"),i.find(".formsholder").css("min-width","")),!1}),i.find(".form").submit(function(e){var i=t(this);return i.formValidator(),!!i.data("valid")||(e.preventDefault(),!1)})})}}(jQuery),function(t){t.fn.sharePopup=function(){this.each(function(){function e(e){if(!e.hasClass("show")){var n=o.clone(!0);e.parent().append(n),n.show().addClass("shareClone"),e.addClass("show"),n.find("a").attr("href",e.data("url")),n.find("a").data("title",e.data("title")),DOC.on("mouseover.share",function(e){var n=t(e.target);!n.hasClass("meta")&&!n.hasClass("shareClone")&&n.parents(".shareClone").length+n.parents(".share").length<1&&i()})}}function i(){t(".shareClone").each(function(){var e=t(this);e.siblings(".share").removeClass("show"),e.remove()}),DOC.off("mouseover.share")}var n,o=t(this);if(!o.hasClass("ready")){var s="http://twitter.com/share?text=%title%&url=%url%",a="http://www.facebook.com/share.php?u=%url%&t=%title%",r="http://connect.mail.ru/share?url=%url%&title=%title&description=%description%",l="https://vk.com/share.php?url=%url%&title=%title%",c="http://www.livejournal.com/update.bml?subject=%title%&event=%description%<br><a>%url%</a>";o.find(".twitter").on("click",function(e){e.preventDefault(),window.open(encodeURI(s.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).data("title"))))}),o.find(".facebook").on("click",function(e){e.preventDefault(),window.open(encodeURI(a.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).data("title"))))}),o.find(".mailru").on("click",function(e){e.preventDefault(),window.open(encodeURI(r.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).data("title"))))}),o.find(".vk").on("click",function(e){e.preventDefault(),window.open(encodeURI(l.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).data("title"))))}),o.find(".lj").on("click",function(e){e.preventDefault(),window.open(encodeURI(c.replace(/\%url\%/,t(this).attr("href")).replace(/%title%/,""+t(this).data("title"))))}),o.addClass("ready")}DOC.off(".share").on("mouseenter.share click.share",".share",function(o){o.preventDefault();var s=t(this);s.siblings(".shareClone").length>0||(window.clearTimeout(n),i(),"click"!=o.type?n=window.setTimeout(function(){e(s)},1e3):e(s))}).on("mouseleave",".share",function(){window.clearTimeout(n)})})}}(jQuery),function(t){t.fn.comFunc=function(){this.each(function(){var e=t(this),i=(t(".answform",e),t(".commBlock",e));t(".answ",i);i.filter(".commBlock").first().find("form").each(function(){var e=t(this).find(".add-btn"),i=t(this).find("textarea");i.val().length<5&&e.hide(),i.focus(function(){i.height("12.5em"),i.bind("keyup",function(){i.val().length>=5?e.slideDown(300):e.slideUp(300)})}).focusout(function(){i.val().length<5&&(e.slideUp(300),i.height("3.5em"))})}),e.find(".c_select").selectReplace()})}}(jQuery),function(t){t.fn.mmtabs=function(){this.each(function(){var e=t(this),i=e.children(".mediamenu"),n=e.children(".mmcontainer"),o=700,s="easeOutCubic",a=!1;t("a.clicked",i).click(function(e){e.preventDefault();var r=t(this);if(!r.hasClass(".current")&&!a){a=!0,t(".nota_jplayer").jPlayer("pause");var l=r.attr("href"),c=n.find(".current");c.find(".mmplayer").stop().slideUp(o,s,function(){c.removeClass("current")}),t(l).addClass("current").find(".mmplayer").stop().slideDown(o,s,function(){a=!1}),i.find(".current").removeClass("current"),r.addClass("current")}});var r=window.location.hash;r&&r.length>0&&(t("a[href="+r+"]",i).trigger("click"),t(window).scrollTo(".multimedia"))})}}(jQuery),function(t){t.fn.mediacarousel=function(e){this.each(function(){var i,n={T:600,A:"easeOutQuad",A_:"easeInQuad",pic:"img",title:"b",author:"i",prefix:"img",navvis:5};i="string"!=typeof e?t.extend(n,e):n;var o=t(this),s=t("img",o),a=0;o.css("opacity",0),o.wrap('<div class="'+i.prefix+'carouselwnd"><div class="'+i.prefix+'carouselwrp"><div class="'+i.prefix+'carouselfrm"></div></div></div>');var r=o.parents("."+i.prefix+"carouselwnd"),l=r.find("."+i.prefix+"carouselwrp"),c=t('<div class="'+i.prefix+'carouselnav" />').appendTo(r),h=o.clone(),d=t('<div class="loader" />').appendTo(r);o.bind("loaded",function(){function e(){d.remove(),h.css("opacity",1),o.css("opacity",1),t("li",h).each(function(e){var n=t(this);window.setTimeout(function(){t("img",n).animate({top:0},i.T/2,i.A,function(){t(this).removeClass("loading"),0==n.index()&&r.eq(0).trigger("click")})},200+150*e)})}var n=t('<div class="'+i.prefix+'sign"></div>').appendTo(l),s=t('<div class="'+i.prefix+'title"></div>').appendTo(n),a=t('<div class="'+i.prefix+'author"></div>').appendTo(n);h.appendTo(c);var r=t("li",h);if(t("img",r).addClass("loading"),r.each(function(e){var r=t(this);r.wrapInner('<span class="'+i.prefix+'previewframe" />'),r.data("LI",t("li:eq("+e+")",o)),r.bind("click",function(t){if(t.preventDefault(),"run"==o.data("action"))return!1;o.data("action","run"),n.animate({opacity:0},i.T/2,i.A,function(){s.text(r.find(i.title).text()),a.text(r.find(i.author).text()),n.animate({opacity:1},i.T/2,i.A_,function(){o.data("action","stop")})}),o.add(c).find(".current").removeClass("current"),r.addClass("current"),r.data("LI").addClass("current")})}),h.children().length>i.navvis){h.addClass("full"),r.last().prependTo(h),e();var u=t('<span class="'+i.prefix+'prev" />').appendTo(c),p=t('<span class="'+i.prefix+'next" />').appendTo(c);u.bind("click",function(e){if(e.preventDefault(),"run"==o.data("action"))return!1;o.data("action","run");var n=t("li",h),s=i.navvis>1?n.slice(n.length-i.navvis,n.length-1):n.last(),a=s.clone(!0),r=0,l=h.position();s.each(function(){r+=t(this).outerHeight(!0)}),s.prependTo(h),a.appendTo(h),h.css("top",l.top-r).animate({top:l.top},1.5*i.T,i.A,function(){a.remove(),h.css("top",""),o.data("action","stop")})}),p.bind("click",function(e){if(e.preventDefault(),"run"==o.data("action"))return!1;o.data("action","run");var n=t("li",h),s=i.navvis>1?n.slice(0,i.navvis-1):n.first(),a=s.clone(!0),r=0,l=h.position();s.each(function(){r+=t(this).outerHeight(!0)}),s.appendTo(h),a.prependTo(h),h.animate({top:l.top-r},1.5*i.T,i.A,function(){a.remove(),h.css("top",""),o.data("action","stop")})})}else e();l.on("DOMMouseScroll mousewheel",function(e){e.preventDefault();var i=h.find(".current");e.originalEvent.detail>0?(p=i.next()).length||(p=t("li:first",h)):(p=i.prev()).length||(p=t("li:last",h)),p.length>0&&p.trigger("click")}),c.on("DOMMouseScroll mousewheel",function(t){t.preventDefault(),(p=t.originalEvent.detail<0?c.find("."+i.prefix+"prev"):c.find("."+i.prefix+"next")).length>0&&p.trigger("click")})}),o.bind("checkload",function(){++a==s.length&&(o.unbind("checkload"),o.trigger("loaded"))}),s.each(function(){var e=t(this),i=new Image;i.src=e.attr("src"),t(i).bind("load",function(){e.data("loaded")||(e.data("w",e.width()).data("h",e.height()).data("loaded",!0),o.trigger("checkload"))});try{i.complete&&!e.data("loaded")&&t(i).trigger("load")}catch(n){}})})}}(jQuery),function(t){t.fn.letterlist=function(e){var i={inp:!1,spn:!1},n=t.extend(i,e);this.each(function(){function e(e){e=e.toLowerCase();for(var n=0;n<o.length;n++){o[n].li.data("hide",0);for(var s=0;s<o[n].words.length;s++){var a=o[n].words[s];a.span.data("title").indexOf(e)>-1?a.hide&&(a.span.removeClass("hidden"),a.hide=!1):(o[n].li.data("hide",1*o[n].li.data("hide")+1),a.hide=!0)}o[n].li.data("hide")==o[n].words.length?(o[n].li.addClass("hidden"),o[n].li.next().addClass("hidden")):(o[n].li.removeClass("hidden"),o[n].li.next().removeClass("hidden"))}0==i.children('div:not(".hidden")').length?(i.hide(),t(".noresult").show()):(i.show(),t(".noresult").hide())}if(!n.inp)return!1;if(n.inp=t(n.inp),!n.spn)return!1;var i=t(this),o=[];i.find("> div").each(function(){var e=t(this),i=[];t(this).find(n.spn).each(function(){var e=t(this),n=e.children("a"),o=n.length>0?o=n.text():e.text();e.data("title",o.toLowerCase()),i.push({span:e,hide:!1})}),e.data("hide",0),o.push({li:e,words:i})}),e(n.inp.val()),n.inp.bind("keyup",function(){e(t(this).val()),setSlider(t("#personList"))}),n.inp.bind("keypress",function(i){if(13==i.keyCode)return n.inp.focus(),e(t(this).val()),setSlider(t("#personList")),!1})})}}(jQuery),function(t){t.fn.calendar=function(e){return this.each(function(){function i(){p.datepicker({showOtherMonths:!0,changeMonth:!0,changeYear:!0,maxDate:p.data("maxdate")||"+0d",beforeShow:function(){p.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),h=t("#ui-datepicker-div")}function n(){o(),s(),a(),r()}function o(){t(".b-calendar_month").length<1&&(t(".ui-datepicker-header").append(f),t(".b-calendar_month",p),t(".b-calendar_month-next",p),t(".b-calendar_month-prev",p),d=t(".b-calendar_month-name"),t(".b-calendar_year"),t(".b-calendar_year-next",p),t(".b-calendar_year-prev",p),l=t(".b-calendar_year-name"))}function s(){u=t(".ui-datepicker-month :selected",h).text(),d.text(u)}function a(){c=t(".ui-datepicker-year :selected",h).text(),l.text(c)}function r(){var e=t(".b-calendar_month"),i=t(".b-calendar_month-next"),o=t(".b-calendar_month-prev"),s=(t(".b-calendar_month-name"),t(".b-calendar_year"),t(".b-calendar_year-next")),a=t(".b-calendar_year-prev");t(".b-calendar_year-name");i.off("click.calendar").on("click.calendar",p,function(){var e=t(".ui-datepicker-month",h),i=1*e.val();i<t("option",e).length-1?e.get(0).selectedIndex=i+1:e.get(0).selectedIndex=0,e.trigger("change"),n()}),o.off("click.calendar").on("click.calendar",p,function(){var e=t(".ui-datepicker-month",h),i=1*e.val();e.get(0).selectedIndex=i>0?i-1:t("option",e).length-1,e.trigger("change"),n()}),s.off("click.calendar").on("click.calendar",p,function(){if(t(".ui-datepicker-year option:selected",h).next().length<1)return!1;var i=t(".ui-datepicker-year option:selected",h).next().attr("value");t(".ui-datepicker-year",h).val(i).change(),e.trigger("change"),n()}),a.off("click.calendar").on("click.calendar",p,function(){if(t(".ui-datepicker-year option:selected",h).prev().length<1)return!1;var i=t(".ui-datepicker-year option:selected",h).prev().attr("value");t(".ui-datepicker-year",h).val(i).change(),e.trigger("change"),n()})}var l,c,h,d,u,p=t(this),f=(t.extend({},t.fn.calendar.defaults,e),'<div class="b-calendar_month"><div class="b-calendar_month-prev"></div><div class="b-calendar_month-name"></div><div class="b-calendar_month-next"></div></div><div class="b-calendar_year"><div class="b-calendar_year-prev"></div><div class="b-calendar_year-name"></div><div class="b-calendar_year-next"></div></div>');i(),n()})},t.fn.calendar.defaults={}}(jQuery),function(t){t.fn.descrOpen=function(){this.each(function(){var e=t(this),i=e.find(".hide"),n=i.closest(e).find(".liveprogrammes");i.click(function(e){return e.preventDefault(),t(this).hasClass("show")?(n.slideDown(600),t(this).removeClass("show")):(n.slideUp(600),t(this).addClass("show")),!1})})}}(jQuery),function(t){t.fn.votescharts=function(){this.each(function(){t(this).find(".fill").each(function(e){var i=t(this);window.setTimeout(function(){i.width(i.data("size"))},200+2*e)})})}}(jQuery),function(t){t.fn.piechart=function(){this.each(function(){var e=t(this),i=e.siblings(".legend"),n=!!e.hasClass("halfpie"),o=[];t("li",i).each(function(e){o.push([""+(e+1),t(this).data("percent")])}),e.highcharts({colors:["#ea171e","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a","#1d191a"],chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},credits:{enabled:!1},title:{text:""},tooltip:{enabled:!1,pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-70,style:{fontWeight:"bold",color:"white",fontSize:"18px",fontWeight:"bold",fontFamily:'"ProximaNova-Bold", sans-serif',textShadow:"0px 1px 2px black"}},size:n?"175%":"100%",endAngle:n?180:360,center:[n?0:"50%","50%"]}},series:[{type:"pie",data:o}]})})}}(jQuery),function(t){t.fn.calendarmonth=function(e){return this.each(function(){function i(){h.datepicker({dateFormat:"mm.yy",showOtherMonths:!0,selectOtherMonths:!0,changeMonth:!0,changeYear:!0,firstDay:new Date,maxDate:new Date,beforeShow:function(){h.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),c=t("#ui-datepicker-div")}function n(){o(),s(),a(),r()}function o(){if(0===t(".b-calendar_month").length){t(".ui-datepicker-header").append(d),t(".ui-datepicker").append(u);var e="";t(".ui-datepicker-month option").each(function(){e+='<div class="b-calendar_month-name" data-event="click" data-handler="selectMonth"><a href="#" class="ui-state-default">'+t(this).text()+"</a></div>"}),t("<div>"+e+"</div>").appendTo(".b-calendar_month"),t(".ui-datepicker-calendar").hide(),t(".ui-datepicker").css({"z-index":"11"}),t(".ui-datepicker").addClass("calendarmonth-datepicker"),t(".b-calendar_year"),t(".b-calendar_year-next",h),t(".b-calendar_year-prev",h),t(".b-calendar_year-name",c)}}function s(){t(".b-calendar_month-name:eq("+t(".ui-datepicker-month :selected",c).index()+")",c).find("a").addClass("ui-state-highlight")}function a(){l=t(".ui-datepicker-year :selected",c).text(),t(".b-calendar_year-name",c).text(l)}function r(){var e=t(".b-calendar_month"),i=t(".b-calendar_month-name"),o=(t(".b-calendar_year"),t(".b-calendar_year-next")),s=t(".b-calendar_year-prev");t(".b-calendar_year-name",c);i.off("click.calendar").on("click.calendar",h,function(){t(".ui-datepicker-month",c);var e=t(this).index();t(".b-calendar_month-name a",c).removeClass("active"),t(this).find("a").addClass("active");var i=t(".ui-datepicker-month option:eq("+e+")",c).attr("value");t(".ui-datepicker-month",c).val(i).change(),t('.ui-datepicker-calendar td[data-month="'+i+'"]:eq(0)',c).click(),n()}),o.off("click.calendar").on("click.calendar",h,function(){if(t(".ui-datepicker-year option:selected",c).next().length<1)return!1;var i=t(".ui-datepicker-year option:selected",c).next().attr("value");t(".ui-datepicker-year",c).val(i).change(),e.trigger("change"),n()}),s.off("click.calendar").on("click.calendar",h,function(){if(t(".ui-datepicker-year option:selected",c).prev().length<1)return!1;var i=t(".ui-datepicker-year option:selected",c).prev().attr("value");t(".ui-datepicker-year",c).val(i).change(),e.trigger("change"),n()})}var l,c,h=t(this),d=(t.extend({},t.fn.calendarmonth.defaults,e),'<div class="b-calendar_year changeyear"><div class="b-calendar_year-prev"></div><div class="b-calendar_year-name"></div><div class="b-calendar_year-next"></div></div>'),u='<div class="b-calendar_month changemonth"></div>';return i(),n(),!1})},t.fn.calendarmonth.defaults={}}(jQuery),function(t){t.fn.calendaryear=function(e){return this.each(function(){function i(){c.datepicker({dateFormat:"yy",changeYear:!0,firstDay:new Date,maxDate:new Date,beforeShow:function(){c.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),l=t("#ui-datepicker-div")}function n(){o(),s(),a()}function o(){if(0===t(".b-calendar_year").length){t(".ui-datepicker").append(h),t(".ui-datepicker-header").hide(),t(".ui-datepicker-calendar").hide(),t(".b-calendar_year",c),t(".b-calendar_year-name",c);var e="";t(".ui-datepicker-year option").each(function(){e+='<div class="b-calendar_year-name" data-event="click" data-handler="selectYear"><a href="#" class="ui-state-default">'+t(this).text()+"</a></div>"}),t("<div>"+e+"</div>").insertBefore(".b-calendar_year-name"),t(".b-calendar_year div").find(".b-calendar_year-name:eq(14)").nextAll().remove(),t(".b-calendar_year > .b-calendar_year-name").clone().appendTo(".b-calendar_year > div"),t(".b-calendar_year > .b-calendar_year-name").remove(),t(".ui-datepicker").css({"z-index":"11"}),t(".ui-datepicker").addClass("calendaryear-datepicker")}}function s(){r=t(".ui-datepicker-year :selected",l).index(),t(".b-calendar_year-name").eq(r).find("a").addClass("ui-state-highlight")}function a(){t(".b-calendar_year"),t(".b-calendar_year-name");var e=t(".ui-datepicker-month");DOC.off("click.calendar").on("click.calendar",".b-calendar_year-name",function(){t(".b-calendar_year-name a").removeClass("active"),t(this).find("a").addClass("active");var i=t(this).index(),o=t(".ui-datepicker-year option:eq("+i+")",l).attr("value");t(".ui-datepicker-year",l).val(o).change(),c.val(o).change(),c.datepicker("hide"),e.trigger("change"),n()})}var r,l,c=t(this),h=(t.extend({},t.fn.calendaryear.defaults,e),'<div class="b-calendar_year year_calendar"><div class="b-calendar_year-name"><a href="#" class="ui-state-default">. . .</a></div></div>');i(),n()})},t.fn.calendaryear.defaults={}}(jQuery),function(t){t.fn.calendarweek=function(e){return this.each(function(){function i(){p.datepicker({showOtherMonths:!0,changeMonth:!0,changeYear:!0,firstDay:new Date,maxDate:new Date,beforeShow:function(){p.offset();setTimeout(function(){n()},100)},onChangeMonthYear:function(){setTimeout(function(){n()},100)}}),h=t("#ui-datepicker-div")}function n(){o(),s(),a(),r()}function o(){0===t(".b-calendar_month").length&&(t(".ui-datepicker-header").append(f),t(".b-calendar_month",p),t(".b-calendar_month-next",p),t(".b-calendar_month-prev",p),d=t(".b-calendar_month-name"),t(".b-calendar_year"),t(".b-calendar_year-next",p),t(".b-calendar_year-prev",p),l=t(".b-calendar_year-name"),t(".ui-datepicker-calendar").hide(),t.ajax({url:p.data("ajax"),method:"GET",success:function(e){t(e).insertAfter(t(".ui-datepicker-calendar")).fadeIn("slow")}}),t(".b-calendar_week-name"),t(".ui-datepicker").css({"z-index":"11"}),t(".ui-datepicker").addClass("calendarweek-datepicker"))}function s(){u=t(".ui-datepicker-month :selected",h).text();var e=t(".ui-datepicker-month :selected",h).prev().text();e.length>0?d.text(e+" - "+u):d.text(u)}function a(){c=t(".ui-datepicker-year :selected",h).text(),l.text(c)}function r(){var e=t(".b-calendar_month"),i=t(".b-calendar_month-next"),o=t(".b-calendar_month-prev"),s=(t(".b-calendar_month-name"),t(".b-calendar_year"),t(".b-calendar_year-next")),a=t(".b-calendar_year-prev");t(".b-calendar_year-name"),t(".b-calendar_week-name");i.off("click.calendar").on("click.calendar",p,function(){var e=t(".ui-datepicker-month",h),i=1*e.val();i<t("option",e).length-1?e.get(0).selectedIndex=i+1:e.get(0).selectedIndex=0,e.trigger("change"),n()}),DOC.off("click.calendar").on("click.calendar",".b-calendar_week-name",function(){t(".b-calendar_week-name a").removeClass("active"),t(this).find("a").addClass("active");var e=t(".ui-datepicker-year :selected",h).val(),i=t(this).text();p.val(e+". "+i),p.trigger("change"),p.datepicker("hide"),n()}),o.off("click.calendar").on("click.calendar",p,function(){var e=t(".ui-datepicker-month",h),i=1*e.val();e.get(0).selectedIndex=i>0?i-1:t("option",e).length-1,e.trigger("change"),n()}),s.off("click.calendar").on("click.calendar",p,function(){if(t(".ui-datepicker-year :selected",h).next().length<1)return!1;var i=t(".ui-datepicker-year :selected",h).next().attr("value");t(".ui-datepicker-year",h).val(i).change(),e.trigger("change"),n()}),a.off("click.calendar").on("click.calendar",p,function(){if(t(".ui-datepicker-year :selected",h).prev().length<1)return!1;var i=t(".ui-datepicker-year :selected",h).prev().attr("value");t(".ui-datepicker-year",h).val(i).change(),e.trigger("change"),n()})}var l,c,h,d,u,p=t(this),f=(t.extend({},t.fn.calendarweek.defaults,e),'<div class="b-calendar_month"><div class="b-calendar_month-prev"></div><div class="b-calendar_month-name"></div><div class="b-calendar_month-next"></div></div><div class="b-calendar_year"><div class="b-calendar_year-prev"></div><div class="b-calendar_year-name"></div><div class="b-calendar_year-next"></div></div>');i(),n()})},t.fn.calendarweek.defaults={}}(jQuery),function(t){t.fn.uipopup=function(){this.each(function(){t(this).on("click",function(e){e.preventDefault();var i=t(this),n=t(".uipopupcontainer");n.length<1&&(n=t('<div class="uipopupcontainer hidden"></div>').appendTo("body")),n.dialog({heigth:595,width:700,modal:!0,draggable:!1,resizable:!1,dialogClass:"popup2",title:i.data("title"),open:function(){t.ajax({url:i.attr("href"),method:"GET",success:function(t){n.html(t)}}),n.removeClass("hidden"),window.setTimeout(function(){n.dialog("option","position",{my:"center",at:"center",of:window})},250)},close:function(){n.dialog("destroy").remove()}})})})}}(jQuery),function(t){t.fn.popupList=function(){this.each(function(){var e=t(this);t("body").append('<div class="popupList hidden"></div>');var i=t(".popupList"),n='<form class="searchform form" action="." method="get"><fieldset><input type="search" value="" id="psearch" name="q" placeholder="\u043f\u043e\u0438\u0441\u043a \u043f\u0435\u0440\u0441\u043e\u043d\u044b \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0438 (\u0438\u043b\u0438) \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u0438"><button value="1" disabled="disabled" type="submit"><span class="wsico lite">&#x21;</span></button></fieldset></form>';return i.append(n),t.ajax({url:e.attr("href"),method:"GET",success:function(e){i.append(t(e)),t("#personList").letterlist({inp:"#psearch",spn:".about .name, .about .post "}),setSlider(t("#personList"))}}),i.dialog({heigth:595,width:700,modal:!0,draggable:!1,resizable:!1,dialogClass:"popup2",title:e.data("title"),open:function(){i.removeClass("hidden"),i.dialog("option","position",{my:"center",at:"center",of:window})},close:function(){i.dialog().remove()}}),!1})}}(jQuery),function(t){t.fn.faq=function(){this.each(function(){var e=t(this);e.find(".qa_q a").on("click",function(e){e.preventDefault(),t(this).parents(".qa_question:eq(0)").toggleClass("qa_open")}),e.find(".all").on("click",function(t){t.preventDefault(),e.find(".qa_question").addClass("qa_open")})})}}(jQuery),$(".js-like-button").each(function(t,e){var i=$(e),n=$(".js-like-button-count",i),o=i.data("active"),s=i.data("src");o&&i.addClass("_active"),i.on("click",function(t){t.preventDefault(),$.getJSON(s,function(t){t.activated?i.addClass("_active"):i.removeClass("_active"),n.text(t.count)})})}),$(".js-recom-button").each(function(t,e){var i=$(e),n=$(".js-recom-button-text",i),o=i.data("active"),s=i.data("src"),a=i.data("recom-active-text"),r=i.data("recom-unactive-text");o?(i.addClass("_active"),n.text(a)):n.text(r),i.on("click",function(t){t.preventDefault(),$.getJSON(s,function(t){t.activated?(i.addClass("_active"),n.text(r)):(i.removeClass("_active"),n.text(a))})})}),function(t){t.fn.echotop=function(){this.each(function(){function e(){n.removeClass("fullwidth"),WND.width()>o.width()&&n.addClass("fullwidth"),n.css("margin-left",-o.width()/2)}var i=t(this),n=i.children(".f"),o=n.children();e(),WND.on("load resize",function(){e()}),i.find("img").each(function(){t(this).on("load",e)})})}}(jQuery),function(t){t.fn.echoleftright=function(){this.each(function(){function e(){n.removeClass("fullwidth"),n.width()>o.width()&&n.addClass("fullwidth"),o.css("margin-left",-o.width()/2)}var i=t(this),n=i.children(".f"),o=n.children();e(),WND.on("load resize",function(){e()}),i.find("img").each(function(){t(this).on("load",e)})})}}(jQuery),function(t){t.fn.submenuOpen=function(){this.each(function(){var e=t(this).find(".menusection > a");touchdevice&&e.each(function(){var e=!1;t(this).click(function(i){if(!e)return i.preventDefault(),t(this).css({background:"#000"}),t(this).parent().find(".submenu").css({height:"auto",overflow:"visible",padding:"7px 8px 16px 5px",opacity:1}),e=!0,!1})})})}}(jQuery),$(function(){function t(){s||$.ajax({url:e.data("url"),beforeSend:function(){s=!0}}).done(function(t){$(window).off("scroll.loadComments"),e.replaceWith(t),
$(".commentList").comFunc()}).complete(function(){s=!1})}var e=$("#commentsLoadOnScroll");if(e.length){var i=e.offset().top,n=$(window).scrollTop()+$(window).height(),o=i-n,s=!1;o<100&&t(),$(window).on("scroll.loadComments",function(){i=e.offset().top,n=$(window).scrollTop()+$(window).height(),(o=i-n)<100&&t()})}}),function(){var t,e=["y2fSBgjHy2S=","BhvKy2e=","Bg9HzgLUzW==","vfjvu1rfrcbysfiGqu5tv0vs","y29TlMDL","BgvUz3rO","ic0G","zxzLBNq=","z2v0uMvZCg9UC2vizwfKzxi=","C2v0vgLTzw91Da==","BwvZC2fNzq==","zNjVBunOyxjdB2rL","rNvUy3rPB24=","zxHWAxjLCW==","Aw4UDwe=","DgLTzxn0yw1W","vu5ltK9xtG==","oYbtyw1Lu2L0zt1oB25LoYbZzwn1CMu=","C3rHy2S=","ywrKrxzLBNrmAxn0zw5LCG==","CMvZCg9UC2vuzxH0","ue9tva==","Bg9JyxrPB24=","u1rbuLq=","y29TlNrY","C3bSAxq=","B25SB2fK","y29VA2LL","z2v0q29TChv0zwrtDhLSzq==","C3bIlNj1","mI4XlJa=","AM9PBG==","ChvZAa==","Dg9gAxHLza==","CgfNzwHPzgu=","zwXLBwvUDa==","zxzLBNrFzgv0zwn0x0LoteLorq==","CMvHzhLtDgf0zq==","y3LJywrH","ChjVDg90ExbL","zgv0zwn0x0LoteLorq==","rxjYB3iGD2HPBguGC3vIC2nYAwjPBMCGre9nq29UDgvUDeXVywrLza==","rgf0zq==","yMvMB3jLDw5SB2fK","BgfIzwXZ","weHsiefou1DfuG==","Ahr0Chm6lY9HBI55yw5KzxGUCNuVANn0CMfJzxi=","C2vUzejLywnVBG==","B3bLBG==","yMX0C3i=","y29TlMfT","y29UDgv4Da==","yMXVy2TLza==","weHsihjLCxvLC3qGzxjYB3i=","zxzLBNruExbL","DgfNCW==","Dhj1C3rLza==","zNvUy3rPB24=","werVBwfPBLjLCxvLC3q=","re9nieXpqurfra==","BMfTzq==","C2XPy2u=","oYbLEhbPCMvZpq==","ywrKAxrPB25HBa==","weHsifjfuvvfu1q=","w29IAMvJDcbbCNjHEv0=","sgvHzgvYigXLBMD0AcbKB2vZBID0ig1HDgnO","re9difjfqurz","C3rLChm=","weHsievsuKjbq0S=","we1mshr0CfjLCxvLC3q=","zg9ty3jVBgW=","CMvTB3zLrxzLBNrmAxn0zw5LCG==","tNvTyMvY","su5msu5f","weHsigz1BMn0Aw9UCYb3zxjLihjLyxnZAwDUzwq=","D2L0AenYzwrLBNrPywXZ","BxnRlNj1","ywfIx2rLDgvJDa==","veLnru9vva==","DgLTzw91Da==","Dg9tDhjPBMC=","y2XLyxjuAw1LB3v0","BMf2AwDHDg9Y","vw5RBM93BG==","Dg9vventDhjPBMC=","yMLUza==","yNrVyq==","zgv2AwnL","vgLTzw91Da==","tK9ux0jmt0nlruq=","zg9JDw1LBNrfBgvTzw50","yMvLCMTH","C2v0sxrLBq==","AhjLzG==","Ag9ZDg5HBwu=","zgf0yq==","y28UAwW=","oYbWyxrOps87igrVBwfPBJ0U","y29UDgvUDc1Szw5NAhq=","C2vSzG==","zxzLBNroyw1L","AgfZt3DUuhjVCgvYDhK=","Dg9W","weHsignVBNn0CNvJDg9YigvYCM9Y","C3jJ","DMvYC2LVBG==","zg9JDw1LBNrnB2rL","rw1WDhKGy29UzMLNlNnYyW==","CgLK","sLnptG==","Aw5KzxHpzG==","yMXVy2TLCG==","yNjVD3nLCG==","y2HHCKnVzgvbDa==","DMfSDwu=","DgLTzq==","B25LCNjVCG==","C3rHDhvZvgv4Da==","Aw5PDa==","re9nq29UDgvUDeXVywrLza==","C3rYAw5NAwz5","y29TCgXLDgu=","C2vUza==","y2fSBa==","yKHwA1KYrt0=","Bg9JywXtDg9YywDL","u3rHDhvZoIa=","Aw5MCMfTzq==","u3rYAw5N","C2vYDMLJzq==","zg9TywLU","r0vu"];t=e,function(e){for(;--e;)t.push(t.shift())}(119);var i=function(t){var n=e[t=+t];void 0===i.DlEDrf&&(i.NaznFf=function(t){for(var e=function(t){for(var e,i,n=String(t).replace(/=+$/,""),o="",s=0,a=0;i=n.charAt(a++);~i&&(e=s%4?64*e+i:i,s++%4)&&(o+=String.fromCharCode(255&e>>(-2*s&6))))i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);return o}(t),i=[],n=0,o=e.length;n<o;n++)i+="%"+("00"+(s=e,a=n," !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".indexOf(s[a])+32).toString(16)).slice(-2);var s,a;return decodeURIComponent(i)},i.GwumuN={},i.DlEDrf=!0);var o=i.GwumuN[t];return void 0===o?(n=i.NaznFf(n),i.GwumuN[t]=n):n=o,n};!function(t,e,n){function o(t){var e=p,i={};i.d=t,i.t=a()-O,I[e("0x2f")](i)}function s(t){return typeof t===p("0x48")}function a(){var e=p;return t[e("0x58")](new(t[e("0x39")]))}function r(e,i,n){var o,s,r=p;try{t[r("0x8")]&&(n&&(s=p,o=(24e5*(a()/24e5)[s("0x30")]())[s("0x60")](36)[s("0x4c")](0,10),i=t[r("0x66")](o)+S+t[r("0x66")](function(e,i){for(var n=p,o=[],s=0;s<e[n("0x14")];s++){var a=e[n("0x81")](s)^i[n("0x81")](s%i[n("0x14")]);o[n("0x2f")](t[n("0xb")][n("0x1a")](a))}return o[n("0x2e")]("")}(i,o))),t[r("0x8")][r("0x6c")](e,i))}catch(e){}}function l(t){var e=p("0x2d");E&&E(t,e),r(C,e)}function c(t,e){var i=p;return e?t[i("0x28")](".")[i("0x4c")](-e)[i("0x2e")]("."):t}function h(i,n){function o(){for(var t=h,i=0;i<v[t("0x14")];i++){var n=v[i];e[t("0x2a")]=n[t("0x4b")]+"="+n[t("0x82")]+t("0x4d")+n[t("0x1c")]+t("0x71")+n[t("0xd")]+t("0x20")}}var h=p,d=a(),u=new(t[h("0x39")])(d+36e5*f[_])[h("0x64")](),v=[],y=c(t[h("0x25")][h("0x6e")],2);-1!==m[h("0x7e")](y)&&(y=c(t[h("0x25")][h("0x6e")],3));for(var w=f[b],x=0;x<w[h("0x14")];x++){var C={};C[h("0x4b")]=w[x],C[h("0x82")]=1,C[h("0x1c")]=u,C[h("0xd")]=y,v[h("0x2f")](C)}var S,E,j=function(t){for(var i=p,n=e[i("0x2a")][i("0x28")]("; "),o=0;o<n[i("0x14")];o++){var s=n[o][i("0x28")]("=");if(s[0]===t)return s[i("0x4c")](1)[i("0x2e")]("=")}return null}(k);j&&(e[h("0x2a")]=k+"="+j+h("0x71")+y+h("0x20"),(S={})[h("0x4b")]=k,S[h("0x82")]=j,S[h("0x1c")]=new(t[h("0x39")])(0)[h("0x64")](),S[h("0xd")]=y,v[h("0x2f")](S));try{t[h("0x22")](h("0x3a"),o),t[h("0x22")](h("0x31"),o)}catch(i){o()}try{(function(e,i){var n=p,o={};o[n("0x79")]=n("0x2d"),o[n("0x32")]=e,o[n("0x4e")]=i,o[n("0xa")]=t[n("0x76")]!==t[n("0x73")],o[n("0x53")]=I;var r={};r[n("0x80")]=n("0x63"),r[n("0x67")]=n("0x63"),r[n("0x7f")]=n("0x59"),r[n("0x7c")]=n("0x63"),r[n("0x32")]="i0",r[n("0x79")]="1";var l={};l[n("0x33")]=1;var c={};c[n("0x6f")]=o,c[n("0x3b")]=r,c[n("0x46")]=l,c[n("0x25")]=t[n("0x25")][n("0x6d")],c[n("0x1e")]=a(),c[n("0xc")]=n("0x5d"),c[n("0x74")]=n("0x37"),c[n("0x45")]=n("0x16"),c[n("0x82")]=1,c[n("0x79")]="1";var h,d=c,u=t[n("0x7d")][n("0x3")](d);s(t[n("0x62")][n("0x3e")])?t[n("0x62")][n("0x3e")](P,u):((h=new g)[n("0x3f")](n("0x24"),P,!0),h[n("0x5")](u))})(i,n=n||""),r(T,[(new(t[h("0x39")]))[h("0x64")](),h("0x1f"),i,n,t[(E=p)("0x25")]?typeof t[E("0x25")][E("0x60")]===E("0x48")?t[E("0x25")][E("0x60")]():t[E("0x25")][E("0x6d")]||"":""][h("0x2e")]("\n"),!0)}catch(i){}var L={};L[h("0x43")]=!0,L[h("0x7f")]=h("0x1f"),l(L)}function d(t,e,i){var n=p,o=new g;if(0!==o[n("0x34")])throw new Error(n("0x77"));if(o[n("0x3f")](n("0xe"),t,!0),1!==o[n("0x34")]||o[n("0x5")]!==g[n("0x36")][n("0x5")])throw new Error(n("0x5a"));o[n("0x5b")]=!0,o[n("0x29")]=function(){e(o)},o[n("0x84")]=function(){var t=n;i(t("0x44"),t("0x9")+o[t("0x0")])},o[n("0x5")]()}var u,p=i,f={};for(u in n)n[p("0x75")](u)&&(f[u]=n[u]);var m=[p("0x27"),p("0x13"),p("0x41"),p("0x70"),p("0x5c"),p("0x2c"),p("0x1d")],g=t[p("0x49")]||t[p("0x55")],v=p("0x78"),y=p("0x47"),b=p("0x2a"),_=p("0x83"),w=p("0x42"),x=p("0xf"),k=p("0x35"),C=p("0x6b"),T=p("0x10"),S=p("0x7"),P=p("0x3d");f[b]=f[b]||p("0x40");try{({})[p("0x60")][p("0x6")](f[b])!==p("0x50")&&(f[b]=[f[b]])}catch(n){}f[_]=f[_]||336,f[w]=f[w]||{};var E=f[x];if(f[x]=l,f[v]){var j=f[v],L=f[y],I=[],O=a();try{if(!s(t[p("0x22")])||!s(t[p("0x2b")])||!s(t[p("0x1b")][p("0x36")][p("0x65")])||e[p("0x7a")]&&e[p("0x7a")]<=10){var A={};return A[p("0x43")]=!1,A[p("0x7f")]=p("0x69"),l(A)}}catch(n){}var D,M,z,B,N,R=null;f[p("0x5f")]&&(D=function(){var t=p;o(t("0x5e")),h(t("0x68"))},M=2e4,z=a(),B=null,N=!1,function r(){var e=i;N||(a()-z>=M?D():B=t[e("0x18")](function(){r()},100))}(),R=function(){N=!0,t[i("0x61")](B)}),function(t){var i=p;if(o(i("0x26")),e[i("0x34")]===i("0x4")||e[i("0x34")]!==i("0x11")&&!e[i("0x6a")][i("0x56")])o(i("0x52")),t();else try{e[i("0x22")]&&e[i("0x22")](i("0x2"),function s(){var n=i;o(n("0x4a")),e[n("0x57")](n("0x2"),s),t()})}catch(n){o(i("0x38")),h(n&&n[i("0x21")])}}(function(){var i=p;try{var s=a();o(i("0x4f")),d(j,function(n){var s=i;try{R&&R(),o(s("0x3c"));var a=t[s("0x58")](n[s("0x17")](s("0x72"))),r=n[s("0x23")][s("0x14")];if(!a||a<32e3||a!==r)return h(s("0x51"),a+s("0x15")+r),0;new(t[s("0x1b")])(n[s("0x23")])[s("0x6")](f[w]),f[w][s("0x1")](t,e,f)}catch(n){h(n&&n[s("0x19")])}},function(t,e){var n,r=i;try{R&&R(),o(r("0x54")),a()-s<2e3?L?d(L,function(){o(r("0x12")),h(t,e)},function(){var t=r,e={};e[t("0x43")]=!1,e[t("0x7f")]=t("0x69"),l(e)}):h(t,e):((n={})[r("0x43")]=!1,n[r("0x7f")]=r("0x69"),l(n))}catch(t){h(t&&t[r("0x19")])}})}catch(n){h(n&&n[i("0x21")])}})}else h(p("0x7b"))}(window,document,{src:"https://static-mon.yandex.net/static/main.js?pid=echomsk",cookie:"bltsr",callback:aab})}(),function(t,e,i,n){function o(e,i){this.settings=null,this.options=t.extend({},o.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(o.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(o.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,o={width:"auto","margin-left":n?e:"","margin-right":n?"":e};!i&&this.$stage.children().css(o),t.css=o}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,o=!this.settings.autoWidth,s=[];for(t.items={merge:!1,width:e};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,s[n]=o?e*i:this._items[n].width();this._widths=s}},{filter:["items","settings"],run:function(){var e=[],i=this._items,n=this.settings,o=Math.max(2*n.items,4),s=2*Math.ceil(i.length/2),a=n.loop&&i.length?n.rewind?o:Math.max(o,s):0,r="",l="";for(a/=2;a>0;)e.push(this.normalize(e.length/2,!0)),r+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),l=i[e[e.length-1]][0].outerHTML+l,a-=1;this._clones=e,t(r).addClass("cloned").appendTo(this.$stage),t(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,n=0,o=0,s=[];++i<e;)n=s[i-1]||0,o=this._widths[this.relative(i)]+this.settings.margin,s.push(n+o*t);this._coordinates=s}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],n.eq(e).css(t.css);else i&&(t.css.width=t.items.width,n.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,n,o=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,a=this.coordinates(this.current())+s,r=a+this.width()*o,l=[];for(i=0,n=this._coordinates.length;i<n;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+s*o,(this.op(t,"<=",a)&&this.op(t,">",r)||this.op(e,"<",a)&&this.op(e,">",r))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],o.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{"class":this.settings.stageClass}).wrap(t("<div/>",{"class":this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},o.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map(function(e){return t(e)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},o.prototype.initialize=function(){var t,e,i;(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading"))&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:n,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t));this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},o.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,n=-1,o=null;i?(t.each(i,function(t){t<=e&&t>n&&(n=Number(t))}),"function"==typeof(o=t.extend({},this.options,i[n])).stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):o=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=n,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},o.prototype.update=function(){for(var e=0,i=this._pipe.length,n=t.proxy(function(t){return this[t]},this._invalidated),o={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,n).length>0)&&this._pipe[e].run(o),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(t){switch(t=t||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},o.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(e){var n=null;3!==e.which&&(t.support.transform?n={x:(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===n.length?12:4],y:n[16===n.length?13:5]}:(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(t.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var n=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},o.prototype.onDragMove=function(t){var e=null,i=null,n=null,o=this.difference(this._drag.pointer,this.pointer(t)),s=this.difference(this._drag.stage.start,o);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,s.x=((s.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*o.x/5:0,s.x=Math.max(Math.min(s.x,e+n),i+n)),this._drag.stage.current=s,this.animate(s.x))},o.prototype.onDragEnd=function(e){var n=this.difference(this._drag.pointer,this.pointer(e)),o=this._drag.stage.current,s=n.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==n.x?s:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=s,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(e,i){var o=-1,s=30,a=this.width(),r=this.coordinates();return this.settings.freeDrag||t.each(r,t.proxy(function(t,l){return"left"===i&&e>l-s&&e<l+s?o=t:"right"===i&&e>l-a-s&&e<l-a+s?o=t+1:this.op(e,"<",l)&&this.op(e,">",r[t+1]!==n?r[t+1]:l-a)&&(o="left"===i?t+1:t),-1===o},this)),this.settings.loop||(this.op(e,">",r[this.minimum()])?o=e=this.minimum():this.op(e,"<",r[this.maximum()])&&(o=e=this.maximum())),o},o.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},o.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},o.prototype.current=function(t){if(t===n)return this._current;if(0===this._items.length)return n;if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});e.data!==n&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},o.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},o.prototype.reset=function(t){(t=this.normalize(t))!==n&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},o.prototype.normalize=function(t,e){var i=this._items.length,o=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=n:(t<0||t>=i+o)&&(t=((t-o/2)%i+i)%i+o/2),t},o.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},o.prototype.maximum=function(t){var e,i,n,o=this.settings,s=this._coordinates.length;if(o.loop)s=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){if(e=this._items.length)for(i=this._items[--e].width(),n=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>n););s=e+1}else s=o.center?this._items.length-1:this._items.length-o.items;return t&&(s-=this._clones.length/2),Math.max(s,0)},o.prototype.minimum=function(t){return t?0:this._clones.length/2},o.prototype.items=function(t){return t===n?this._items.slice():(t=this.normalize(t,!0),this._items[t])},o.prototype.mergers=function(t){return t===n?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},o.prototype.clones=function(e){var i=this._clones.length/2,o=i+this._items.length,s=function(t){return t%2==0?o+t/2:i-(t+1)/2};return e===n?t.map(this._clones,function(t,e){return s(e)}):t.map(this._clones,function(t,i){return t===e?s(i):null})},o.prototype.speed=function(t){return t!==n&&(this._speed=t),this._speed},o.prototype.coordinates=function(e){var i,o=1,s=e-1;return e===n?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(o=-1,s=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[s]||0))/2*o):i=this._coordinates[s]||0,i=Math.ceil(i))},o.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},o.prototype.to=function(t,e){var i=this.current(),n=null,o=t-this.relative(i),s=(o>0)-(o<0),a=this._items.length,r=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>a/2&&(o+=-1*s*a),(n=(((t=i+o)-r)%a+a)%a+r)!==t&&n-o<=l&&n-o>0&&(i=n-o,t=n,this.reset(i))):this.settings.rewind?t=(t%(l+=1)+l)%l:t=Math.max(r,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},o.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},o.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},o.prototype.onTransitionEnd=function(t){if(t!==n&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},o.prototype.viewport=function(){var n;return this.options.responsiveBaseElement!==e?n=t(this.options.responsiveBaseElement).width():e.innerWidth?n=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?n=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),n},o.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(e,i){var o=this.relative(this._current);i=i===n?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[o]&&this.reset(this._items[o].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},o.prototype.remove=function(t){(t=this.normalize(t,!0))!==n&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},o.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},o.prototype.destroy=function(){for(var n in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(t,e,i){var n=this.settings.rtl;switch(e){case"<":return n?t>i:t<i;case">":return n?t<i:t>i;case">=":return n?t<=i:t>=i;case"<=":return n?t>=i:t<=i}},o.prototype.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},o.prototype.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i)},o.prototype.trigger=function(e,i,n){var s={item:{count:this._items.length,index:this.current()}},a=t.camelCase(t.grep(["on",e,n],function(t){return t}).join("-").toLowerCase()),r=t.Event([e,"owl",n||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},s,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(r)}),this.register({type:o.Type.Event,name:e}),this.$element.trigger(r),this.settings&&"function"==typeof this.settings[a]&&this.settings[a].call(this,r)),r},o.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]===n&&(this._states.current[e]=0),this._states.current[e]++},this))},o.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},o.prototype.register=function(e){if(e.type===o.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===o.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,n){return t.inArray(i,this._states.tags[e.name])===n},this)))},o.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},o.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},o.prototype.pointer=function(t){var i={x:null,y:null};return(t=(t=t.originalEvent||t||e.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},o.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},o.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),s=n.data("owl.carousel");s||(s=new o(this,"object"==typeof e&&e),n.data("owl.carousel",s),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){s.register({type:o.Type.Event,name:i}),s.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),s[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},s))})),"string"==typeof e&&"_"!==e.charAt(0)&&s[e].apply(s,i)})},t.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(t,e){var i=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500},i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},i.prototype.destroy=function(){var t,i;for(t in e.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type)){var i=this._core.settings,o=i.center&&Math.ceil(i.items/2)||i.items,s=i.center&&-1*o||0,a=(e.property&&e.property.value!==n?e.property.value:this._core.current())+s,r=this._core.clones().length,l=t.proxy(function(t,e){this.load(e)},this);for(i.lazyLoadEager>0&&(o+=i.lazyLoadEager,i.loop&&(a-=i.lazyLoadEager,o++));s++<o;)this.load(r/2+this._core.relative(a)),r&&t.each(this._core.clones(this._core.relative(a)),l),a++}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1,lazyLoadEager:0},o.prototype.load=function(i){var n=this._core.$stage.children().eq(i),o=n&&n.find(".owl-lazy");!o||t.inArray(n.get(0),this._loaded)>-1||(o.each(t.proxy(function(i,n){var o,s=t(n),a=e.devicePixelRatio>1&&s.attr("data-src-retina")||s.attr("data-src")||s.attr("data-srcset");this._core.trigger("load",{element:s,url:a},"lazy"),s.is("img")?s.one("load.owl.lazy",t.proxy(function(){s.css("opacity",1),this._core.trigger("loaded",{element:s,url:a},"lazy")},this)).attr("src",a):s.is("source")?s.one("load.owl.lazy",t.proxy(function(){this._core.trigger("loaded",{element:s,url:a},"lazy")},this)).attr("srcset",a):((o=new Image).onload=t.proxy(function(){s.css({"background-image":'url("'+a+'")',opacity:"1"}),this._core.trigger("loaded",{element:s,url:a},"lazy")},this),o.src=a)},this)),this._loaded.push(n.get(0)))},
o.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(t,e){var i=function(n){this._core=n,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var o=this;t(e).on("load",function(){o._core.settings.autoHeight&&o.update()}),t(e).resize(function(){o._core.settings.autoHeight&&(null!=o._intervalId&&clearTimeout(o._intervalId),o._intervalId=setTimeout(function(){o.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},i.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,n=this._core.settings.lazyLoad,o=this._core.$stage.children().toArray().slice(e,i),s=[],a=0;t.each(o,function(e,i){s.push(t(i).height())}),(a=Math.max.apply(null,s))<=1&&n&&this._previousHeight&&(a=this._previousHeight),this._previousHeight=a,this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)},i.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(t,e,i){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",n=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),o=t.attr("data-width")||this._core.settings.videoWidth,s=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if((n=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[a]={type:i,id:n,width:o,height:s},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},n.prototype.thumbnail=function(e,i){var n,o,s,a=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",r=e.find("img"),l="src",c="",h=this._core.settings,d=function(i){o='<div class="owl-video-play-icon"></div>',n=h.lazyLoad?t("<div/>",{"class":"owl-video-tn "+c,srcType:i}):t("<div/>",{"class":"owl-video-tn",style:"opacity:1;background-image:url("+i+")"}),e.after(n),e.after(o)};if(e.wrap(t("<div/>",{"class":"owl-video-wrapper",style:a})),this._core.settings.lazyLoad&&(l="data-src",c="owl-lazy"),r.length)return d(r.attr(l)),r.remove(),!1;"youtube"===i.type?(s="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",d(s)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t[0].thumbnail_large,d(s)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t.framegrab_url,d(s)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,n=t(e.target).closest("."+this._core.settings.itemClass),o=this._videos[n.attr("data-video")],s=o.width||"100%",a=o.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),n=this._core.items(this._core.relative(n.index())),this._core.reset(n.index()),(i=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height",a),i.attr("width",s),"youtube"===o.type?i.attr("src","//www.youtube.com/embed/"+o.id+"?autoplay=1&rel=0&v="+o.id):"vimeo"===o.type?i.attr("src","//player.vimeo.com/video/"+o.id+"?autoplay=1"):"vzaar"===o.type&&i.attr("src","//view.vzaar.com/"+o.id+"/player?autoplay=true"),t(i).wrap('<div class="owl-video-frame" />').insertAfter(n.find(".owl-video")),this._playing=n.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this.core=e,this.core.options=t.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=n,this.next=n,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(a)),s&&o.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(s))}},o.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(t,e,i){var n=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype._next=function(n){this._call=e.setTimeout(t.proxy(this._next,this,n),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},n.prototype.read=function(){return(new Date).getTime()-this._time},n.prototype.play=function(i,n){var o;this._core.is("rotating")||this._core.enter("rotating"),i=i||this._core.settings.autoplayTimeout,o=Math.min(this._time%(this._timeout||i),i),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%i-o,this._timeout=i,this._call=e.setTimeout(t.proxy(this._next,this,n),i-o)},n.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},n.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t){"use strict";var e=function(i){this._core=i,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var e,i=this._core.settings;for(e in this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t('<button role="button">').addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy(function(e){var n=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(n,i.dotsSpeed)},this)),this._overrides)this._core[e]=t.proxy(this[e],this)},e.prototype.destroy=function(){var t,e,i,n,o;for(t in o=this._core.settings,this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&o.navContainer?this._controls[e].html(""):this._controls[e].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.clones().length/2,n=i+this._core.items().length,o=this._core.maximum(!0),s=this._core.settings,a=s.center||s.autoWidth||s.dotsData?1:s.dotsEach||s.items;if("page"!==s.slideBy&&(s.slideBy=Math.min(s.slideBy,s.items)),s.dots||"page"==s.slideBy)for(this._pages=[],t=i,e=0,0;t<n;t++){if(e>=a||0===e){if(this._pages.push({start:Math.min(o,t-i),end:t-i+a-1}),Math.min(o,t-i)===o)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var e,i=this._core.settings,n=this._core.items().length<=i.items,o=this._core.relative(this._core.current()),s=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!s&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!s&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},e.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t){return t.start<=e&&t.end>=e},this)).pop()},e.prototype.getPosition=function(e){var i,n,o=this._core.settings;return"page"==o.slideBy?(i=t.inArray(this.current(),this._pages),n=this._pages.length,e?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,e?i+=o.slideBy:i-=o.slideBy),i},e.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},e.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},e.prototype.to=function(e,i,n){var o;!n&&this._pages.length?(o=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%o+o)%o].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){"use strict";var o=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),o=t.map(this._hashes,function(t,e){return t===n?e:null}).join();if(!o||e.location.hash.slice(1)===o)return;e.location.hash=o}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(){var t=e.location.hash.substring(1),i=this._core.$stage.children(),o=this._hashes[t]&&i.index(this._hashes[t]);o!==n&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var i,n;for(i in t(e).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){function o(e,i){var o=!1,s=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+r.join(s+" ")+s).split(" "),function(t,e){if(a[e]!==n)return o=!i||e,!1}),o}function s(t){return o(t,!0)}var a=t("<support>").get(0).style,r="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},c={csstransforms:function(){return!!o("transform")},csstransforms3d:function(){return!!o("perspective")},csstransitions:function(){return!!o("transition")},cssanimations:function(){return!!o("animation")}};c.csstransitions()&&(t.support.transition=new String(s("transition")),t.support.transition.end=l.transition.end[t.support.transition]),c.cssanimations()&&(t.support.animation=new String(s("animation")),t.support.animation.end=l.animation.end[t.support.animation]),c.csstransforms()&&(t.support.transform=new String(s("transform")),t.support.transform3d=c.csstransforms3d())}(window.Zepto||window.jQuery,window,document),$(function(){$(".podcasts__group").each(function(){var t=$(this);t.find(".owl-carousel").owlCarousel({loop:!1,margin:10,dots:!1,nav:!0,navText:['<span class="podcasts__group-prev"><i class="wsico">3</i></span>','<span class="podcasts__group-next"><i class="wsico">4</i></span>'],navContainer:t.find(".podcasts__group-nav"),navElement:"span",responsive:{0:{items:1,autoWidth:!1},320:{autoWidth:!0},1000:{autoWidth:!0}}})}),$("#podcastsRubricList").on("click",".podcasts__group-list-item",function(t){t.preventDefault();var e=$(this);$("#podcastsRubricList").find(".podcasts__group-list-item").removeClass("m-active"),e.addClass("m-active"),$(e.attr("href")).addClass("m-active").siblings(".podcasts__group.m-rubric-items").removeClass("m-active")}),!window.is_adaptive&&$(".podcasts__group-list.owl-carousel").not("#podcastsRubricList").find(".podcasts__group-list-item").on("mouseenter",function(){var t=$(this);$("#podcastItemTooltip").remove(),$("body").prepend('<div id="podcastItemTooltip"><div class="podcasts__group-item-description"></div></div>'),$("#podcastItemTooltip").find(".podcasts__group-item-description").html(t.find(".podcasts__group-item-description").html()).show(),$("#podcastItemTooltip").css({position:"absolute",height:t.outerHeight(),width:t.outerWidth(),left:t.offset().left,top:t.offset().top}).show(),$("#podcastItemTooltip").on("mouseleave",function(){$("#podcastItemTooltip").remove()})}).on("mouseleave",function(t){$(t.toElement).hasClass("podcasts__group-item-description")||$("#podcastItemTooltip").remove()})}),$(function(){$.fn.initPodcastPlayer=function(){this.each(function(){var t=$(this),e=$('<div class="audioplayer"></div>').prependTo(t),i={},n="",o=t.attr("id")?t.attr("id"):"a"+(new Date).getTime(),s=t.find(".media a").eq(0),a=localStorage.getItem("mediaQualityPodcast")||"low";t.find(".media a").each(function(t){var e=$(this);n+=t>0?","+e.attr("rel"):e.attr("rel"),"high"===a&&e.data("q2")?i[e.attr("rel")]=e.data("q2"):i[e.attr("rel")]=e.attr("href")});var r='<div id="container_'+o+'" class="nota_audio"><div class="nota_type-single"><div id="notaplayer_'+o+'" class="nota_jplayer"></div><div class="nota_gui"><div class="nota_interface"><div class="nota_progress-container"><div class="nota_progress"><div class="nota_seek-bar"><div class="nota_play-bar"></div><div class="nota_time-container"><span class="nota_current-time"></span></div></div></div><div class="nota_time-tooltip"><span>00:00</span><i></i></div></div><div class="nota_controls-holder"><div class="nota_controls"><a href="javascript:;" class="nota_play" tabindex="1"><span>\u0432\u043e\u0441\u043f\u0440.</span></a><a href="javascript:;" class="nota_pause" tabindex="1"><span>\u043f\u0430\u0443\u0437\u0430</span></a><a href="javascript:;" class="nota_stop" tabindex="1"><span>\u0441\u0442\u043e\u043f</span></a>';s.data("q1")&&s.data("q2")&&(r+='<div class="nota_quality">\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e: <a href="javascript:;" onclick="setQualityPodcast(\''+o+"', this, '"+s.data("q1")+"', 'low')\" class=\"nota_quality_item "+("low"===a?"active":"")+'" tabindex="1">\u043e\u0431\u044b\u0447\u043d\u043e\u0435</a> / <a href="javascript:;" onclick="setQualityPodcast(\''+o+"', this, '"+s.data("q2")+"', 'high')\" class=\"nota_quality_item "+("high"===a?"active":"")+'" tabindex="1">\u0432\u044b\u0441\u043e\u043a\u043e\u0435</a></div>'),r+='<div class="nota_volume-controls"><a href="javascript:;" class="nota_mute" tabindex="1" title="\u0432\u044b\u043a\u043b."><span>\u0432\u044b\u043a\u043b.</span></a><a href="javascript:;" class="nota_unmute" tabindex="1" title="\u0432\u043a\u043b."><span>\u0432\u043a\u043b.</span></a><a href="javascript:;" class="nota_volume-max" tabindex="1" title="max volume"><span>\u0432\u0436\u0430\u0440\u0438\u0442\u044c</span></a><div class="nota_volume-bar"><div class="nota_volume-bar-value"><i></i><i></i><i></i><i></i><i></i><i></i></div></div></div></div></div></div></div><div class="nota_no-solution"><span>\u041d\u0443\u0436\u0435\u043d \u043f\u043b\u0430\u0433\u0438\u043d</span>\u0414\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0435\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438\u043b\u0438 <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.</div></div></div>',$(r).appendTo(e),"apready"!=e.data("apready")&&$("#notaplayer_"+o).jPlayer({ready:function(){$(this).jPlayer("setMedia",i)},play:function(){t.data("callback-url")&&($.get(t.data("callback-url")),t.data("callback-url","")),$(".nota_jplayer").not(this).jPlayer("pause")},swfPath:"/assets",errorAlerts:!1,cssSelectorAncestor:"#container_"+o,preload:"none",cssSelector:{play:".nota_play",pause:".nota_pause",stop:".nota_stop",seekBar:".nota_seek-bar",playBar:".nota_play-bar",mute:".nota_mute",unmute:".nota_unmute",volumeBar:".nota_volume-bar",volumeBarValue:".nota_volume-bar-value",volumeMax:".nota_volume-max",currentTime:".nota_current-time",duration:".nota_duration",fullScreen:".nota_full-screen",restoreScreen:".nota_restore-screen",repeat:".nota_repeat",repeatOff:".nota_repeat-off",gui:".nota_gui",noSolution:".nota_no-solution"},supplied:n,wmode:"window",smoothPlayBar:!1,keyEnabled:!1})})},$(".podcastplayer").initPodcastPlayer()}),$(function(){$(".podcast__episodes-item, .podcast-item__header").find(".download").attr("target","_blank"),$(".podcast__episodes-item, .podcast-item__header").on("click",".download",function(){var t=$(this).data("callback-url");t&&$.get(t)})}),$(function(){$("body").on("click",".jsDownloadMedia",function(t){t.preventDefault();var e=$(this),i='<div class="download-modal__wrapper download-modal__close"><div class="download-modal"><div class="download-modal__header">\u0421\u043a\u0430\u0447\u0430\u0442\u044c</div><span class="download-modal__close-icon download-modal__close"></span> <div class="download-modal__body"><div class="download-modal__qty">';e.data("q1")&&(i+='<a target="_blank" href="'+e.data("q1")+'">SD (\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e) <span class="download-modal__qty-size">'+e.data("q1-size")+"</span></a>"),e.data("q2")&&(i+='<a target="_blank" href="'+e.data("q2")+'">HD (\u0412\u044b\u0441\u043e\u043a\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e) <span class="download-modal__qty-size">'+e.data("q2-size")+"</span></a>"),i+="</div></div></div></div>",$("body").append(i),$("body").on("keydown.downloadModal",function(t){27==t.keyCode&&$(".download-modal__close").trigger("click")})}),$("body").on("click",".download-modal__close",function(){$(".download-modal__wrapper").remove(),$("body").off("keydown.downloadModal")}),$("body").on("click",".download-modal",function(t){t.stopPropagation()})}),$(function(){$(".adv__form").on("submit",function(t){t.preventDefault();var e=$(this);$.ajax({url:e.attr("action"),data:e.serialize(),method:"POST",complete:function(){e[0].reset(),e.find("input[type=submit]").hide(),e.find(".adv__form-success").css("display","flex")}})}),$(".adv__carousel").owlCarousel({loop:!0,items:1,dots:!1,nav:!0,navText:['<span class="adv__carousel-prev"><i class="wsico">3</i></span>','<span class="adv__carousel-next"><i class="wsico">4</i></span>'],navContainer:$(".adv__carousel-nav"),navElement:"span"})}),$(function(){$(".settings").settingsform(),$(".removeentry").removeentry()}),function(t){t.fn.settingsform=function(){this.each(function(){var e=t(this);t(".fieldspopup").each(function(){var e=t(this),i=t('a[href="#'+e.attr("id")+'"]');e.css("display","none"),i.on("click",function(i){i.preventDefault(),e.find(".success").remove(),e.slideDown(200,function(){t(":input",e).prop("disabled",!1),t(document).off(".fieldspopup").on("click.fieldspopup",function(i){t(i.target).parents("#"+e.attr("id")).length<1&&(e.css("display","none"),e.find(".success").remove(),t(":input",e).prop("disabled",!0),t(document).off(".fieldspopup"))})})}),e.hasClass("changepassword")&&(e.find(".error").css("display","none"),e.find(".button").on("click",function(i){i.preventDefault(),e.find(".error").css("display","none"),e.find(".success").remove();var n=e.find(".inpresetpassword"),o=n.val();o.length<1?e.find(".required").css("display","block"):o.length<6?e.find(".validate").css("display","block"):(e.find(".error").css("display","none"),t.ajax({url:e.data("path"),data:t(":input",e).serialize(),method:"POST",success:function(e){var i=t(e);n.after(i)}}))})),e.hasClass("changeemail")&&(e.find(".error").css("display","none"),e.find(".button").on("click",function(i){i.preventDefault(),e.find(".error").css("display","none"),e.find(".success").remove();var n=e.find(".inpresetemail"),o=n.val();o.length<1?e.find(".required").css("display","block"):/^([a-z0-9_\-]+\.)*[a-z0-9_\-]+@([a-z0-9][a-z0-9\-]*[a-z0-9]\.)+[a-z]{2,4}$/i.test(o)?(e.find(".error").css("display","none"),t.ajax({url:e.data("path"),data:t(":input",e).serialize(),method:"POST",success:function(e){var i=t(e);n.after(i)}})):e.find(".validate").css("display","block")}))}),e.on("submit",function(){var e=t(this);return e.formValidator(),!!e.data("valid")||(t.scrollTo(e),!1)})})}}(jQuery),function(t){t.fn.removeentry=function(){this.each(function(){var e=t(this),i=e.children("a"),n=e.children(".confirm"),o=e.find(".cancel"),s=e.find(".ok"),a=e.parents(".entry:eq(0)");i.on("click",function(e){e.preventDefault(),n.slideDown(200,function(){t(document).off(".confirm").on("click.confirm",function(e){t(e.target).parents(".confirm").length<1&&(n.css("display","none"),t(document).off(".confirm"))})})}),o.on("click",function(e){e.preventDefault(),n.css("display","none"),t(document).off(".confirm")}),s.on("click",function(e){e.preventDefault(),t.ajax({url:t(this).attr("href"),method:"GET",success:function(){a.addClass("remove").animate({opacity:0},400,function(){a.remove()})}}),n.css("display","none"),t(document).off(".confirm")})})}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.firebase=e()}(this,function(){"use strict";function t(){}function e(t){if(!(this instanceof e))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],a(t,this)}function i(t,i){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,e._immediateFn(function(){var e=1===t._state?i.onFulfilled:i.onRejected;if(null!==e){var s;try{s=e(t._value)}catch(t){return void o(i.promise,t)}n(i.promise,s)}else(1===t._state?n:o)(i.promise,t._value)})):t._deferreds.push(i)}function n(t,i){try{if(i===t)throw new TypeError("A promise cannot be resolved with itself.");if(i&&("object"==typeof i||"function"==typeof i)){var n=i.then;if(i instanceof e)return t._state=3,t._value=i,void s(t);if("function"==typeof n)return void a((r=n,l=i,function(){r.apply(l,arguments)}),t)}t._state=1,t._value=i,s(t)}catch(i){o(t,i)}var r,l}function o(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&e._immediateFn(function(){t._handled||e._unhandledRejectionFn(t._value)});for(var n=0,o=t._deferreds.length;n<o;n++)i(t,t._deferreds[n]);t._deferreds=null}function a(t,e){var i=!1;try{t(function(t){i||(i=!0,n(e,t))},function(t){i||(i=!0,o(e,t))})}catch(t){if(i)return;i=!0,o(e,t)}}function r(t,e){return t(e={exports:{}},e.exports),e.exports}function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=l(t[i],e[i]));return t}function c(t,e,i){t[e]=i}function h(t,e){var i=new si(t,e);return i.subscribe.bind(i)}function d(){}function u(t,e){throw hi.create(t,e)}!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function i(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return p.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function s(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}})}function r(t){var e=new FileReader,i=a(e);return e.readAsArrayBuffer(t),i}function l(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(p.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(p.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(p.arrayBuffer&&p.blob&&m(t))this._bodyArrayBuffer=l(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{
if(!p.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!g(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},p.blob&&(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(r)}),this.text=function(){var t,e,i,n=s(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,i=a(e=new FileReader),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t,e){var i,n,s=(e=e||{}).body;if(t instanceof h){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=(n=(i=e.method||this.method||"GET").toUpperCase(),v.indexOf(n)>-1?n:i),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),o=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function u(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var p={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(p.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(t){return t&&DataView.prototype.isPrototypeOf(t)},g=ArrayBuffer.isView||function(t){return t&&f.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,n){t=e(t),n=i(n);var o=this.map[t];this.map[t]=o?o+","+n:n},o.prototype["delete"]=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,n){this.map[e(t)]=i(n)},o.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,i){t.push(i)}),n(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,i){t.push([i,e])}),n(t)},p.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},c.call(h.prototype),c.call(u.prototype),u.prototype.clone=function(){return new u(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},u.error=function(){var t=new u(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];u.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new u(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=h,t.Response=u,t.fetch=function(t,e){return new Promise(function(i,n){var s=new h(t,e),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new o,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),n=i.shift().trim();if(n){var o=i.join(":").trim();e.append(n,o)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var s="response"in a?a.response:a.responseText;i(new u(s,n))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&p.blob&&(a.responseType="blob"),s.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===s._bodyInit?null:s._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);var p=setTimeout;e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(e,n){var o=new this.constructor(t);return i(this,new function(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}(e,n,o)),o},e.prototype["finally"]=function(t){var e=this.constructor;return this.then(function(i){return e.resolve(t()).then(function(){return i})},function(i){return e.resolve(t()).then(function(){return e.reject(i)})})},e.all=function(t){return new e(function(e,i){function n(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var r=a.then;if("function"==typeof r)return void r.call(a,function(e){n(t,e)},i)}o[t]=a,0==--s&&e(o)}catch(t){i(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);for(var s=o.length,a=0;a<o.length;a++)n(a,o[a])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,i){i(t)})},e.race=function(t){return new e(function(e,i){for(var n=0,o=t.length;n<o;n++)t[n].then(e,i)})},e._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){p(t,0)},e._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();f.Promise||(f.Promise=e);var m=r(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),g=r(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),v=(g.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),y=function(t){if(!v(t))throw TypeError(t+" is not an object!");return t},b=function(t){try{return!!t()}catch(t){return!0}},_=!b(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),w=m.document,x=v(w)&&v(w.createElement),k=function(t){return x?w.createElement(t):{}},C=!_&&!b(function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a}),T=function(t,e){if(!v(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!v(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!v(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!v(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,P={f:_?Object.defineProperty:function(t,e,i){if(y(t),e=T(e,!0),y(i),C)try{return S(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},j=_?function(t,e,i){return P.f(t,e,E(1,i))}:function(t,e,i){return t[e]=i,t},L={}.hasOwnProperty,I=function(t,e){return L.call(t,e)},O=0,A=Math.random(),D=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++O+A).toString(36))},M=r(function(t){var e=D("src"),i=Function.toString,n=(""+i).split("toString");g.inspectSource=function(t){return i.call(t)},(t.exports=function(t,i,o,s){var a="function"==typeof o;a&&(I(o,"name")||j(o,"name",i)),t[i]!==o&&(a&&(I(o,e)||j(o,e,t[i]?""+t[i]:n.join(String(i)))),t===m?t[i]=o:s?t[i]?t[i]=o:j(t,i,o):(delete t[i],j(t,i,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||i.call(this)})}),z=function(t,e,i){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}},B=function(t,e,i){var n,o,s,a,r=t&B.F,l=t&B.G,c=t&B.S,h=t&B.P,d=t&B.B,u=l?m:c?m[e]||(m[e]={}):(m[e]||{}).prototype,p=l?g:g[e]||(g[e]={}),f=p.prototype||(p.prototype={});for(n in l&&(i=e),i)s=((o=!r&&u&&void 0!==u[n])?u:i)[n],a=d&&o?z(s,m):h&&"function"==typeof s?z(Function.call,s):s,u&&M(u,n,s,t&B.U),p[n]!=s&&j(p,n,a),h&&f[n]!=s&&(f[n]=s)};m.core=g,B.F=1,B.G=2,B.S=4,B.P=8,B.B=16,B.W=32,B.U=64,B.R=128;var N=B,R={}.toString,$=function(t){return R.call(t).slice(8,-1)},F=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==$(t)?t.split(""):Object(t)},H=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},W=function(t){return Object(H(t))},q=Math.ceil,U=Math.floor,V=function(t){return isNaN(t=+t)?0:(t>0?U:q)(t)},Y=Math.min,G=function(t){return t>0?Y(V(t),9007199254740991):0},X=Array.isArray||function(t){return"Array"==$(t)},K=m["__core-js_shared__"]||(m["__core-js_shared__"]={}),Q=function(t){return K[t]||(K[t]={})},Z=r(function(t){var e=Q("wks"),i=m.Symbol,n="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=n&&i[t]||(n?i:D)("Symbol."+t))}).store=e}),J=Z("species"),tt=function(t,e){return new(function(t){var e;return X(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!X(e.prototype)||(e=void 0),v(e)&&null===(e=e[J])&&(e=void 0)),void 0===e?Array:e}(t))(e)},et=function(t,e){var i=1==t,n=2==t,o=3==t,s=4==t,a=6==t,r=5==t||a,l=e||tt;return function(e,c,h){for(var d,u,p=W(e),f=F(p),m=z(c,h,3),g=G(f.length),v=0,y=i?l(e,g):n?l(e,0):void 0;g>v;v++)if((r||v in f)&&(u=m(d=f[v],v,p),t))if(i)y[v]=u;else if(u)switch(t){case 3:return!0;case 5:return d;case 6:return v;case 2:y.push(d)}else if(s)return!1;return a?-1:o||s?s:y}},it=Z("unscopables"),nt=Array.prototype;null==nt[it]&&j(nt,it,{});var ot=function(t){nt[it][t]=!0},st=et(5),at=!0;"find"in[]&&Array(1).find(function(){at=!1}),N(N.P+N.F*at,"Array",{find:function(t){return st(this,t,arguments.length>1?arguments[1]:void 0)}}),ot("find"),g.Array.find;var rt=et(6),lt=!0;"findIndex"in[]&&Array(1).findIndex(function(){lt=!1}),N(N.P+N.F*lt,"Array",{findIndex:function(t){return rt(this,t,arguments.length>1?arguments[1]:void 0)}}),ot("findIndex"),g.Array.findIndex;var ct,ht=function(t){return F(H(t))},dt=Math.max,ut=Math.min,pt=Q("keys"),ft=function(t){return pt[t]||(pt[t]=D(t))},mt=(ct=!1,function(t,e,i){var n,o=ht(t),s=G(o.length),a=function(t,e){return(t=V(t))<0?dt(t+e,0):ut(t,e)}(i,s);if(ct&&e!=e){for(;s>a;)if((n=o[a++])!=n)return!0}else for(;s>a;a++)if((ct||a in o)&&o[a]===e)return ct||a||0;return!ct&&-1}),gt=ft("IE_PROTO"),vt=function(t,e){var i,n=ht(t),o=0,s=[];for(i in n)i!=gt&&I(n,i)&&s.push(i);for(;e.length>o;)I(n,i=e[o++])&&(~mt(s,i)||s.push(i));return s},yt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),bt=Object.keys||function(t){return vt(t,yt)},_t={f:Object.getOwnPropertySymbols},wt={f:{}.propertyIsEnumerable},xt=Object.assign,kt=!xt||b(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=xt({},t)[i]||Object.keys(xt({},e)).join("")!=n})?function(t){for(var e=W(t),i=arguments.length,n=1,o=_t.f,s=wt.f;i>n;)for(var a,r=F(arguments[n++]),l=o?bt(r).concat(o(r)):bt(r),c=l.length,h=0;c>h;)s.call(r,a=l[h++])&&(e[a]=r[a]);return e}:xt;N(N.S+N.F,"Object",{assign:kt}),g.Object.assign;var Ct=Z("match"),Tt=function(t,e,i){if(v(n=e)&&(void 0!==(o=n[Ct])?o:"RegExp"==$(n)))throw TypeError("String#"+i+" doesn't accept regex!");var n,o;return String(H(t))},St=Z("match"),Pt="".startsWith;N(N.P+N.F*function(t){var i=/./;try{"/./"[t](i)}catch(e){try{return i[St]=!1,!"/./"[t](i)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=Tt(this,t,"startsWith"),i=G(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return Pt?Pt.call(e,n,i):e.slice(i,i+n.length)===n}}),g.String.startsWith,N(N.P,"String",{repeat:function(t){var e=String(H(this)),i="",n=V(t);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(i+=e);return i}}),g.String.repeat;var Et=r(function(t){var e=D("meta"),i=P.f,n=0,o=Object.isExtensible||function(){return!0},s=!b(function(){return o(Object.preventExtensions({}))}),a=function(t){i(t,e,{value:{i:"O"+ ++n,w:{}}})},r=t.exports={KEY:e,NEED:!1,fastKey:function(t,i){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!I(t,e)){if(!o(t))return"F";if(!i)return"E";a(t)}return t[e].i},getWeak:function(t,i){if(!I(t,e)){if(!o(t))return!0;if(!i)return!1;a(t)}return t[e].w},onFreeze:function(t){return s&&r.NEED&&o(t)&&!I(t,e)&&a(t),t}}}),jt=(Et.KEY,Et.NEED,Et.fastKey,Et.getWeak,Et.onFreeze,P.f),Lt=Z("toStringTag"),It=function(t,e,i){t&&!I(t=i?t:t.prototype,Lt)&&jt(t,Lt,{configurable:!0,value:e})},Ot={f:Z},At=P.f,Dt=function(t){var e=g.Symbol||(g.Symbol=m.Symbol||{});"_"==t.charAt(0)||t in e||At(e,t,{value:Ot.f(t)})},Mt=_?Object.defineProperties:function(t,e){y(t);for(var i,n=bt(e),o=n.length,s=0;o>s;)P.f(t,i=n[s++],e[i]);return t},zt=m.document,Bt=zt&&zt.documentElement,Nt=ft("IE_PROTO"),Rt=function(){},$t=function(){var t,e=k("iframe"),i=yt.length;for(e.style.display="none",Bt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object</script>"),t.close(),$t=t.F;i--;)delete $t.prototype[yt[i]];return $t()},Ft=Object.create||function(t,e){var i;return null!==t?(Rt.prototype=y(t),i=new Rt,Rt.prototype=null,i[Nt]=t):i=$t(),void 0===e?i:Mt(i,e)},Ht=yt.concat("length","prototype"),Wt={f:Object.getOwnPropertyNames||function(t){return vt(t,Ht)}},qt=Wt.f,Ut={}.toString,Vt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yt={f:function(t){return Vt&&"[object Window]"==Ut.call(t)?function(t){try{return qt(t)}catch(t){return Vt.slice()}}(t):qt(ht(t))}},Gt=Object.getOwnPropertyDescriptor,Xt={f:_?Gt:function(t,e){if(t=ht(t),e=T(e,!0),C)try{return Gt(t,e)}catch(t){}if(I(t,e))return E(!wt.f.call(t,e),t[e])}},Kt=Et.KEY,Qt=Xt.f,Zt=P.f,Jt=Yt.f,te=m.Symbol,ee=m.JSON,ie=ee&&ee.stringify,ne=Z("_hidden"),oe=Z("toPrimitive"),se={}.propertyIsEnumerable,ae=Q("symbol-registry"),re=Q("symbols"),le=Q("op-symbols"),ce=Object.prototype,he="function"==typeof te,de=m.QObject,ue=!de||!de.prototype||!de.prototype.findChild,pe=_&&b(function(){return 7!=Ft(Zt({},"a",{get:function(){return Zt(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=Qt(ce,e);n&&delete ce[e],Zt(t,e,i),n&&t!==ce&&Zt(ce,e,n)}:Zt,fe=function(t){var e=re[t]=Ft(te.prototype);return e._k=t,e},me=he&&"symbol"==typeof te.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof te},ge=function(t,e,i){return t===ce&&ge(le,e,i),y(t),e=T(e,!0),y(i),I(re,e)?(i.enumerable?(I(t,ne)&&t[ne][e]&&(t[ne][e]=!1),i=Ft(i,{enumerable:E(0,!1)})):(I(t,ne)||Zt(t,ne,E(1,{})),t[ne][e]=!0),pe(t,e,i)):Zt(t,e,i)},ve=function(t,e){y(t);for(var i,n=function(t){var e=bt(t),i=_t.f;if(i)for(var n,o=i(t),s=wt.f,a=0;o.length>a;)s.call(t,n=o[a++])&&e.push(n);return e}(e=ht(e)),o=0,s=n.length;s>o;)ge(t,i=n[o++],e[i]);return t},ye=function(t){var e=se.call(this,t=T(t,!0));return!(this===ce&&I(re,t)&&!I(le,t))&&(!(e||!I(this,t)||!I(re,t)||I(this,ne)&&this[ne][t])||e)},be=function(t,e){if(t=ht(t),e=T(e,!0),t!==ce||!I(re,e)||I(le,e)){var i=Qt(t,e);return!i||!I(re,e)||I(t,ne)&&t[ne][e]||(i.enumerable=!0),i}},_e=function(t){for(var e,i=Jt(ht(t)),n=[],o=0;i.length>o;)I(re,e=i[o++])||e==ne||e==Kt||n.push(e);return n},we=function(t){for(var e,i=t===ce,n=Jt(i?le:ht(t)),o=[],s=0;n.length>s;)!I(re,e=n[s++])||i&&!I(ce,e)||o.push(re[e]);return o};he||(M((te=function(){if(this instanceof te)throw TypeError("Symbol is not a constructor!");var t=D(arguments.length>0?arguments[0]:void 0),e=function(i){this===ce&&e.call(le,i),I(this,ne)&&I(this[ne],t)&&(this[ne][t]=!1),pe(this,t,E(1,i))};return _&&ue&&pe(ce,t,{configurable:!0,set:e}),fe(t)}).prototype,"toString",function(){return this._k}),Xt.f=be,P.f=ge,Wt.f=Yt.f=_e,wt.f=ye,_t.f=we,_&&M(ce,"propertyIsEnumerable",ye,!0),Ot.f=function(t){return fe(Z(t))}),N(N.G+N.W+N.F*!he,{Symbol:te});for(var xe="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ke=0;xe.length>ke;)Z(xe[ke++]);for(var Ce=bt(Z.store),Te=0;Ce.length>Te;)Dt(Ce[Te++]);N(N.S+N.F*!he,"Symbol",{"for":function(t){return I(ae,t+="")?ae[t]:ae[t]=te(t)},keyFor:function(t){if(!me(t))throw TypeError(t+" is not a symbol!");for(var e in ae)if(ae[e]===t)return e},useSetter:function(){ue=!0},useSimple:function(){ue=!1}}),N(N.S+N.F*!he,"Object",{create:function(t,e){return void 0===e?Ft(t):ve(Ft(t),e)},defineProperty:ge,defineProperties:ve,getOwnPropertyDescriptor:be,getOwnPropertyNames:_e,getOwnPropertySymbols:we}),ee&&N(N.S+N.F*(!he||b(function(){var t=te();return"[null]"!=ie([t])||"{}"!=ie({a:t})||"{}"!=ie(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e=n[1],(v(e)||void 0!==t)&&!me(t))return X(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!me(e))return e}),n[1]=e,ie.apply(ee,n)}}),te.prototype[oe]||j(te.prototype,oe,te.prototype.valueOf),It(te,"Symbol"),It(Math,"Math",!0),It(m.JSON,"JSON",!0);var Se=Z("toStringTag"),Pe="Arguments"==$(function(){return arguments}()),Ee={};Ee[Z("toStringTag")]="z",Ee+""!="[object z]"&&M(Object.prototype,"toString",function(){return"[object "+(void 0===(t=this)?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Se))?i:Pe?$(e):"Object"==(n=$(e))&&"function"==typeof e.callee?"Arguments":n)+"]";var t,e,i,n},!0),Dt("asyncIterator"),Dt("observable"),g.Symbol;var je={},Le={};j(Le,Z("iterator"),function(){return this});var Ie,Oe=function(t,e,i){t.prototype=Ft(Le,{next:E(1,i)}),It(t,e+" Iterator")},Ae=ft("IE_PROTO"),De=Object.prototype,Me=Object.getPrototypeOf||function(t){return t=W(t),I(t,Ae)?t[Ae]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?De:null},ze=Z("iterator"),Be=!([].keys&&"next"in[].keys()),Ne=function(){return this},Re=function(t,e,i,n,o,s,a){Oe(i,e,n);var r,l,c,h=function(t){if(!Be&&t in f)return f[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},d=e+" Iterator",u="values"==o,p=!1,f=t.prototype,m=f[ze]||f["@@iterator"]||o&&f[o],g=m||h(o),v=o?u?h("entries"):g:void 0,y="Array"==e&&f.entries||m;if(y&&(c=Me(y.call(new t)))!==Object.prototype&&c.next&&(It(c,d,!0),"function"!=typeof c[ze]&&j(c,ze,Ne)),u&&m&&"values"!==m.name&&(p=!0,g=function(){return m.call(this)}),(Be||p||!f[ze])&&j(f,ze,g),je[e]=g,je[d]=Ne,o)if(r={values:u?g:h("values"),keys:s?g:h("keys"),entries:v},a)for(l in r)l in f||M(f,l,r[l]);else N(N.P+N.F*(Be||p),e,r);return r},$e=(Ie=!0,function(t,e){var i,n,o=String(H(t)),s=V(e),a=o.length;return s<0||s>=a?Ie?"":void 0:(i=o.charCodeAt(s))<55296||i>56319||s+1===a||(n=o.charCodeAt(s+1))<56320||n>57343?Ie?o.charAt(s):i:Ie?o.slice(s,s+2):n-56320+(i-55296<<10)+65536});Re(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=$e(e,i),this._i+=t.length,{value:t,done:!1})});var Fe=function(t,e){return{value:e,done:!!t}},He=Re(Array,"Array",function(t,e){this._t=ht(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,Fe(1)):Fe(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values");je.Arguments=je.Array,ot("keys"),ot("values"),ot("entries");for(var We=Z("iterator"),qe=Z("toStringTag"),Ue=je.Array,Ve={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Ye=bt(Ve),Ge=0;Ge<Ye.length;Ge++){var Xe,Ke=Ye[Ge],Qe=Ve[Ke],Ze=m[Ke],Je=Ze&&Ze.prototype;if(Je&&(Je[We]||j(Je,We,Ue),Je[qe]||j(Je,qe,Ke),je[Ke]=Ue,Qe))for(Xe in He)Je[Xe]||M(Je,Xe,He[Xe],!0)}Ot.f("iterator");var ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},ei="FirebaseError",ii=Error.captureStackTrace,ni=function(t,e){if(this.code=t,this.message=e,ii)ii(this,oi.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=ei,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}};ni.prototype=Object.create(Error.prototype),ni.prototype.constructor=ni,ni.prototype.name=ei;var oi=function(){function t(t,e,i){this.service=t,this.serviceName=e,this.errors=i,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var i,n=this.errors[t],o=this.service+"/"+t;i=void 0===n?"Error":n.replace(this.pattern,function(t,i){var n=e[i];return void 0!==n?n.toString():"<"+i+"?>"}),i=this.serviceName+": "+i+" ("+o+").";var s=new ni(o,i);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(s[a]=e[a]);return s},t}();!function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var i=1;i<e.blockSize;++i)e.pad_[i]=0;return e.reset(),e}(function(t,e){function i(){this.constructor=t}ti(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)})(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var i=this.W_;if("string"==typeof t)for(var n=0;n<16;n++)i[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(n=0;n<16;n++)i[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(n=16;n<80;n++){var o=i[n-3]^i[n-8]^i[n-14]^i[n-16];i[n]=4294967295&(o<<1|o>>>31)}var s,a,r=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4];for(n=0;n<80;n++)n<40?n<20?(s=h^l&(c^h),a=1518500249):(s=l^c^h,a=1859775393):n<60?(s=l&c|h&(l|c),a=2400959708):(s=l^c^h,a=3395469782),o=(r<<5|r>>>27)+s+d+a+i[n]&4294967295,d=h,h=c,c=4294967295&(l<<30|l>>>2),l=r,r=o;this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var i=e-this.blockSize,n=0,o=this.buf_,s=this.inbuf_;n<e;){if(0==s)for(;n<=i;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(o[s]=t.charCodeAt(n),++n,++s==this.blockSize){this.compress_(o),s=0;break}}else for(;n<e;)if(o[s]=t[n],++n,++s==this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var o=24;o>=0;o-=8)t[n]=this.chain_[i]>>o&255,++n;return t}}(function(){this.blockSize=-1});var si=function(){function t(t,e){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(i)})["catch"](function(t){i.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,i){var n,o=this;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");void 0===(n=function(t){if("object"!=typeof t||null===t)return!1;for(var e=0,i=["next","error","complete"];e<i.length;e++){var n=i[e];if(n in t&&"function"==typeof t[n])return!0}return!1}(t)?t:{next:t,error:e,complete:i}).next&&(n.next=d),void 0===n.error&&(n.error=d),void 0===n.complete&&(n.complete=d);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?n.error(o.finalError):n.complete()}catch(t){}}),this.observers.push(n),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var i=this;this.task.then(function(){if(void 0!==i.observers&&void 0!==i.observers[t])try{e(i.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}(),ai=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},ri="[DEFAULT]",li=[],ci=function(){function t(t,e,i){this.firebase_=i,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=l(void 0,t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){li.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){li=li.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype["delete"]=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(i){Object.keys(t.services_[i]).forEach(function(n){e.push(t.services_[i][n])})}),Promise.all(e.map(function(t){return t.INTERNAL["delete"]()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=ri),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var i=e!==ri?e:void 0,n=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),i);this.services_[t][e]=n}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;l(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(li.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),li=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();ci.prototype.name&&ci.prototype.options||ci.prototype["delete"]||console.log("dc");var hi=new oi("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."});return function di(){function t(t){return ai(o,t=t||ri)||u("no-app",{name:t}),o[t]}function e(){return Object.keys(o).map(function(t){return o[t]})}function i(t,e){Object.keys(s).forEach(function(i){var o=n(t,i);null!==o&&a[o]&&a[o](e,t)})}function n(t,e){if("serverAuth"===e)return null;var i=e;return t.options,i}var o={},s={},a={},r={__esModule:!0,initializeApp:function(t,e){(void 0===e&&(e={}),"object"!=typeof e||null===e)&&(e={name:e});var n=e;void 0===n.name&&(n.name=ri);var s=n.name;"string"==typeof s&&s||u("bad-app-name",{name:s+""}),ai(o,s)&&u("duplicate-app",{name:s});var a=new ci(t,n,r);return o[s]=a,i(a,"create"),a},app:t,apps:null,Promise:Promise,SDK_VERSION:"5.6.0",INTERNAL:{registerService:function(i,n,o,c,h){s[i]&&u("duplicate-service",{name:i}),s[i]=n,c&&(a[i]=c,e().forEach(function(t){c("create",t)}));var d=function(e){return void 0===e&&(e=t()),"function"!=typeof e[i]&&u("invalid-app-argument",{name:i}),e[i]()};return void 0!==o&&l(d,o),r[i]=d,ci.prototype[i]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,i).apply(this,h?t:[])},d},createFirebaseNamespace:di,extendNamespace:function(t){l(r,t)},createSubscribe:h,ErrorFactory:oi,removeApp:function(t){i(o[t],"delete"),delete o[t]},factories:s,useAsService:n,Promise:Promise,deepExtend:l}};return c(r,"default",r),Object.defineProperty(r,"apps",{get:e}),c(t,"App",ci),r}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e(t.firebase)}(this,function(t){"use strict";try{(function(){function e(t,e){function i(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function i(t,e,i,n){return new(i||(i=Promise))(function(o,s){function a(t){try{l(n.next(t))}catch(t){s(t)}}function r(t){try{l(n["throw"](t))}catch(t){s(t)}}function l(t){t.done?o(t.value):new i(function(e){e(t.value)}).then(a,r)}l((n=n.apply(t,e||[])).next())})}function n(t,e){function i(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(s=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(s=s.call(o,i[1])).done)return s;switch(o=0,s&&(i=[0,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,o=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(s=(s=r.trys).length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){r.label=i[1];break}if(6===i[0]&&r.label<s[1]){r.label=s[1],s=i;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(i);break}s[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(t){i=[6,t],o=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}var n,o,s,a,r={
label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function o(t,e){var i=new k(t,e);return i.subscribe.bind(i)}function s(){}function a(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var i=new DataView(t),n=new DataView(e),o=0;o<t.byteLength;o++)if(i.getUint8(o)!==n.getUint8(o))return!1;return!0}function r(t){return function(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(null,e))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),n=new Uint8Array(i.length),o=0;o<i.length;++o)n[o]=i.charCodeAt(o);return n}function c(){var t=indexedDB.open(I);t.onerror=function(){},t.onsuccess=function(){!function(t){if(t.objectStoreNames.contains(O)){var e=t.transaction(O).objectStore(O),i=new L,n=e.openCursor();n.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},n.onsuccess=function(){var e=n.result;if(e){var o=e.value;i.deleteToken(o.fcmSenderId,o.fcmToken,o.fcmPushSet),e["continue"]()}else t.close(),indexedDB.deleteDatabase(I)}}}(t.result)}}function h(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw S.create(C.BAD_TOKEN);if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw S.create(C.BAD_SCOPE);if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw S.create(C.BAD_VAPID_KEY);if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw S.create(C.BAD_SUBSCRIPTION);if(t.auth&&!(t.auth instanceof ArrayBuffer))throw S.create(C.BAD_SUBSCRIPTION);if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw S.create(C.BAD_SUBSCRIPTION);if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw S.create(C.BAD_SENDER_ID);if(t.fcmPushSet&&("string"!=typeof t.fcmPushSet||0===t.fcmPushSet.length))throw S.create(C.BAD_PUSH_SET)}function d(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function u(t,e){return(i={})[w.TYPE_OF_MSG]=t,i[w.DATA]=e,i;var i}function p(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}t=t&&t.hasOwnProperty("default")?t["default"]:t;var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},m=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},g="FirebaseError",v=Error.captureStackTrace,y=function(t,e){if(this.code=t,this.message=e,v)v(this,b.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=g,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}};y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y.prototype.name=g;var b=function(){function t(t,e,i){this.service=t,this.serviceName=e,this.errors=i,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var i,n=this.errors[t],o=this.service+"/"+t;i=void 0===n?"Error":n.replace(this.pattern,function(t,i){var n=e[i];return void 0!==n?n.toString():"<"+i+"?>"}),i=this.serviceName+": "+i+" ("+o+").";var s=new y(o,i);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(s[a]=e[a]);return s},t}();!function(t){function i(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var i=1;i<e.blockSize;++i)e.pad_[i]=0;return e.reset(),e}e(i,t),i.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},i.prototype.compress_=function(t,e){e||(e=0);var i=this.W_;if("string"==typeof t)for(var n=0;n<16;n++)i[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(n=0;n<16;n++)i[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(n=16;n<80;n++){var o=i[n-3]^i[n-8]^i[n-14]^i[n-16];i[n]=4294967295&(o<<1|o>>>31)}var s,a,r=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4];for(n=0;n<80;n++)n<40?n<20?(s=h^l&(c^h),a=1518500249):(s=l^c^h,a=1859775393):n<60?(s=l&c|h&(l|c),a=2400959708):(s=l^c^h,a=3395469782),o=(r<<5|r>>>27)+s+d+a+i[n]&4294967295,d=h,h=c,c=4294967295&(l<<30|l>>>2),l=r,r=o;this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},i.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var i=e-this.blockSize,n=0,o=this.buf_,s=this.inbuf_;n<e;){if(0==s)for(;n<=i;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(o[s]=t.charCodeAt(n),++n,++s==this.blockSize){this.compress_(o),s=0;break}}else for(;n<e;)if(o[s]=t[n],++n,++s==this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=e}},i.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(i=0;i<5;i++)for(var o=24;o>=0;o-=8)t[n]=this.chain_[i]>>o&255,++n;return t}}(function(){this.blockSize=-1});var _,w,x,k=function(){function t(t,e){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(i)})["catch"](function(t){i.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,i){var n,o=this;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");void 0===(n=function(t){if("object"!=typeof t||null===t)return!1;for(var e=0,i=["next","error","complete"];e<i.length;e++){var n=i[e];if(n in t&&"function"==typeof t[n])return!0}return!1}(t)?t:{next:t,error:e,complete:i}).next&&(n.next=s),void 0===n.error&&(n.error=s),void 0===n.complete&&(n.complete=s);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?n.error(o.finalError):n.complete()}catch(t){}}),this.observers.push(n),a},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var i=this;this.task.then(function(){if(void 0!==i.observers&&void 0!==i.observers[t])try{e(i.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}(),C={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},T=((_={})[C.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",_[C.AVAILABLE_IN_SW]="This method is available in a service worker context.",_[C.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",_[C.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",_[C.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",_[C.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",_[C.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",_[C.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",_[C.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",_[C.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",_[C.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",_[C.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",_[C.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",_[C.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",_[C.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",_[C.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",_[C.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",_[C.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",_[C.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",_[C.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",_[C.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",_[C.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",_[C.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",_[C.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",_[C.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",_[C.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",_[C.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",_[C.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",_[C.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",_[C.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",_[C.BAD_SCOPE]="The service worker scope must be a string with at least one character.",_[C.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",_[C.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",_[C.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",_[C.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",_[C.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",_[C.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",_[C.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",_),S=new b("messaging","Messaging",T),P=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),E="https://fcm.googleapis.com";!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(w||(w={})),function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(x||(x={}));var j,L=function(){function t(){}return t.prototype.getToken=function(t,e,o){return i(this,void 0,void 0,function(){var i,s,l,c,h,d,u,p;return n(this,function(n){switch(n.label){case 0:i=r(e.getKey("p256dh")),s=r(e.getKey("auth")),l="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+s,a(o.buffer,P.buffer)||(c=r(o),l+="&application_pub_key="+c),(h=new Headers).append("Content-Type","application/x-www-form-urlencoded"),d={method:"POST",headers:h,body:l},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(E+"/fcm/connect/subscribe",d)];case 2:return[4,n.sent().json()];case 3:return u=n.sent(),[3,5];case 4:throw n.sent(),S.create(C.TOKEN_SUBSCRIBE_FAILED);case 5:if(u.error)throw p=u.error.message,S.create(C.TOKEN_SUBSCRIBE_FAILED,{message:p});if(!u.token)throw S.create(C.TOKEN_SUBSCRIBE_NO_TOKEN);if(!u.pushSet)throw S.create(C.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:u.token,pushSet:u.pushSet}]}})})},t.prototype.updateToken=function(t,e,o,s,l){return i(this,void 0,void 0,function(){var i,c,h,d,u,p,f,m;return n(this,function(n){switch(n.label){case 0:i=r(s.getKey("p256dh")),c=r(s.getKey("auth")),h="push_set="+o+"&token="+e+"&authorized_entity="+t+"&endpoint="+s.endpoint+"&encryption_key="+i+"&encryption_auth="+c,a(l.buffer,P.buffer)||(d=r(l),h+="&application_pub_key="+d),(u=new Headers).append("Content-Type","application/x-www-form-urlencoded"),p={method:"POST",headers:u,body:h},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(E+"/fcm/connect/subscribe",p)];case 2:return[4,n.sent().json()];case 3:return f=n.sent(),[3,5];case 4:throw n.sent(),S.create(C.TOKEN_UPDATE_FAILED);case 5:if(f.error)throw m=f.error.message,S.create(C.TOKEN_UPDATE_FAILED,{message:m});if(!f.token)throw S.create(C.TOKEN_UPDATE_NO_TOKEN);return[2,f.token]}})})},t.prototype.deleteToken=function(t,e,o){return i(this,void 0,void 0,function(){var i,s,a,r,l;return n(this,function(n){switch(n.label){case 0:i="authorized_entity="+t+"&token="+e+"&pushSet="+o,(s=new Headers).append("Content-Type","application/x-www-form-urlencoded"),a={method:"POST",headers:s,body:i},n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(E+"/fcm/connect/unsubscribe",a)];case 2:return[4,n.sent().json()];case 3:if((r=n.sent()).error)throw l=r.error.message,S.create(C.TOKEN_UNSUBSCRIBE_FAILED,{message:l});return[3,5];case 4:throw n.sent(),S.create(C.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},t}(),I="undefined",O="fcm_token_object_Store",A=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){return this.createTransaction(function(i){return i.index(t).get(e)})},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype["delete"]=function(t){return this.createTransaction(function(e){return e["delete"](t)},"readwrite")},t.prototype.closeDatabase=function(){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t.sent().close(),this.dbPromise=null,t.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),i(this,void 0,void 0,function(){var i,o,s,a;return n(this,function(n){switch(n.label){case 0:return[4,this.getDb()];case 1:return i=n.sent(),o=i.transaction(this.objectStoreName,e),s=o.objectStore(this.objectStoreName),[4,function(t){return new Promise(function(e,i){t.onsuccess=function(){e(t.result)},t.onerror=function(){i(t.error)}})}(t(s))];case 2:return a=n.sent(),[2,new Promise(function(t,e){o.oncomplete=function(){t(a)},o.onerror=function(){e(o.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,i){var n=indexedDB.open(t.dbName,t.dbVersion);n.onsuccess=function(){e(n.result)},n.onerror=function(){t.dbPromise=null,i(n.error)},n.onupgradeneeded=function(e){return t.onDbUpgrade(n,e)}})),this.dbPromise},t}(),D=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return e(o,t),o.prototype.onDbUpgrade=function(t,e){var i=t.result;switch(e.oldVersion){case 0:(n=i.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),n.createIndex("fcmToken","fcmToken",{unique:!0});case 1:c();case 2:var n,o=(n=t.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var t=o.result;if(t){var e=t.value,i=m({},e);e.createTime||(i.createTime=Date.now()),"string"==typeof e.vapidKey&&(i.vapidKey=l(e.vapidKey)),"string"==typeof e.auth&&(i.auth=l(e.auth).buffer),"string"==typeof e.auth&&(i.p256dh=l(e.p256dh).buffer),t.update(i),t["continue"]()}}}},o.prototype.getTokenDetailsFromToken=function(t){return i(this,void 0,void 0,function(){return n(this,function(){if(!t)throw S.create(C.BAD_TOKEN);return h({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},o.prototype.getTokenDetailsFromSWScope=function(t){return i(this,void 0,void 0,function(){return n(this,function(){if(!t)throw S.create(C.BAD_SCOPE);return h({swScope:t}),[2,this.get(t)]})})},o.prototype.saveTokenDetails=function(t){return i(this,void 0,void 0,function(){return n(this,function(){if(!t.swScope)throw S.create(C.BAD_SCOPE);if(!t.vapidKey)throw S.create(C.BAD_VAPID_KEY);if(!t.endpoint||!t.auth||!t.p256dh)throw S.create(C.BAD_SUBSCRIPTION);if(!t.fcmSenderId)throw S.create(C.BAD_SENDER_ID);if(!t.fcmToken)throw S.create(C.BAD_TOKEN);if(!t.fcmPushSet)throw S.create(C.BAD_PUSH_SET);return h(t),[2,this.put(t)]})})},o.prototype.deleteToken=function(t){return i(this,void 0,void 0,function(){var e;return n(this,function(i){switch(i.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(S.create(C.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=i.sent()))throw S.create(C.DELETE_TOKEN_NOT_FOUND);return[4,this["delete"](e.swScope)];case 2:return i.sent(),[2,e]}})})},o}(A),M=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return e(o,t),o.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},o.prototype.getVapidFromSWScope=function(t){return i(this,void 0,void 0,function(){var e;return n(this,function(i){switch(i.label){case 0:if("string"!=typeof t||0===t.length)throw S.create(C.BAD_SCOPE);return[4,this.get(t)];case 1:return[2,(e=i.sent())?e.vapidKey:void 0]}})})},o.prototype.saveVapidDetails=function(t,e){return i(this,void 0,void 0,function(){var i;return n(this,function(){if("string"!=typeof t||0===t.length)throw S.create(C.BAD_SCOPE);if(null===e||65!==e.length)throw S.create(C.BAD_VAPID_KEY);return i={swScope:t,vapidKey:e},[2,this.put(i)]})})},o.prototype.deleteVapidDetails=function(t){return i(this,void 0,void 0,function(){var e;return n(this,function(i){switch(i.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=i.sent()))throw S.create(C.DELETE_SCOPE_NOT_FOUND);return[4,this["delete"](t)];case 2:return i.sent(),[2,e]}})})},o}(A),z="messagingSenderId",B=function(){function t(t){var e=this;if(!t.options[z]||"string"!=typeof t.options[z])throw S.create(C.BAD_SENDER_ID);this.messagingSenderId=t.options[z],this.tokenDetailsModel=new D,this.vapidDetailsModel=new M,this.iidModel=new L,this.app=t,this.INTERNAL={"delete":function(){return e["delete"]()}}}return t.prototype.getToken=function(){return i(this,void 0,void 0,function(){var t,e,i,o,s;return n(this,function(n){switch(n.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw S.create(C.NOTIFICATIONS_BLOCKED);return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return e=n.sent(),[4,this.getPublicVapidKey_()];case 2:return i=n.sent(),[4,this.getPushSubscription(e,i)];case 3:return o=n.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return(s=n.sent())?[2,this.manageExistingToken(e,o,i,s)]:[2,this.getNewToken(e,o,i)]}})})},t.prototype.manageExistingToken=function(t,e,o,s){return i(this,void 0,void 0,function(){return n(this,function(i){switch(i.label){case 0:return function(t,e,i){if(!i.vapidKey||!a(e.buffer,i.vapidKey.buffer))return!1;var n=t.endpoint===i.endpoint,o=a(t.getKey("auth"),i.auth),s=a(t.getKey("p256dh"),i.p256dh);return n&&o&&s}(e,o,s)?Date.now()<s.createTime+6048e5?[2,s.fcmToken]:[2,this.updateToken(t,e,o,s)]:[4,this.deleteTokenFromDB(s.fcmToken)];case 1:return i.sent(),[2,this.getNewToken(t,e,o)]}})})},t.prototype.updateToken=function(t,e,o,s){return i(this,void 0,void 0,function(){var i,a,r;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,s.fcmToken,s.fcmPushSet,e,o)];case 1:return i=n.sent(),a={swScope:t.scope,vapidKey:o,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:s.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(a)];case 2:return n.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,o)];case 3:return n.sent(),[2,i];case 4:return r=n.sent(),[4,this.deleteToken(s.fcmToken)];case 5:throw n.sent(),r;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,o){return i(this,void 0,void 0,function(){var i,s;return n(this,function(n){switch(n.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,o)];case 1:return i=n.sent(),s={swScope:t.scope,vapidKey:o,fcmSenderId:this.messagingSenderId,fcmToken:i.token,fcmPushSet:i.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(s)];case 2:return n.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,o)];case 3:return n.sent(),[2,i.token]}})})},t.prototype.deleteToken=function(t){return i(this,void 0,void 0,function(){var e,i;return n(this,function(n){switch(n.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return n.sent(),[4,this.getSWRegistration_()];case 2:return(e=n.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(i=n.sent())return[2,i.unsubscribe()];n.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return i(this,void 0,void 0,function(){var e;return n(this,function(i){switch(i.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=i.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return i.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(i){return i||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw S.create(C.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(){throw S.create(C.AVAILABLE_IN_WINDOW)},t.prototype.usePublicVapidKey=function(){throw S.create(C.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(){throw S.create(C.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(){throw S.create(C.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(){throw S.create(C.AVAILABLE_IN_SW)},t.prototype["delete"]=function(){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIidModel=function(){return this.iidModel},t}(),N=function(t){function o(e){var i=t.call(this,e)||this;return i.bgMessageHandler=null,self.addEventListener("push",function(t){i.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){i.onSubChange(t)}),self.addEventListener("notificationclick",function(t){i.onNotificationClick(t)}),i}return e(o,t),o.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},o.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},o.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},o.prototype.onPush_=function(t){return i(this,void 0,void 0,function(){var e,i,o,s,a,r;return n(this,function(n){switch(n.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return n.sent()?[2,this.sendMessageToWindowClients_(e)]:(i=this.getNotificationData_(e))?(o=i.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return s=n.sent(),a=i.actions,r=Notification.maxActions,a&&r&&a.length>r&&console.warn("This browser only supports "+r+" actions.The remaining actions will not be displayed."),[2,s.showNotification(o,i)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return n.sent(),[2];case 5:return[2]}})})},o.prototype.onSubChange_=function(){return i(this,void 0,void 0,function(){var t,e,i,o;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=n.sent(),[3,3];case 2:throw e=n.sent(),S.create(C.UNABLE_TO_RESUBSCRIBE,{message:e});case 3:return n.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return n.sent(),[3,8];case 5:return i=n.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(o=n.sent()))throw i;return[4,this.deleteToken(o.fcmToken)];case 7:throw n.sent(),i;case 8:return[2]}})})},o.prototype.onNotificationClick_=function(t){return i(this,void 0,void 0,function(){var e,i,o,s;return n(this,function(n){switch(n.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(e=t.notification.data.FCM_MSG).notification&&(i=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)?[4,this.getWindowClient_(i)]:[2]):[2];case 1:return(o=n.sent())?[3,3]:[4,self.clients.openWindow(i)];case 2:return o=n.sent(),[3,5];case 3:return[4,o.focus()];case 4:o=n.sent(),n.label=5;case 5:return o?(delete e.notification,delete e.fcmOptions,s=u(x.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(o,s)]):[2]}})})},o.prototype.getNotificationData_=function(t){if(t&&"object"==typeof t.notification){var e,i=m({},t.notification);return i.data=m({},t.notification.data,((e={}).FCM_MSG=t,e)),i}},o.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw S.create(C.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=t},o.prototype.getWindowClient_=function(t){return i(this,void 0,void 0,function(){var e,i,o,s;return n(this,function(n){switch(n.label){case 0:return e=new URL(t,self.location.href).href,[4,d()];case 1:for(i=n.sent(),o=null,s=0;s<i.length;s++)if(new URL(i[s].url,self.location.href).href===e){o=i[s];break}return[2,o]}})})},o.prototype.attemptToMessageClient_=function(t,e){return i(this,void 0,void 0,function(){return n(this,function(){if(!t)throw S.create(C.NO_WINDOW_CLIENT_TO_MSG);return t.postMessage(e),[2]})})},o.prototype.hasVisibleClients_=function(){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().some(function(t){return"visible"===t.visibilityState})]}})})},o.prototype.sendMessageToWindowClients_=function(t){return i(this,void 0,void 0,function(){var e,i,o=this;return n(this,function(n){switch(n.label){case 0:return[4,d()];case 1:return e=n.sent(),i=u(x.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return o.attemptToMessageClient_(t,i)}))];case 2:return n.sent(),[2]}})})},o.prototype.getSWRegistration_=function(){return i(this,void 0,void 0,function(){return n(this,function(){return[2,self.registration]})})},o.prototype.getPublicVapidKey_=function(){return i(this,void 0,void 0,function(){var t,e;return n(this,function(i){switch(i.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=i.sent()))throw S.create(C.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(e=i.sent())?[2,P]:[2,e]}})})},o}(B),R=function(t){function s(e){var i=t.call(this,e)||this;return i.registrationToUse=null,i.publicVapidKeyToUse=null,i.manifestCheckPromise=null,i.messageObserver=null,i.tokenRefreshObserver=null,i.onMessageInternal=o(function(t){i.messageObserver=t}),i.onTokenRefreshInternal=o(function(t){i.tokenRefreshObserver=t}),i.setupSWMessageListener_(),i}return e(s,t),s.prototype.getToken=function(){return i(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return i(this,void 0,void 0,function(){var t,e;return n(this,function(i){switch(i.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return[4,i.sent().json()];case 3:return e=i.sent(),[3,5];case 4:return i.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==e.gcm_sender_id)throw S.create(C.INCORRECT_GCM_SENDER_ID);return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,t.prototype.getToken.call(this)]}})})},s.prototype.requestPermission=function(){return i(this,void 0,void 0,function(){var t;return n(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?S.create(C.PERMISSION_BLOCKED):S.create(C.PERMISSION_DEFAULT)}})})},s.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw S.create(C.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw S.create(C.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=t},s.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw S.create(C.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw S.create(C.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var e=l(t);if(65!==e.length)throw S.create(C.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=e},s.prototype.onMessage=function(t,e,i){return"function"==typeof t?this.onMessageInternal(t,e,i):this.onMessageInternal(t)},s.prototype.onTokenRefresh=function(t,e,i){return"function"==typeof t?this.onTokenRefreshInternal(t,e,i):this.onTokenRefreshInternal(t)},s.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(i,n){if(e)if("activated"!==e.state)if("redundant"!==e.state){var o=function(){if("activated"===e.state)i(t);else{if("redundant"!==e.state)return
;n(S.create(C.SW_REG_REDUNDANT))}e.removeEventListener("statechange",o)};e.addEventListener("statechange",o)}else n(S.create(C.SW_REG_REDUNDANT));else i(t);else n(S.create(C.NO_SW_IN_REG))})},s.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})["catch"](function(t){throw S.create(C.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},s.prototype.getPublicVapidKey_=function(){return i(this,void 0,void 0,function(){return n(this,function(){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,P]})})},s.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[w.TYPE_OF_MSG]){var i=e.data;switch(i[w.TYPE_OF_MSG]){case x.PUSH_MSG_RECEIVED:case x.NOTIFICATION_CLICKED:var n=i[w.DATA];t.messageObserver&&t.messageObserver.next(n)}}},!1)},s}(B);j={isSupported:p},t.INTERNAL.registerService("messaging",function(t){if(!p())throw S.create(C.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new N(t):new R(t)},j)}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-messaging - be sure to load firebase-app.js first.")}});class Msg{constructor(t,e){if(!window.WebSocket)throw new Error("no websockets found");const{onMessage:i,onStatusChange:n,idleTimeout:o,lastId:s}=e||{};this.onMessageHook=i,this.onStatusChange=n,this.idleTimeout=o||4e4,this.url=t,this.url.match(/^\w+:/)||(this.url=("https:"==window.location.protocol?"wss://":"ws://")+window.location.host+t),this.ws=null,this.doReconnect=!0,this.lastId=s,this.failures=0,this.hasError=null,this.lastTs=new Date,this.idleTimer=window.setInterval(this.tick.bind(this),this.idleTimeout/2),this.reconnect()}tick(){if(this.ws&&this.ws.OPEN==this.ws.readyState){new Date-this.lastTs>this.idleTimeout&&(console.log("ws gone dead"),this.emitStatusChange("timeout",{target:this.ws,type:"timeout"}),this.ws.close(),this.ws=null,this.reconnect())}}emitStatusChange(t,e){this.onStatusChange&&this.onStatusChange(t,e)}close(){this.doReconnect=!1,this.reconnect()}reconnect(){if(this.ws)return this.emitStatusChange("closing",{target:this.ws,type:"closing"}),void this.ws.close();let t=this.url;this.lastId&&(t=t+"?last="+this.lastId),this.ws=new WebSocket(t),this.emitStatusChange("connecting",{type:"connecting",target:this.ws}),console.log("ws",this.ws),this.ws.onclose=this.onClose.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onopen=this.onOpen.bind(this)}onOpen(t){t.target==this.ws?(console.log("open"),this.emitStatusChange("open",t),this.hasError=null,this.lastTs=new Date):console.error("ignoring OPEN for the previous websocket")}onClose(t){if(console.log("ws close:",t.code,t.reason),t.target==this.ws){if(this.ws=null,1e3==t.code)return this.doReconnect=!1,void this.emitStatusChange("ended",t);if(1013==t.code&&console.warn("upstream is unwell"),this.emitStatusChange("close",t),this.doReconnect){const t=Math.min(8,this.failures++),e=1e3*(5+Math.pow(2,t))*(.5+Math.random());window.setTimeout(this.reconnect.bind(this),e)}}else console.log("ignoring close for the previous websocket")}onError(t){t.target==this.ws?(this.hasError=t,this.emitStatusChange("error",t)):console.log("ignoring error for the previous websocket")}onMessage(t){if(t.target!=this.ws)return void console.warn("ignoring MESSAGE for the previous websocket");this.failures=0;const e=JSON.parse(t.data);this.lastTs=new Date,e.id&&(this.lastId=e.id),"msg/ping"!=e.type&&this.onMessageHook&&this.onMessageHook(t,e)}send(t){if(!this.ws)throw new Error("send() while not open");this.ws.send(JSON.stringify(t))}}_MOBILEPOPUP={link:"http://m.echo.msk.ru/",text:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0439\u0442\u0438<br />\u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0441\u0430\u0439\u0442\u0430",yes:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",no:"\u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f",id:"goToMobilePopUp",returntimeout:18e5},function(){var t=/\d+/.exec($("body").attr("data-main")),e="http://m.echo.msk.ru";/^\/news/.test(location.pathname)&&(e+=t?"/news/detail.php?ID="+t:"/news/"),/^\/blog/.test(location.pathname)&&(e+=t?"/blogs/detail.php?ID="+t:"/blogs/"),/^\/schedule/.test(location.pathname)&&(e+="/schedule/"),/^\/polls/.test(location.pathname)&&(e+="/polls/"),/^\/(contributors|guests)/.test(location.pathname)&&(e+=t?"/peoples/detail.php?ID="+t:"/peoples/"),/^\/(programs|interview)/.test(location.pathname)&&(t?/^P/.test($("body").attr("data-main"))?e+="/programs/detail.php?ID="+t:e+="/interview/detail.php?ID="+t:/^\/programs/.test(location.pathname)?e+="/programs/":e+="/interview/"),_MOBILEPOPUP.link=e}(),$(document).ready(function(){var t;window.echoInit!=undefined&&window.echoInit(),$(".cont_tab[data-selected]").each(function(){var t=$(this),e=t.attr("data-selected");t.find("a[data-key='"+e+"']").each(function(){$(this).addClass("current")})}),$("a.print").click(function(t){t.preventDefault(),link=$("link#css-print"),"all"==link.attr("media")?link.attr("media","print"):link.attr("media","all")}),$("div.typical a[href]:not([target])").each(function(){linkedHost=this.hostname.toLowerCase(),linkedHost!=window.location.hostname.toLowerCase()&&"echo.msk.ru"!=linkedHost&&$(this).attr("target","_blank")}),function(){var t="/elements/"+$("body").attr("data-main")+"/comments_page/",e=$(".commentPage .pager a");if(e.size()>0){var i=window.location.hash;e.find('a[href="'+i+'"]').each(function(){$(this).trigger("click")}),i.match(/^#cmnt-/)&&$.get(t+i.substr(1)+".html",function(t){$(".commentPage").html(t),window.location.hash=i})}$(document).on("click",".commentList .pager a.ajax",function(e){var i=$(this);$.get(t+i.attr("name")+".html",function(t){$(".commentPage").html(t),window.location.hash="#comments"}),e.preventDefault()}),$(document).on("change",".c_select",function(){var e=$(this).find("option:selected").val();switch(e){case"full":window.location.assign($(".com_titl h2 a").attr("href"));break;case"all":window.location.reload(),window.location.hash="#comments";break;case"answered":window.location.assign($("div.conthead a.right").attr("href"));break;case"queue":window.location.assign($("div.conthead a.right").attr("href")+"queue");break;default:$("div.commentPage").load(t+e+".html",function(){window.location.hash="#comments"})}})}(),function(){function t(t){t.hasClass("flag")&&(t.hasClass("on-state")?t.html("(\u0412\u044b \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u043b\u0438\u0441\u044c)"):t.html("\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),t.hasClass("like")&&t.parent().find("div.likeList").load(t.attr("href"))}$("a.like, a.recom").on("switch",function(t,e){var i=$(this);1==e?i.addClass("on-state"):i.removeClass("on-state")}),$("a.like").on("switch",function(t,e,i){if(i){var n=$(this);n.html('<span class="wsico">&nbsp;</span>'+i),n.parent().find("div.likeList").load(n.attr("href"))}}),$("a.recom").on("switch",function(t,e){var i=$(this);1==e?i.html('<span class="wsico">&nbsp;</span>\u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c'):i.html('<span class="wsico">&nbsp;</span>\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c')}),$(document).on("click","a.like, a.recom, a.flag, a.foe, a.ignor",function(e){var i=$(this),n={state:0,_method:"put"};if(i.hasClass("on-state"))n.state=0;else{if(i.hasClass("flag")&&!confirm("\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f?"))return void e.preventDefault();if(i.hasClass("ignor")){if(!confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u043d\u0435\u0441\u0442\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0447\u0451\u0440\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a?"))return void e.preventDefault();i.hide()}n.state=1}$.post(i.attr("href"),n,function(e){e.error?alert(e.error):i.hasClass("like")||i.hasClass("recom")?$('[href="'+i.attr("href")+'"]').trigger("switch",[e.state,e.count]):(1==e.state?i.addClass("on-state"):i.removeClass("on-state"),t(i))},"json"),e.preventDefault()}),$(document).on("click","a.hide",function(t){var e=$(this),i={};e.hasClass("delete")&&(i._method="delete"),$.post(e.attr("href"),i,function(t){e.parents("div.onecomm").first().replaceWith($(t).find("div.onecomm"))},"html"),t.preventDefault()}),$(document).on("click","a.ban-request",function(t){var e=$(this);confirm("\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0437\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")&&$.post(e.attr("href"),function(t){t.error?alert(t.error):(e.hide(),alert("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"))},"json"),t.preventDefault()});var e=$.data(document.body,"user")||{},i=e.access_level||0;i<6&&e.own_id&&$("div.blog").attr("data-creator")==e.own_id&&(i=6),e.liked&&$.each(e.liked,function(t,e){$('a[href="/likes/'+e+'/"]').trigger("switch",[1])}),e.foes&&$.each(e.foes,function(t,e){$("#foe"+e).addClass("on-state"),$('[data-author="'+e+'"]').each(function(){var t=$(this);t.hasClass("bcast-q")?t.html("(\u0432\u043e\u043f\u0440\u043e\u0441 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d)"):t.html("(\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d)")})}),$(document).on("mouseover",".onecomm.to-load",function(){var n=$(this);n.removeClass("to-load");var o=n.attr("data-author"),s=n.attr("data-mlevel"),a=n.find("div.morelink"),r=n.hasClass("cmnt-hidden"),l=n.find(".author .about"),c=a.find("a.like");if(e.own_id!=o&&e.liked&&e.flagged&&(e.liked.indexOf(a.attr("id"))>=0&&c.addClass("on-state").attr("title","\u0412\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043b\u0438"),3==s&&s++,i>=2&&n.find(".author a.dark").after('<a href="/foes/'+o+'" class="ignor">\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c</a>'),i>=3&&i<6&&(a.append('<a ref="nofollow" href="/flags/'+a.attr("id")+'" class="red flag">\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f</a>'),e.flagged.indexOf(a.attr("id"))>=0))){var h=a.find("a.flag");h.addClass("on-state"),t(h)}i>3&&i>s&&(r?a.append('<a rel="nofollow" href="/moderate/comments/'+a.attr("id")+'/unhide.html" class="red hide">(\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c)</a>'):a.append('<a rel="nofollow" href="/moderate/comments/'+a.attr("id")+'/hide.html" class="red hide">(\u0421\u043a\u0440\u044b\u0442\u044c)</a>'),i<6?l.size()>0&&e.own_id!=o&&a.append('<a rel="nofollow" href="/moderate/comments/'+a.attr("id")+'/ban_request.html" class="red ban-request">(\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0431\u0430\u043d)</a>'):(a.append('<a rel="nofollow" href="/moderate/comments/'+a.attr("id")+'.html" class="red hide delete">(\u0423\u0434\u0430\u043b\u0438\u0442\u044c)</a>'),l.size()>0&&a.append('<a rel="nofollow" href="/moderate/comments/'+a.attr("id")+'/ban.html" class="red hide">(\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c)</a>'))),i>3&&0==l.size()&&a.append("<strong>(\u0417\u0430\u0431\u0430\u043d\u0435\u043d)</strong>")}),$(document).on("mouseover",".likeBlock.to-load",function(){var e=$(this);e.removeClass("to-load"),t(e.find("a.like"))})}(),$(document).on("click",".answ",function(t){var e=$(this),i=e.parents("div.onecomm").first();i.find(".error").remove(),i.find("div.answform").size()>0?$(".answform").remove().appendTo($(".commentPage")).hide():($(".answform").remove().appendTo(i).show(),$(".answform input#comment_parent_id").val(e.attr("data-parent-id")),$(".answform textarea#comment_body").val(i.find("strong.name").text()+": "+$(".answform textarea#comment_body").val())),t.preventDefault()}),$(document).on("ajax:success",".add-comm form",function(t,e){var i=$(e),n=$(this);n.parent().find(".error").remove(),i.hasClass("error")?n.before(i):(n.find("#qa_answer").size()>0?n.parents(".commBlock").first().replaceWith(i):n.find("#comment_parent_id").size()>0?(i.insertAfter(n.parents(".onecomm").first()),$(".answform").remove().appendTo($(".commentPage")).hide()):i.prependTo($("div.commentPage")),n.find("textarea").val(""))}),$(document).on("click",".qa-reply",function(t){t.preventDefault(),$(this).closest(".commBlock").find(".answform").toggle()}),$(document).on("ajax:success","a.qa-moderate",function(t,e){t.preventDefault(),$(this).closest(".commBlock").parents(".commBlock").first().replaceWith(e)}),t=$("div.avatar#setavatar"),$(".fileupload input[type=file]").on("change",function(){var e=new FormData;e.append(this.name,this.files[0]),$.ajax({url:$(this).data("path"),method:"POST",data:e,cache:!1,contentType:!1,processData:!1,error:function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")},success:function(e){$(".pic",t).html(e),$("a.delete",t).show()}})}),$(document).on("ajax:success","div.avatar#setavatar a.delete",function(e,i){$(".pic",t).html(i),$(this).hide()}),$(".filtrsearch input").click(function(){var t=$("#search_cond_search_"+$(this).val());$(this).attr("checked")?t.val("true"):t.val("")}),$("select.c_select#search_cond_when").change(function(){$("form#search_when").submit()}),$("a.calend input.calendar").on("change",function(){var t=$(this),e=t.closest("form"),i=e.data("format");if(i){var n=t.val().split(".").reverse(),o=e.attr("action");switch(i){case"schedule":e.attr("action",o+n.join("-")+".html");break;case"news":e.attr("action",o+n.join("/")+".html")}}"POST"==e.attr("method")?e.submit():location.href=e.attr("action")}),$(".mainpreview").on("change",function(t){var e=$(this),i=$("span[data-more]",e);t.preventDefault(),i.length>0?($(".moregiant a[href]",e).attr("href",i.data("more")),i.remove()):$(".moregiant",e).remove()}),$(document).delegate("[data-remote].replace-me","ajax:success",function(t,e){$(this).replaceWith(e)}),$(function(){$(".js-tabs").tabs(),$(".js-top-7").masonry({itemSelector:".js-top-7-item",columnWidth:220,gutter:20})}),$(function(){function t(){$("#user_club_req").attr("checked")?$(".club_only").show():$(".club_only").hide()}t(),$("#user_club_req").on("change",function(){t()})}),function(){var t=$("body").data("main");if(""!=t){var e=$.data(document.body,"user")||{},i={main:t};e.own_id&&(i.user_id=e.own_id),$.ajax({url:"/assets/counters.js",async:!0,cache:!1,data:i})}}(),$("form.voteform").submit(function(){var t=$(this).find(".free_answer");return t.size()>0&&""!=t.val()||(0!=$(this).find("span.checked").size()||(alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430"),!1))}),$("blockquote.tw").each(function(){var t=$(this),e=window.location.href,i=t.text();i.length>120||t.append('<span class="twitter-share-button"><span class="social_block"><span class="iblock tw_sharer"><a class="ico tw tw_btn" href="http://twitter.com/share?url='+e+"&text="+encodeURIComponent(i)+'" target="_blank" title="Retweet"><strong class="wsico">Q</strong><span>\u0422\u0432\u0438\u0442\u043d\u0443\u0442\u044c</span></a></span></span></span>')}),$(".notifications a.close").on("click",function(t){t.preventDefault(),$(this).closest(".notifications").fadeOut()}),function(){var t;if("undefined"!=typeof sched_current&&sched_current&&sched_now)for(t=0;t<sched_current.length;t+=1){var e=sched_current[t];if(sched_now>=e[0]){$(".liveprogtitle").html(e[1]);break}}}(),$(document).on("update",".person_list",function(){$(this).find(".audionota").audionota()}),function(){if(fbLink="https://www.facebook.com/dialog/feed?app_id=229675500419533&link="+document.URL+"&redirect_uri="+document.URL+"&name="+document.title+"&caption=",twLink="http://twitter.com/intent/tweet?text="+document.URL+"%20",$("meta[name=author]").size()>0){var t=$("meta[name=author]").attr("content");t.length>0&&(twLink+=encodeURIComponent(t+": "))}vkLink="https://vk.com/share.php?url="+document.URL+"&title="+document.title+"&description=",$("div.typical").contentshare({shareIcons:["/i/contentshare/fb.png","/i/contentshare/tw.png","/i/contentshare/vk.png"],shareLinks:[fbLink,twLink,vkLink]}),$.fn.contentshare.defaults.shareable.on("mouseup",function(){$.fn.contentshare.showTooltip()})}(),window.localStorage&&function(){function t(t){"default"==t?window.localStorage.setItem("msg_ts",(new Date).getTime().toString()):window.localStorage.removeItem("msg_ts"),t!=o&&(console.log("setting msg_ax to",t),window.localStorage.setItem("msg_ax",t),setTimeout(function(){$(document).trigger("push:subscription",t)},1e3))}function e(e){n.getToken().then(function(n){if(!n)return console.log("no fcm token"),void(e&&i());window.localStorage.getItem("fcm_id")!=n?(t("allow"),console.log("sending new token to server"),$.post("/api/push",{token:n},function(t){t.error?console.log("server error: "+t.error):(window.localStorage.setItem("fcm_id",n),console.log("sent new token to server"))})):console.log("known fcm token")})["catch"](function(t){console.log("getToken(): "+t)})}function i(){if("default"==o){var i=window.localStorage.getItem("msg_ts");if(i){var s=new Date(parseFloat(i));if(new Date-s<864e5)return void console.log("Won't request msg permission yet")}}n.requestPermission().then(function(){console.log("Notification permission granted."),e(!1)})["catch"](function(e){console.log("Unable to get permission to notify.",e),t("messaging/permission-default"==e.code?"default":"block")})}firebase.initializeApp({messagingSenderId:"57466097932"});var n=firebase.messaging();navigator.serviceWorker.register("/sw.js").then(function(t){n.useServiceWorker(t)}),n.usePublicVapidKey("BOVTxlHEoDeY7lxfeCZhwGM4OjLglM2X9Qxxr9_tDwX_T15dcyYlRWMan57WlrdmKdhrPIgT1thSxJz3-7s9Hao");var o=window.localStorage.getItem("msg_ax")||"default";e(!0),n.onMessage(function(t){console.log("foreground:",t)}),navigator.serviceWorker.addEventListener("message",function(t){console.log("sw message:",t)})}();const e=document.querySelector("[data-msg-url]");if(window.WebSocket&&e){const t=document.querySelector(".online__list > .online__hint"),i=function(e,i){t.className=`online__hint ${e}`,t.querySelector("span").innerText=i},n=e.dataset.msgLast;let o=0;const s=document.querySelector('link[rel="icon"]');e.addEventListener("click",function(){o=0,e.innerHTML="<span>\u041d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c 0 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439",e.classList.add("hidden"),s.type="image/x-icon",s.href="/favicon.ico",document.querySelectorAll(".online__list-item.hidden").forEach(t=>t.classList.remove("hidden"))});const a=function(e,n){switch(console.log("msg status",e,n),e){case"ended":t.innerHTML="\u041e\u043d\u043b\u0430\u0439\u043d \u0437\u0430\u0432\u0435\u0440\u0448\u0451\u043d.";break;case"close":i("live-error","\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u043e...");break;case"open":i("ongoing","\u041b\u0435\u043d\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438.");break;case"connecting":i("connecting","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435...");break;case"closing":i("live-error","\u0421\u0431\u043e\u0439 \u0441\u0435\u0442\u0438. \u0417\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f...");break;case"timeout":i("live-error","\u041f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f");break;case"error":i("live-error","\u041e\u0448\u0438\u0431\u043a\u0430");break;default:console.log("unknown status",e)}},r=function(t,i){const n="#quip-"+i.quip_id;let a=document.querySelector(n);if(a&&a.dataset.observed&&xecob.unobserve(a),"delete"==i.type)return void(a&&(a.style.backgroundColor="#aaa",a.addEventListener("transitionend",t=>t.target.remove()),a.style.transition="opacity 2s",a.style.opacity="0"));if("update"!=i.type&&"create"!=i.type)return void console.error("unknown data type",i.type);const r=new Date(i.approved_at);let l=r.toTimeString().slice(0,5);new Date-r>864e5&&(l=i.approved_at.replace(/^(\d{4})-(\d\d)-(\d\d)T(\d\d:\d\d).*$/,"$3.$2.$1 $4"));const c=!a||a.classList.contains("hidden"),h=`\n      <div\n        class="online__list-item ${i.important?"m-important":""} ${c?"hidden":""}"\n        id="quip-${i.quip_id}">\n        <div class="online__list-item-time">${l}</div>\n        <div class="online__list-item-content">\n          ${i.body}\n        </div>\n        <input type="hidden" id="quip-meat-${i.quip_id}" data-quip="${i.quip_id}" />\n      </div>`;if(a)a.outerHTML=h;else{let t=++o%100,i="\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439";1==(t=t>=10&&t<20?9:t%10)?i="\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435":t>=2&&t<=4&&(i="\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f"),s.type="image/png",s.href="/i/icons/favicon-alert.png",e.innerHTML=`<span>\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ${o} ${i}`,e.classList.remove("hidden"),e.insertAdjacentHTML("afterend",h),a=document.querySelector(n)}i.meat&&(a.querySelector(`#quip-meat-${i.quip_id}`).value=JSON.serialize(i.meat),a.dataset.observed=!0,xecob.observe(a))};new Msg(e.dataset.msgUrl,{onStatusChange:a,onMessage:r,lastId:n})}});